{"version":3,"file":"site.bundle.js","mappings":"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","sources":["webpack://ktistec/webpack/runtime/load script","webpack://ktistec/./src/assets/js/controllers/dropdown_controller.js","webpack://ktistec/./src/assets/js/controllers/ sync \\.js$","webpack://ktistec/./src/assets/js/controllers/modal_action_controller.js","webpack://ktistec/./node_modules/lightgallery/lightgallery.es5.js","webpack://ktistec/./node_modules/lightgallery/plugins/zoom/lg-zoom.es5.js","webpack://ktistec/./node_modules/lightgallery/plugins/rotate/lg-rotate.es5.js","webpack://ktistec/./src/assets/js/controllers/image_gallery_controller.js","webpack://ktistec/./src/assets/js/controllers/clickable_background_controller.js","webpack://ktistec/./src/assets/js/controllers/checkbox_submit_controller.js","webpack://ktistec/./src/assets/js/controllers/local_timezone_controller.js","webpack://ktistec/./src/assets/js/controllers/trix_controller.js","webpack://ktistec/./node_modules/trix/dist/trix.esm.min.js","webpack://ktistec/./src/assets/js/controllers/chart_controller.js","webpack://ktistec/./src/assets/js/controllers/icon_load_error_controller.js","webpack://ktistec/./src/assets/js/controllers/has_content_controller.js","webpack://ktistec/./node_modules/@hotwired/stimulus/dist/stimulus.js","webpack://ktistec/./src/assets/js/controllers/default_language_controller.js","webpack://ktistec/webpack/bootstrap","webpack://ktistec/webpack/runtime/define property getters","webpack://ktistec/webpack/runtime/ensure chunk","webpack://ktistec/webpack/runtime/get javascript chunk filename","webpack://ktistec/webpack/runtime/get mini-css chunk filename","webpack://ktistec/webpack/runtime/global","webpack://ktistec/webpack/runtime/hasOwnProperty shorthand","webpack://ktistec/webpack/runtime/make namespace object","webpack://ktistec/webpack/runtime/publicPath","webpack://ktistec/webpack/runtime/jsonp chunk loading","webpack://ktistec/./node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js","webpack://ktistec/./src/assets/js/main.js","webpack://ktistec/./node_modules/@hotwired/stimulus-webpack-helpers/dist/stimulus-webpack-helpers.js"],"sourcesContent":["var inProgress = {};\nvar dataWebpackPrefix = \"ktistec:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","import { Controller } from \"@hotwired/stimulus\"\n\n/**\n * Show/hide a dropdown menu.\n */\nexport default class extends Controller {\n  click(event) {\n    let menu = this.element.querySelector(\".menu\")\n    if (menu) {\n      menu.style.display =\n        menu.style.display ?\n        null : \"block\"\n    }\n  }\n}\n","var map = {\n\t\"./chart_controller.js\": 535,\n\t\"./checkbox_submit_controller.js\": 349,\n\t\"./clickable_background_controller.js\": 334,\n\t\"./default_language_controller.js\": 893,\n\t\"./dropdown_controller.js\": 102,\n\t\"./has_content_controller.js\": 833,\n\t\"./icon_load_error_controller.js\": 650,\n\t\"./image_gallery_controller.js\": 293,\n\t\"./local_timezone_controller.js\": 388,\n\t\"./modal_action_controller.js\": 289,\n\t\"./trix_controller.js\": 468\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 250;","import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  show(event) {\n    event.preventDefault()\n\n    let form = this.element.closest(\"form\")\n    let modal = document.querySelector(`.ui.modal.${this.element.dataset.modal}`)\n    let buttonOk = modal.querySelector(\".ui.button.ok\")\n    let buttonCancel = modal.querySelector(\".ui.button.cancel\")\n    let body = document.querySelector(\"body\")\n\n    if (!modal.parentElement.classList.contains(\"dimmer\")) {\n      let div = document.createElement(\"div\")\n      div.classList.add(\"ui\")\n      div.classList.add(\"dimmer\")\n      div.append(modal)\n      body.append(div)\n    }\n\n    let dimmer = modal.parentElement\n\n    let okFn = function () {\n      teardownFn()\n      form.submit()\n    }\n    let escapeFn = function (event) {\n      if (event.key == \"Escape\") {\n        teardownFn()\n      }\n    }\n    let cancelFn = function () {\n      teardownFn()\n    }\n\n    let teardownFn = function () {\n      buttonOk.removeEventListener(\"click\", okFn)\n      buttonCancel.removeEventListener(\"click\", cancelFn)\n      document.removeEventListener(\"keydown\", escapeFn)\n      dimmer.removeEventListener(\"click\", cancelFn)\n\n      modal.classList.remove(\"active\")\n      dimmer.classList.remove(\"active\")\n      body.classList.remove(\"dimmed\")\n    }\n\n    buttonOk.addEventListener(\"click\", okFn)\n    buttonCancel.addEventListener(\"click\", cancelFn)\n    document.addEventListener(\"keydown\", escapeFn)\n    dimmer.addEventListener(\"click\", cancelFn)\n\n    setTimeout(() => modal.classList.add(\"active\"), 20)\n    dimmer.classList.add(\"active\")\n    body.classList.add(\"dimmed\")\n  }\n}\n","/*!\n * lightgallery | 2.8.3 | March 1st 2025\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n    autoplay: 'lgAutoplay',\r\n    autoplayStart: 'lgAutoplayStart',\r\n    autoplayStop: 'lgAutoplayStop',\r\n};\n\nvar lightGalleryCoreSettings = {\r\n    mode: 'lg-slide',\r\n    easing: 'ease',\r\n    speed: 400,\r\n    licenseKey: '0000-0000-000-0000',\r\n    height: '100%',\r\n    width: '100%',\r\n    addClass: '',\r\n    startClass: 'lg-start-zoom',\r\n    backdropDuration: 300,\r\n    container: '',\r\n    startAnimationDuration: 400,\r\n    zoomFromOrigin: true,\r\n    hideBarsDelay: 0,\r\n    showBarsAfter: 10000,\r\n    slideDelay: 0,\r\n    supportLegacyBrowser: true,\r\n    allowMediaOverlap: false,\r\n    videoMaxSize: '1280-720',\r\n    loadYouTubePoster: true,\r\n    defaultCaptionHeight: 0,\r\n    ariaLabelledby: '',\r\n    ariaDescribedby: '',\r\n    resetScrollPosition: true,\r\n    hideScrollbar: false,\r\n    closable: true,\r\n    swipeToClose: true,\r\n    closeOnTap: true,\r\n    showCloseIcon: true,\r\n    showMaximizeIcon: false,\r\n    loop: true,\r\n    escKey: true,\r\n    keyPress: true,\r\n    trapFocus: true,\r\n    controls: true,\r\n    slideEndAnimation: true,\r\n    hideControlOnEnd: false,\r\n    mousewheel: false,\r\n    getCaptionFromTitleOrAlt: true,\r\n    appendSubHtmlTo: '.lg-sub-html',\r\n    subHtmlSelectorRelative: false,\r\n    preload: 2,\r\n    numberOfSlideItemsInDom: 10,\r\n    selector: '',\r\n    selectWithin: '',\r\n    nextHtml: '',\r\n    prevHtml: '',\r\n    index: 0,\r\n    iframeWidth: '100%',\r\n    iframeHeight: '100%',\r\n    iframeMaxWidth: '100%',\r\n    iframeMaxHeight: '100%',\r\n    download: true,\r\n    counter: true,\r\n    appendCounterTo: '.lg-toolbar',\r\n    swipeThreshold: 50,\r\n    enableSwipe: true,\r\n    enableDrag: true,\r\n    dynamic: false,\r\n    dynamicEl: [],\r\n    extraProps: [],\r\n    exThumbImage: '',\r\n    isMobile: undefined,\r\n    mobileSettings: {\r\n        controls: false,\r\n        showCloseIcon: false,\r\n        download: false,\r\n    },\r\n    plugins: [],\r\n    strings: {\r\n        closeGallery: 'Close gallery',\r\n        toggleMaximize: 'Toggle maximize',\r\n        previousSlide: 'Previous slide',\r\n        nextSlide: 'Next slide',\r\n        download: 'Download',\r\n        playVideo: 'Play video',\r\n        mediaLoadingFailed: 'Oops... Failed to load content...',\r\n    },\r\n};\n\nfunction initLgPolyfills() {\r\n    (function () {\r\n        if (typeof window.CustomEvent === 'function')\r\n            return false;\r\n        function CustomEvent(event, params) {\r\n            params = params || {\r\n                bubbles: false,\r\n                cancelable: false,\r\n                detail: null,\r\n            };\r\n            var evt = document.createEvent('CustomEvent');\r\n            evt.initCustomEvent(event, params.bubbles, params.cancelable, params.detail);\r\n            return evt;\r\n        }\r\n        window.CustomEvent = CustomEvent;\r\n    })();\r\n    (function () {\r\n        if (!Element.prototype.matches) {\r\n            Element.prototype.matches =\r\n                Element.prototype.msMatchesSelector ||\r\n                    Element.prototype.webkitMatchesSelector;\r\n        }\r\n    })();\r\n}\r\nvar lgQuery = /** @class */ (function () {\r\n    function lgQuery(selector) {\r\n        this.cssVenderPrefixes = [\r\n            'TransitionDuration',\r\n            'TransitionTimingFunction',\r\n            'Transform',\r\n            'Transition',\r\n        ];\r\n        this.selector = this._getSelector(selector);\r\n        this.firstElement = this._getFirstEl();\r\n        return this;\r\n    }\r\n    lgQuery.generateUUID = function () {\r\n        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {\r\n            var r = (Math.random() * 16) | 0, v = c == 'x' ? r : (r & 0x3) | 0x8;\r\n            return v.toString(16);\r\n        });\r\n    };\r\n    lgQuery.prototype._getSelector = function (selector, context) {\r\n        if (context === void 0) { context = document; }\r\n        if (typeof selector !== 'string') {\r\n            return selector;\r\n        }\r\n        context = context || document;\r\n        var fl = selector.substring(0, 1);\r\n        if (fl === '#') {\r\n            return context.querySelector(selector);\r\n        }\r\n        else {\r\n            return context.querySelectorAll(selector);\r\n        }\r\n    };\r\n    lgQuery.prototype._each = function (func) {\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        if (this.selector.length !== undefined) {\r\n            [].forEach.call(this.selector, func);\r\n        }\r\n        else {\r\n            func(this.selector, 0);\r\n        }\r\n        return this;\r\n    };\r\n    lgQuery.prototype._setCssVendorPrefix = function (el, cssProperty, value) {\r\n        // prettier-ignore\r\n        var property = cssProperty.replace(/-([a-z])/gi, function (s, group1) {\r\n            return group1.toUpperCase();\r\n        });\r\n        if (this.cssVenderPrefixes.indexOf(property) !== -1) {\r\n            el.style[property.charAt(0).toLowerCase() + property.slice(1)] = value;\r\n            el.style['webkit' + property] = value;\r\n            el.style['moz' + property] = value;\r\n            el.style['ms' + property] = value;\r\n            el.style['o' + property] = value;\r\n        }\r\n        else {\r\n            el.style[property] = value;\r\n        }\r\n    };\r\n    lgQuery.prototype._getFirstEl = function () {\r\n        if (this.selector && this.selector.length !== undefined) {\r\n            return this.selector[0];\r\n        }\r\n        else {\r\n            return this.selector;\r\n        }\r\n    };\r\n    lgQuery.prototype.isEventMatched = function (event, eventName) {\r\n        var eventNamespace = eventName.split('.');\r\n        return event\r\n            .split('.')\r\n            .filter(function (e) { return e; })\r\n            .every(function (e) {\r\n            return eventNamespace.indexOf(e) !== -1;\r\n        });\r\n    };\r\n    lgQuery.prototype.attr = function (attr, value) {\r\n        if (value === undefined) {\r\n            if (!this.firstElement) {\r\n                return '';\r\n            }\r\n            return this.firstElement.getAttribute(attr);\r\n        }\r\n        this._each(function (el) {\r\n            el.setAttribute(attr, value);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.find = function (selector) {\r\n        return $LG(this._getSelector(selector, this.selector));\r\n    };\r\n    lgQuery.prototype.first = function () {\r\n        if (this.selector && this.selector.length !== undefined) {\r\n            return $LG(this.selector[0]);\r\n        }\r\n        else {\r\n            return $LG(this.selector);\r\n        }\r\n    };\r\n    lgQuery.prototype.eq = function (index) {\r\n        return $LG(this.selector[index]);\r\n    };\r\n    lgQuery.prototype.parent = function () {\r\n        return $LG(this.selector.parentElement);\r\n    };\r\n    lgQuery.prototype.get = function () {\r\n        return this._getFirstEl();\r\n    };\r\n    lgQuery.prototype.removeAttr = function (attributes) {\r\n        var attrs = attributes.split(' ');\r\n        this._each(function (el) {\r\n            attrs.forEach(function (attr) { return el.removeAttribute(attr); });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.wrap = function (className) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        var wrapper = document.createElement('div');\r\n        wrapper.className = className;\r\n        this.firstElement.parentNode.insertBefore(wrapper, this.firstElement);\r\n        this.firstElement.parentNode.removeChild(this.firstElement);\r\n        wrapper.appendChild(this.firstElement);\r\n        return this;\r\n    };\r\n    lgQuery.prototype.addClass = function (classNames) {\r\n        if (classNames === void 0) { classNames = ''; }\r\n        this._each(function (el) {\r\n            // IE doesn't support multiple arguments\r\n            classNames.split(' ').forEach(function (className) {\r\n                if (className) {\r\n                    el.classList.add(className);\r\n                }\r\n            });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.removeClass = function (classNames) {\r\n        this._each(function (el) {\r\n            // IE doesn't support multiple arguments\r\n            classNames.split(' ').forEach(function (className) {\r\n                if (className) {\r\n                    el.classList.remove(className);\r\n                }\r\n            });\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.hasClass = function (className) {\r\n        if (!this.firstElement) {\r\n            return false;\r\n        }\r\n        return this.firstElement.classList.contains(className);\r\n    };\r\n    lgQuery.prototype.hasAttribute = function (attribute) {\r\n        if (!this.firstElement) {\r\n            return false;\r\n        }\r\n        return this.firstElement.hasAttribute(attribute);\r\n    };\r\n    lgQuery.prototype.toggleClass = function (className) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        if (this.hasClass(className)) {\r\n            this.removeClass(className);\r\n        }\r\n        else {\r\n            this.addClass(className);\r\n        }\r\n        return this;\r\n    };\r\n    lgQuery.prototype.css = function (property, value) {\r\n        var _this = this;\r\n        this._each(function (el) {\r\n            _this._setCssVendorPrefix(el, property, value);\r\n        });\r\n        return this;\r\n    };\r\n    // Need to pass separate namespaces for separate elements\r\n    lgQuery.prototype.on = function (events, listener) {\r\n        var _this = this;\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        events.split(' ').forEach(function (event) {\r\n            if (!Array.isArray(lgQuery.eventListeners[event])) {\r\n                lgQuery.eventListeners[event] = [];\r\n            }\r\n            lgQuery.eventListeners[event].push(listener);\r\n            _this.selector.addEventListener(event.split('.')[0], listener);\r\n        });\r\n        return this;\r\n    };\r\n    // @todo - test this\r\n    lgQuery.prototype.once = function (event, listener) {\r\n        var _this = this;\r\n        this.on(event, function () {\r\n            _this.off(event);\r\n            listener(event);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.off = function (event) {\r\n        var _this = this;\r\n        if (!this.selector) {\r\n            return this;\r\n        }\r\n        Object.keys(lgQuery.eventListeners).forEach(function (eventName) {\r\n            if (_this.isEventMatched(event, eventName)) {\r\n                lgQuery.eventListeners[eventName].forEach(function (listener) {\r\n                    _this.selector.removeEventListener(eventName.split('.')[0], listener);\r\n                });\r\n                lgQuery.eventListeners[eventName] = [];\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.trigger = function (event, detail) {\r\n        if (!this.firstElement) {\r\n            return this;\r\n        }\r\n        var customEvent = new CustomEvent(event.split('.')[0], {\r\n            detail: detail || null,\r\n        });\r\n        this.firstElement.dispatchEvent(customEvent);\r\n        return this;\r\n    };\r\n    // Does not support IE\r\n    lgQuery.prototype.load = function (url) {\r\n        var _this = this;\r\n        fetch(url)\r\n            .then(function (res) { return res.text(); })\r\n            .then(function (html) {\r\n            _this.selector.innerHTML = html;\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.html = function (html) {\r\n        if (html === undefined) {\r\n            if (!this.firstElement) {\r\n                return '';\r\n            }\r\n            return this.firstElement.innerHTML;\r\n        }\r\n        this._each(function (el) {\r\n            el.innerHTML = html;\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.append = function (html) {\r\n        this._each(function (el) {\r\n            if (typeof html === 'string') {\r\n                el.insertAdjacentHTML('beforeend', html);\r\n            }\r\n            else {\r\n                el.appendChild(html);\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.prepend = function (html) {\r\n        this._each(function (el) {\r\n            if (typeof html === 'string') {\r\n                el.insertAdjacentHTML('afterbegin', html);\r\n            }\r\n            else if (html instanceof HTMLElement) {\r\n                el.insertBefore(html.cloneNode(true), el.firstChild);\r\n            }\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.remove = function () {\r\n        this._each(function (el) {\r\n            el.parentNode.removeChild(el);\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.empty = function () {\r\n        this._each(function (el) {\r\n            el.innerHTML = '';\r\n        });\r\n        return this;\r\n    };\r\n    lgQuery.prototype.scrollTop = function (scrollTop) {\r\n        if (scrollTop !== undefined) {\r\n            document.body.scrollTop = scrollTop;\r\n            document.documentElement.scrollTop = scrollTop;\r\n            return this;\r\n        }\r\n        else {\r\n            return (window.pageYOffset ||\r\n                document.documentElement.scrollTop ||\r\n                document.body.scrollTop ||\r\n                0);\r\n        }\r\n    };\r\n    lgQuery.prototype.scrollLeft = function (scrollLeft) {\r\n        if (scrollLeft !== undefined) {\r\n            document.body.scrollLeft = scrollLeft;\r\n            document.documentElement.scrollLeft = scrollLeft;\r\n            return this;\r\n        }\r\n        else {\r\n            return (window.pageXOffset ||\r\n                document.documentElement.scrollLeft ||\r\n                document.body.scrollLeft ||\r\n                0);\r\n        }\r\n    };\r\n    lgQuery.prototype.offset = function () {\r\n        if (!this.firstElement) {\r\n            return {\r\n                left: 0,\r\n                top: 0,\r\n            };\r\n        }\r\n        var rect = this.firstElement.getBoundingClientRect();\r\n        var bodyMarginLeft = $LG('body').style().marginLeft;\r\n        // Minus body margin - https://stackoverflow.com/questions/30711548/is-getboundingclientrect-left-returning-a-wrong-value\r\n        return {\r\n            left: rect.left - parseFloat(bodyMarginLeft) + this.scrollLeft(),\r\n            top: rect.top + this.scrollTop(),\r\n        };\r\n    };\r\n    lgQuery.prototype.style = function () {\r\n        if (!this.firstElement) {\r\n            return {};\r\n        }\r\n        return (this.firstElement.currentStyle ||\r\n            window.getComputedStyle(this.firstElement));\r\n    };\r\n    // Width without padding and border even if box-sizing is used.\r\n    lgQuery.prototype.width = function () {\r\n        var style = this.style();\r\n        return (this.firstElement.clientWidth -\r\n            parseFloat(style.paddingLeft) -\r\n            parseFloat(style.paddingRight));\r\n    };\r\n    // Height without padding and border even if box-sizing is used.\r\n    lgQuery.prototype.height = function () {\r\n        var style = this.style();\r\n        return (this.firstElement.clientHeight -\r\n            parseFloat(style.paddingTop) -\r\n            parseFloat(style.paddingBottom));\r\n    };\r\n    lgQuery.eventListeners = {};\r\n    return lgQuery;\r\n}());\r\nfunction $LG(selector) {\r\n    initLgPolyfills();\r\n    return new lgQuery(selector);\r\n}\n\nvar defaultDynamicOptions = [\r\n    'src',\r\n    'sources',\r\n    'subHtml',\r\n    'subHtmlUrl',\r\n    'html',\r\n    'video',\r\n    'poster',\r\n    'slideName',\r\n    'responsive',\r\n    'srcset',\r\n    'sizes',\r\n    'iframe',\r\n    'downloadUrl',\r\n    'download',\r\n    'width',\r\n    'facebookShareUrl',\r\n    'tweetText',\r\n    'iframeTitle',\r\n    'twitterShareUrl',\r\n    'pinterestShareUrl',\r\n    'pinterestText',\r\n    'fbHtml',\r\n    'disqusIdentifier',\r\n    'disqusUrl',\r\n];\r\n// Convert html data-attribute to camalcase\r\nfunction convertToData(attr) {\r\n    // FInd a way for lgsize\r\n    if (attr === 'href') {\r\n        return 'src';\r\n    }\r\n    attr = attr.replace('data-', '');\r\n    attr = attr.charAt(0).toLowerCase() + attr.slice(1);\r\n    attr = attr.replace(/-([a-z])/g, function (g) { return g[1].toUpperCase(); });\r\n    return attr;\r\n}\r\nvar utils = {\r\n    /**\r\n     * Fetches HTML content from a given URL and inserts it into a specified element.\r\n     *\r\n     * @param url - The URL to fetch the HTML content from.\r\n     * @param element - The DOM element (jQuery object) to insert the HTML content into.\r\n     * @param insertMethod - The method to insert the HTML ('append' or 'replace').\r\n     */\r\n    fetchCaptionFromUrl: function (url, element, insertMethod) {\r\n        // Fetch content from the URL\r\n        fetch(url)\r\n            .then(function (response) { return response.text(); })\r\n            .then(function (htmlContent) {\r\n            if (insertMethod === 'append') {\r\n                var contentDiv = \"<div class=\\\"lg-sub-html\\\">\" + htmlContent + \"</div>\";\r\n                element.append(contentDiv);\r\n            }\r\n            else {\r\n                element.html(htmlContent);\r\n            }\r\n        });\r\n    },\r\n    /**\r\n     * get possible width and height from the lgSize attribute. Used for ZoomFromOrigin option\r\n     */\r\n    getSize: function (el, container, spacing, defaultLgSize) {\r\n        if (spacing === void 0) { spacing = 0; }\r\n        var LGel = $LG(el);\r\n        var lgSize = LGel.attr('data-lg-size') || defaultLgSize;\r\n        if (!lgSize) {\r\n            return;\r\n        }\r\n        var isResponsiveSizes = lgSize.split(',');\r\n        // if at-least two viewport sizes are available\r\n        if (isResponsiveSizes[1]) {\r\n            var wWidth = window.innerWidth;\r\n            for (var i = 0; i < isResponsiveSizes.length; i++) {\r\n                var size_1 = isResponsiveSizes[i];\r\n                var responsiveWidth = parseInt(size_1.split('-')[2], 10);\r\n                if (responsiveWidth > wWidth) {\r\n                    lgSize = size_1;\r\n                    break;\r\n                }\r\n                // take last item as last option\r\n                if (i === isResponsiveSizes.length - 1) {\r\n                    lgSize = size_1;\r\n                }\r\n            }\r\n        }\r\n        var size = lgSize.split('-');\r\n        var width = parseInt(size[0], 10);\r\n        var height = parseInt(size[1], 10);\r\n        var cWidth = container.width();\r\n        var cHeight = container.height() - spacing;\r\n        var maxWidth = Math.min(cWidth, width);\r\n        var maxHeight = Math.min(cHeight, height);\r\n        var ratio = Math.min(maxWidth / width, maxHeight / height);\r\n        return { width: width * ratio, height: height * ratio };\r\n    },\r\n    /**\r\n     * @desc Get transform value based on the imageSize. Used for ZoomFromOrigin option\r\n     * @param {jQuery Element}\r\n     * @returns {String} Transform CSS string\r\n     */\r\n    getTransform: function (el, container, top, bottom, imageSize) {\r\n        if (!imageSize) {\r\n            return;\r\n        }\r\n        var LGel = $LG(el).find('img').first();\r\n        if (!LGel.get()) {\r\n            return;\r\n        }\r\n        var containerRect = container.get().getBoundingClientRect();\r\n        var wWidth = containerRect.width;\r\n        // using innerWidth to include mobile safari bottom bar\r\n        var wHeight = container.height() - (top + bottom);\r\n        var elWidth = LGel.width();\r\n        var elHeight = LGel.height();\r\n        var elStyle = LGel.style();\r\n        var x = (wWidth - elWidth) / 2 -\r\n            LGel.offset().left +\r\n            (parseFloat(elStyle.paddingLeft) || 0) +\r\n            (parseFloat(elStyle.borderLeft) || 0) +\r\n            $LG(window).scrollLeft() +\r\n            containerRect.left;\r\n        var y = (wHeight - elHeight) / 2 -\r\n            LGel.offset().top +\r\n            (parseFloat(elStyle.paddingTop) || 0) +\r\n            (parseFloat(elStyle.borderTop) || 0) +\r\n            $LG(window).scrollTop() +\r\n            top;\r\n        var scX = elWidth / imageSize.width;\r\n        var scY = elHeight / imageSize.height;\r\n        var transform = 'translate3d(' +\r\n            (x *= -1) +\r\n            'px, ' +\r\n            (y *= -1) +\r\n            'px, 0) scale3d(' +\r\n            scX +\r\n            ', ' +\r\n            scY +\r\n            ', 1)';\r\n        return transform;\r\n    },\r\n    getIframeMarkup: function (iframeWidth, iframeHeight, iframeMaxWidth, iframeMaxHeight, src, iframeTitle) {\r\n        var title = iframeTitle ? 'title=\"' + iframeTitle + '\"' : '';\r\n        return \"<div class=\\\"lg-media-cont lg-has-iframe\\\" style=\\\"width:\" + iframeWidth + \"; max-width:\" + iframeMaxWidth + \"; height: \" + iframeHeight + \"; max-height:\" + iframeMaxHeight + \"\\\">\\n                    <iframe class=\\\"lg-object\\\" frameborder=\\\"0\\\" \" + title + \" src=\\\"\" + src + \"\\\"  allowfullscreen=\\\"true\\\"></iframe>\\n                </div>\";\r\n    },\r\n    getImgMarkup: function (index, src, altAttr, srcset, sizes, sources) {\r\n        var srcsetAttr = srcset ? \"srcset=\\\"\" + srcset + \"\\\"\" : '';\r\n        var sizesAttr = sizes ? \"sizes=\\\"\" + sizes + \"\\\"\" : '';\r\n        var imgMarkup = \"<img \" + altAttr + \" \" + srcsetAttr + \"  \" + sizesAttr + \" class=\\\"lg-object lg-image\\\" data-index=\\\"\" + index + \"\\\" src=\\\"\" + src + \"\\\" />\";\r\n        var sourceTag = '';\r\n        if (sources) {\r\n            var sourceObj = typeof sources === 'string' ? JSON.parse(sources) : sources;\r\n            sourceTag = sourceObj.map(function (source) {\r\n                var attrs = '';\r\n                Object.keys(source).forEach(function (key) {\r\n                    // Do not remove the first space as it is required to separate the attributes\r\n                    attrs += \" \" + key + \"=\\\"\" + source[key] + \"\\\"\";\r\n                });\r\n                return \"<source \" + attrs + \"></source>\";\r\n            });\r\n        }\r\n        return \"\" + sourceTag + imgMarkup;\r\n    },\r\n    // Get src from responsive src\r\n    getResponsiveSrc: function (srcItms) {\r\n        var rsWidth = [];\r\n        var rsSrc = [];\r\n        var src = '';\r\n        for (var i = 0; i < srcItms.length; i++) {\r\n            var _src = srcItms[i].split(' ');\r\n            // Manage empty space\r\n            if (_src[0] === '') {\r\n                _src.splice(0, 1);\r\n            }\r\n            rsSrc.push(_src[0]);\r\n            rsWidth.push(_src[1]);\r\n        }\r\n        var wWidth = window.innerWidth;\r\n        for (var j = 0; j < rsWidth.length; j++) {\r\n            if (parseInt(rsWidth[j], 10) > wWidth) {\r\n                src = rsSrc[j];\r\n                break;\r\n            }\r\n        }\r\n        return src;\r\n    },\r\n    isImageLoaded: function (img) {\r\n        if (!img)\r\n            return false;\r\n        // During the onload event, IE correctly identifies any images that\r\n        // weren’t downloaded as not complete. Others should too. Gecko-based\r\n        // browsers act like NS4 in that they report this incorrectly.\r\n        if (!img.complete) {\r\n            return false;\r\n        }\r\n        // However, they do have two very useful properties: naturalWidth and\r\n        // naturalHeight. These give the true size of the image. If it failed\r\n        // to load, either of these should be zero.\r\n        if (img.naturalWidth === 0) {\r\n            return false;\r\n        }\r\n        // No other way of checking: assume it’s ok.\r\n        return true;\r\n    },\r\n    getVideoPosterMarkup: function (_poster, dummyImg, videoContStyle, playVideoString, _isVideo) {\r\n        var videoClass = '';\r\n        if (_isVideo && _isVideo.youtube) {\r\n            videoClass = 'lg-has-youtube';\r\n        }\r\n        else if (_isVideo && _isVideo.vimeo) {\r\n            videoClass = 'lg-has-vimeo';\r\n        }\r\n        else {\r\n            videoClass = 'lg-has-html5';\r\n        }\r\n        var _dummy = dummyImg;\r\n        if (typeof dummyImg !== 'string') {\r\n            _dummy = dummyImg.outerHTML;\r\n        }\r\n        return \"<div class=\\\"lg-video-cont \" + videoClass + \"\\\" style=\\\"\" + videoContStyle + \"\\\">\\n                <div class=\\\"lg-video-play-button\\\">\\n                <svg\\n                    viewBox=\\\"0 0 20 20\\\"\\n                    preserveAspectRatio=\\\"xMidYMid\\\"\\n                    focusable=\\\"false\\\"\\n                    aria-labelledby=\\\"\" + playVideoString + \"\\\"\\n                    role=\\\"img\\\"\\n                    class=\\\"lg-video-play-icon\\\"\\n                >\\n                    <title>\" + playVideoString + \"</title>\\n                    <polygon class=\\\"lg-video-play-icon-inner\\\" points=\\\"1,0 20,10 1,20\\\"></polygon>\\n                </svg>\\n                <svg class=\\\"lg-video-play-icon-bg\\\" viewBox=\\\"0 0 50 50\\\" focusable=\\\"false\\\">\\n                    <circle cx=\\\"50%\\\" cy=\\\"50%\\\" r=\\\"20\\\"></circle></svg>\\n                <svg class=\\\"lg-video-play-icon-circle\\\" viewBox=\\\"0 0 50 50\\\" focusable=\\\"false\\\">\\n                    <circle cx=\\\"50%\\\" cy=\\\"50%\\\" r=\\\"20\\\"></circle>\\n                </svg>\\n            </div>\\n            \" + _dummy + \"\\n            <img class=\\\"lg-object lg-video-poster\\\" src=\\\"\" + _poster + \"\\\" />\\n        </div>\";\r\n    },\r\n    getFocusableElements: function (container) {\r\n        var elements = container.querySelectorAll('a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type=\"text\"]:not([disabled]), input[type=\"radio\"]:not([disabled]), input[type=\"checkbox\"]:not([disabled]), select:not([disabled])');\r\n        var visibleElements = [].filter.call(elements, function (element) {\r\n            var style = window.getComputedStyle(element);\r\n            return style.display !== 'none' && style.visibility !== 'hidden';\r\n        });\r\n        return visibleElements;\r\n    },\r\n    /**\r\n     * @desc Create dynamic elements array from gallery items when dynamic option is false\r\n     * It helps to avoid frequent DOM interaction\r\n     * and avoid multiple checks for dynamic elments\r\n     *\r\n     * @returns {Array} dynamicEl\r\n     */\r\n    getDynamicOptions: function (items, extraProps, getCaptionFromTitleOrAlt, exThumbImage) {\r\n        var dynamicElements = [];\r\n        var availableDynamicOptions = __spreadArrays(defaultDynamicOptions, extraProps);\r\n        [].forEach.call(items, function (item) {\r\n            var dynamicEl = {};\r\n            for (var i = 0; i < item.attributes.length; i++) {\r\n                var attr = item.attributes[i];\r\n                if (attr.specified) {\r\n                    var dynamicAttr = convertToData(attr.name);\r\n                    var label = '';\r\n                    if (availableDynamicOptions.indexOf(dynamicAttr) > -1) {\r\n                        label = dynamicAttr;\r\n                    }\r\n                    if (label) {\r\n                        dynamicEl[label] = attr.value;\r\n                    }\r\n                }\r\n            }\r\n            var currentItem = $LG(item);\r\n            var alt = currentItem.find('img').first().attr('alt');\r\n            var title = currentItem.attr('title');\r\n            var thumb = exThumbImage\r\n                ? currentItem.attr(exThumbImage)\r\n                : currentItem.find('img').first().attr('src');\r\n            dynamicEl.thumb = thumb;\r\n            if (getCaptionFromTitleOrAlt && !dynamicEl.subHtml) {\r\n                dynamicEl.subHtml = title || alt || '';\r\n            }\r\n            dynamicEl.alt = alt || title || '';\r\n            dynamicElements.push(dynamicEl);\r\n        });\r\n        return dynamicElements;\r\n    },\r\n    isMobile: function () {\r\n        return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);\r\n    },\r\n    /**\r\n     * @desc Check the given src is video\r\n     * @param {String} src\r\n     * @return {Object} video type\r\n     * Ex:{ youtube  :  [\"//www.youtube.com/watch?v=c0asJgSyxcY\", \"c0asJgSyxcY\"] }\r\n     *\r\n     * @todo - this information can be moved to dynamicEl to avoid frequent calls\r\n     */\r\n    isVideo: function (src, isHTML5VIdeo, index) {\r\n        if (!src) {\r\n            if (isHTML5VIdeo) {\r\n                return {\r\n                    html5: true,\r\n                };\r\n            }\r\n            else {\r\n                console.error('lightGallery :- data-src is not provided on slide item ' +\r\n                    (index + 1) +\r\n                    '. Please make sure the selector property is properly configured. More info - https://www.lightgalleryjs.com/demos/html-markup/');\r\n                return;\r\n            }\r\n        }\r\n        var youtube = src.match(/\\/\\/(?:www\\.)?youtu(?:\\.be|be\\.com|be-nocookie\\.com)\\/(?:watch\\?v=|embed\\/)?([a-z0-9\\-\\_\\%]+)([\\&|?][\\S]*)*/i);\r\n        var vimeo = src.match(/\\/\\/(?:www\\.)?(?:player\\.)?vimeo.com\\/(?:video\\/)?([0-9a-z\\-_]+)(.*)?/i);\r\n        var wistia = src.match(/https?:\\/\\/(.+)?(wistia\\.com|wi\\.st)\\/(medias|embed)\\/([0-9a-z\\-_]+)(.*)/);\r\n        if (youtube) {\r\n            return {\r\n                youtube: youtube,\r\n            };\r\n        }\r\n        else if (vimeo) {\r\n            return {\r\n                vimeo: vimeo,\r\n            };\r\n        }\r\n        else if (wistia) {\r\n            return {\r\n                wistia: wistia,\r\n            };\r\n        }\r\n    },\r\n};\n\n// @ref - https://stackoverflow.com/questions/3971841/how-to-resize-images-proportionally-keeping-the-aspect-ratio\r\n// @ref - https://2ality.com/2017/04/setting-up-multi-platform-packages.html\r\n// Unique id for each gallery\r\nvar lgId = 0;\r\nvar LightGallery = /** @class */ (function () {\r\n    function LightGallery(element, options) {\r\n        this.lgOpened = false;\r\n        this.index = 0;\r\n        // lightGallery modules\r\n        this.plugins = [];\r\n        // false when lightGallery load first slide content;\r\n        this.lGalleryOn = false;\r\n        // True when a slide animation is in progress\r\n        this.lgBusy = false;\r\n        this.currentItemsInDom = [];\r\n        // Scroll top value before lightGallery is opened\r\n        this.prevScrollTop = 0;\r\n        this.bodyPaddingRight = 0;\r\n        this.isDummyImageRemoved = false;\r\n        this.dragOrSwipeEnabled = false;\r\n        this.mediaContainerPosition = {\r\n            top: 0,\r\n            bottom: 0,\r\n        };\r\n        if (!element) {\r\n            return this;\r\n        }\r\n        lgId++;\r\n        this.lgId = lgId;\r\n        this.el = element;\r\n        this.LGel = $LG(element);\r\n        this.generateSettings(options);\r\n        this.buildModules();\r\n        // When using dynamic mode, ensure dynamicEl is an array\r\n        if (this.settings.dynamic &&\r\n            this.settings.dynamicEl !== undefined &&\r\n            !Array.isArray(this.settings.dynamicEl)) {\r\n            throw 'When using dynamic mode, you must also define dynamicEl as an Array.';\r\n        }\r\n        this.galleryItems = this.getItems();\r\n        this.normalizeSettings();\r\n        // Gallery items\r\n        this.init();\r\n        this.validateLicense();\r\n        return this;\r\n    }\r\n    LightGallery.prototype.generateSettings = function (options) {\r\n        // lightGallery settings\r\n        this.settings = __assign(__assign({}, lightGalleryCoreSettings), options);\r\n        if (this.settings.isMobile &&\r\n            typeof this.settings.isMobile === 'function'\r\n            ? this.settings.isMobile()\r\n            : utils.isMobile()) {\r\n            var mobileSettings = __assign(__assign({}, this.settings.mobileSettings), this.settings.mobileSettings);\r\n            this.settings = __assign(__assign({}, this.settings), mobileSettings);\r\n        }\r\n    };\r\n    LightGallery.prototype.normalizeSettings = function () {\r\n        if (this.settings.slideEndAnimation) {\r\n            this.settings.hideControlOnEnd = false;\r\n        }\r\n        if (!this.settings.closable) {\r\n            this.settings.swipeToClose = false;\r\n        }\r\n        // And reset it on close to get the correct value next time\r\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\r\n        // At the moment, Zoom from image doesn't support dynamic options\r\n        // @todo add zoomFromOrigin support for dynamic images\r\n        if (this.settings.dynamic) {\r\n            this.zoomFromOrigin = false;\r\n        }\r\n        if (this.settings.container) {\r\n            var container = this.settings.container;\r\n            if (typeof container === 'function') {\r\n                this.settings.container = container();\r\n            }\r\n            else if (typeof container === 'string') {\r\n                var el = document.querySelector(container);\r\n                this.settings.container = el !== null && el !== void 0 ? el : document.body;\r\n            }\r\n        }\r\n        else {\r\n            this.settings.container = document.body;\r\n        }\r\n        // settings.preload should not be grater than $item.length\r\n        this.settings.preload = Math.min(this.settings.preload, this.galleryItems.length);\r\n    };\r\n    LightGallery.prototype.init = function () {\r\n        var _this = this;\r\n        this.addSlideVideoInfo(this.galleryItems);\r\n        this.buildStructure();\r\n        this.LGel.trigger(lGEvents.init, {\r\n            instance: this,\r\n        });\r\n        if (this.settings.keyPress) {\r\n            this.keyPress();\r\n        }\r\n        setTimeout(function () {\r\n            _this.enableDrag();\r\n            _this.enableSwipe();\r\n            _this.triggerPosterClick();\r\n        }, 50);\r\n        this.arrow();\r\n        if (this.settings.mousewheel) {\r\n            this.mousewheel();\r\n        }\r\n        if (!this.settings.dynamic) {\r\n            this.openGalleryOnItemClick();\r\n        }\r\n    };\r\n    LightGallery.prototype.openGalleryOnItemClick = function () {\r\n        var _this = this;\r\n        var _loop_1 = function (index) {\r\n            var element = this_1.items[index];\r\n            var $element = $LG(element);\r\n            // Using different namespace for click because click event should not unbind if selector is same object('this')\r\n            // @todo manage all event listners - should have namespace that represent element\r\n            var uuid = lgQuery.generateUUID();\r\n            $element\r\n                .attr('data-lg-id', uuid)\r\n                .on(\"click.lgcustom-item-\" + uuid, function (e) {\r\n                e.preventDefault();\r\n                var currentItemIndex = _this.settings.index || index;\r\n                _this.openGallery(currentItemIndex, element);\r\n            });\r\n        };\r\n        var this_1 = this;\r\n        // Using for loop instead of using bubbling as the items can be any html element.\r\n        for (var index = 0; index < this.items.length; index++) {\r\n            _loop_1(index);\r\n        }\r\n    };\r\n    /**\r\n     * Module constructor\r\n     * Modules are build incrementally.\r\n     * Gallery should be opened only once all the modules are initialized.\r\n     * use moduleBuildTimeout to make sure this\r\n     */\r\n    LightGallery.prototype.buildModules = function () {\r\n        var _this = this;\r\n        this.settings.plugins.forEach(function (plugin) {\r\n            _this.plugins.push(new plugin(_this, $LG));\r\n        });\r\n    };\r\n    LightGallery.prototype.validateLicense = function () {\r\n        if (!this.settings.licenseKey) {\r\n            console.error('Please provide a valid license key');\r\n        }\r\n        else if (this.settings.licenseKey === '0000-0000-000-0000') {\r\n            console.warn(\"lightGallery: \" + this.settings.licenseKey + \" license key is not valid for production use\");\r\n        }\r\n    };\r\n    LightGallery.prototype.getSlideItem = function (index) {\r\n        return $LG(this.getSlideItemId(index));\r\n    };\r\n    LightGallery.prototype.getSlideItemId = function (index) {\r\n        return \"#lg-item-\" + this.lgId + \"-\" + index;\r\n    };\r\n    LightGallery.prototype.getIdName = function (id) {\r\n        return id + \"-\" + this.lgId;\r\n    };\r\n    LightGallery.prototype.getElementById = function (id) {\r\n        return $LG(\"#\" + this.getIdName(id));\r\n    };\r\n    LightGallery.prototype.manageSingleSlideClassName = function () {\r\n        if (this.galleryItems.length < 2) {\r\n            this.outer.addClass('lg-single-item');\r\n        }\r\n        else {\r\n            this.outer.removeClass('lg-single-item');\r\n        }\r\n    };\r\n    LightGallery.prototype.buildStructure = function () {\r\n        var _this = this;\r\n        var container = this.$container && this.$container.get();\r\n        if (container) {\r\n            return;\r\n        }\r\n        var controls = '';\r\n        var subHtmlCont = '';\r\n        // Create controls\r\n        if (this.settings.controls) {\r\n            controls = \"<button type=\\\"button\\\" id=\\\"\" + this.getIdName('lg-prev') + \"\\\" aria-label=\\\"\" + this.settings.strings['previousSlide'] + \"\\\" class=\\\"lg-prev lg-icon\\\"> \" + this.settings.prevHtml + \" </button>\\n                <button type=\\\"button\\\" id=\\\"\" + this.getIdName('lg-next') + \"\\\" aria-label=\\\"\" + this.settings.strings['nextSlide'] + \"\\\" class=\\\"lg-next lg-icon\\\"> \" + this.settings.nextHtml + \" </button>\";\r\n        }\r\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\r\n            subHtmlCont =\r\n                '<div class=\"lg-sub-html\" role=\"status\" aria-live=\"polite\"></div>';\r\n        }\r\n        var addClasses = '';\r\n        if (this.settings.allowMediaOverlap) {\r\n            // Do not remove space before last single quote\r\n            addClasses += 'lg-media-overlap ';\r\n        }\r\n        var ariaLabelledby = this.settings.ariaLabelledby\r\n            ? 'aria-labelledby=\"' + this.settings.ariaLabelledby + '\"'\r\n            : '';\r\n        var ariaDescribedby = this.settings.ariaDescribedby\r\n            ? 'aria-describedby=\"' + this.settings.ariaDescribedby + '\"'\r\n            : '';\r\n        var containerClassName = \"lg-container \" + this.settings.addClass + \" \" + (document.body !== this.settings.container ? 'lg-inline' : '');\r\n        var closeIcon = this.settings.closable && this.settings.showCloseIcon\r\n            ? \"<button type=\\\"button\\\" aria-label=\\\"\" + this.settings.strings['closeGallery'] + \"\\\" id=\\\"\" + this.getIdName('lg-close') + \"\\\" class=\\\"lg-close lg-icon\\\"></button>\"\r\n            : '';\r\n        var maximizeIcon = this.settings.showMaximizeIcon\r\n            ? \"<button type=\\\"button\\\" aria-label=\\\"\" + this.settings.strings['toggleMaximize'] + \"\\\" id=\\\"\" + this.getIdName('lg-maximize') + \"\\\" class=\\\"lg-maximize lg-icon\\\"></button>\"\r\n            : '';\r\n        var template = \"\\n        <div class=\\\"\" + containerClassName + \"\\\" id=\\\"\" + this.getIdName('lg-container') + \"\\\" tabindex=\\\"-1\\\" aria-modal=\\\"true\\\" \" + ariaLabelledby + \" \" + ariaDescribedby + \" role=\\\"dialog\\\"\\n        >\\n            <div id=\\\"\" + this.getIdName('lg-backdrop') + \"\\\" class=\\\"lg-backdrop\\\"></div>\\n\\n            <div id=\\\"\" + this.getIdName('lg-outer') + \"\\\" class=\\\"lg-outer lg-use-css3 lg-css3 lg-hide-items \" + addClasses + \" \\\">\\n\\n              <div id=\\\"\" + this.getIdName('lg-content') + \"\\\" class=\\\"lg-content\\\">\\n                <div id=\\\"\" + this.getIdName('lg-inner') + \"\\\" class=\\\"lg-inner\\\">\\n                </div>\\n                \" + controls + \"\\n              </div>\\n                <div id=\\\"\" + this.getIdName('lg-toolbar') + \"\\\" class=\\\"lg-toolbar lg-group\\\">\\n                    \" + maximizeIcon + \"\\n                    \" + closeIcon + \"\\n                    </div>\\n                    \" + (this.settings.appendSubHtmlTo === '.lg-outer'\r\n            ? subHtmlCont\r\n            : '') + \"\\n                <div id=\\\"\" + this.getIdName('lg-components') + \"\\\" class=\\\"lg-components\\\">\\n                    \" + (this.settings.appendSubHtmlTo === '.lg-sub-html'\r\n            ? subHtmlCont\r\n            : '') + \"\\n                </div>\\n            </div>\\n        </div>\\n        \";\r\n        $LG(this.settings.container).append(template);\r\n        if (document.body !== this.settings.container) {\r\n            $LG(this.settings.container).css('position', 'relative');\r\n        }\r\n        this.outer = this.getElementById('lg-outer');\r\n        this.$lgComponents = this.getElementById('lg-components');\r\n        this.$backdrop = this.getElementById('lg-backdrop');\r\n        this.$container = this.getElementById('lg-container');\r\n        this.$inner = this.getElementById('lg-inner');\r\n        this.$content = this.getElementById('lg-content');\r\n        this.$toolbar = this.getElementById('lg-toolbar');\r\n        this.$backdrop.css('transition-duration', this.settings.backdropDuration + 'ms');\r\n        var outerClassNames = this.settings.mode + \" \";\r\n        this.manageSingleSlideClassName();\r\n        if (this.settings.enableDrag) {\r\n            outerClassNames += 'lg-grab ';\r\n        }\r\n        this.outer.addClass(outerClassNames);\r\n        this.$inner.css('transition-timing-function', this.settings.easing);\r\n        this.$inner.css('transition-duration', this.settings.speed + 'ms');\r\n        if (this.settings.download) {\r\n            this.$toolbar.append(\"<a id=\\\"\" + this.getIdName('lg-download') + \"\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\" aria-label=\\\"\" + this.settings.strings['download'] + \"\\\" download class=\\\"lg-download lg-icon\\\"></a>\");\r\n        }\r\n        this.counter();\r\n        $LG(window).on(\"resize.lg.global\" + this.lgId + \" orientationchange.lg.global\" + this.lgId, function () {\r\n            _this.refreshOnResize();\r\n        });\r\n        this.hideBars();\r\n        this.manageCloseGallery();\r\n        this.toggleMaximize();\r\n        this.initModules();\r\n    };\r\n    LightGallery.prototype.refreshOnResize = function () {\r\n        if (this.lgOpened) {\r\n            var currentGalleryItem = this.galleryItems[this.index];\r\n            var __slideVideoInfo = currentGalleryItem.__slideVideoInfo;\r\n            this.mediaContainerPosition = this.getMediaContainerPosition();\r\n            var _a = this.mediaContainerPosition, top_1 = _a.top, bottom = _a.bottom;\r\n            this.currentImageSize = utils.getSize(this.items[this.index], this.outer, top_1 + bottom, __slideVideoInfo && this.settings.videoMaxSize);\r\n            if (__slideVideoInfo) {\r\n                this.resizeVideoSlide(this.index, this.currentImageSize);\r\n            }\r\n            if (this.zoomFromOrigin && !this.isDummyImageRemoved) {\r\n                var imgStyle = this.getDummyImgStyles(this.currentImageSize);\r\n                this.outer\r\n                    .find('.lg-current .lg-dummy-img')\r\n                    .first()\r\n                    .attr('style', imgStyle);\r\n            }\r\n            this.LGel.trigger(lGEvents.containerResize);\r\n        }\r\n    };\r\n    LightGallery.prototype.resizeVideoSlide = function (index, imageSize) {\r\n        var lgVideoStyle = this.getVideoContStyle(imageSize);\r\n        var currentSlide = this.getSlideItem(index);\r\n        currentSlide.find('.lg-video-cont').attr('style', lgVideoStyle);\r\n    };\r\n    /**\r\n     * Update slides dynamically.\r\n     * Add, edit or delete slides dynamically when lightGallery is opened.\r\n     * Modify the current gallery items and pass it via updateSlides method\r\n     * @note\r\n     * - Do not mutate existing lightGallery items directly.\r\n     * - Always pass new list of gallery items\r\n     * - You need to take care of thumbnails outside the gallery if any\r\n     * - user this method only if you want to update slides when the gallery is opened. Otherwise, use `refresh()` method.\r\n     * @param items Gallery items\r\n     * @param index After the update operation, which slide gallery should navigate to\r\n     * @category lGPublicMethods\r\n     * @example\r\n     * const plugin = lightGallery();\r\n     *\r\n     * // Adding slides dynamically\r\n     * let galleryItems = [\r\n     * // Access existing lightGallery items\r\n     * // galleryItems are automatically generated internally from the gallery HTML markup\r\n     * // or directly from galleryItems when dynamic gallery is used\r\n     *   ...plugin.galleryItems,\r\n     *     ...[\r\n     *       {\r\n     *         src: 'img/img-1.png',\r\n     *           thumb: 'img/thumb1.png',\r\n     *         },\r\n     *     ],\r\n     *   ];\r\n     *   plugin.updateSlides(\r\n     *     galleryItems,\r\n     *     plugin.index,\r\n     *   );\r\n     *\r\n     *\r\n     * // Remove slides dynamically\r\n     * galleryItems = JSON.parse(\r\n     *   JSON.stringify(updateSlideInstance.galleryItems),\r\n     * );\r\n     * galleryItems.shift();\r\n     * updateSlideInstance.updateSlides(galleryItems, 1);\r\n     * @see <a href=\"/demos/update-slides/\">Demo</a>\r\n     */\r\n    LightGallery.prototype.updateSlides = function (items, index) {\r\n        if (this.index > items.length - 1) {\r\n            this.index = items.length - 1;\r\n        }\r\n        if (items.length === 1) {\r\n            this.index = 0;\r\n        }\r\n        if (!items.length) {\r\n            this.closeGallery();\r\n            return;\r\n        }\r\n        var currentSrc = this.galleryItems[index].src;\r\n        this.galleryItems = items;\r\n        this.updateControls();\r\n        this.$inner.empty();\r\n        this.currentItemsInDom = [];\r\n        var _index = 0;\r\n        // Find the current index based on source value of the slide\r\n        this.galleryItems.some(function (galleryItem, itemIndex) {\r\n            if (galleryItem.src === currentSrc) {\r\n                _index = itemIndex;\r\n                return true;\r\n            }\r\n            return false;\r\n        });\r\n        this.currentItemsInDom = this.organizeSlideItems(_index, -1);\r\n        this.loadContent(_index, true);\r\n        this.getSlideItem(_index).addClass('lg-current');\r\n        this.index = _index;\r\n        this.updateCurrentCounter(_index);\r\n        this.LGel.trigger(lGEvents.updateSlides);\r\n    };\r\n    // Get gallery items based on multiple conditions\r\n    LightGallery.prototype.getItems = function () {\r\n        // Gallery items\r\n        this.items = [];\r\n        if (!this.settings.dynamic) {\r\n            if (this.settings.selector === 'this') {\r\n                this.items.push(this.el);\r\n            }\r\n            else if (this.settings.selector) {\r\n                if (typeof this.settings.selector === 'string') {\r\n                    if (this.settings.selectWithin) {\r\n                        var selectWithin = $LG(this.settings.selectWithin);\r\n                        this.items = selectWithin\r\n                            .find(this.settings.selector)\r\n                            .get();\r\n                    }\r\n                    else {\r\n                        this.items = this.el.querySelectorAll(this.settings.selector);\r\n                    }\r\n                }\r\n                else {\r\n                    this.items = this.settings.selector;\r\n                }\r\n            }\r\n            else {\r\n                this.items = this.el.children;\r\n            }\r\n            return utils.getDynamicOptions(this.items, this.settings.extraProps, this.settings.getCaptionFromTitleOrAlt, this.settings.exThumbImage);\r\n        }\r\n        else {\r\n            return this.settings.dynamicEl || [];\r\n        }\r\n    };\r\n    LightGallery.prototype.shouldHideScrollbar = function () {\r\n        return (this.settings.hideScrollbar &&\r\n            document.body === this.settings.container);\r\n    };\r\n    LightGallery.prototype.hideScrollbar = function () {\r\n        if (!this.shouldHideScrollbar()) {\r\n            return;\r\n        }\r\n        this.bodyPaddingRight = parseFloat($LG('body').style().paddingRight);\r\n        var bodyRect = document.documentElement.getBoundingClientRect();\r\n        var scrollbarWidth = window.innerWidth - bodyRect.width;\r\n        $LG(document.body).css('padding-right', scrollbarWidth + this.bodyPaddingRight + 'px');\r\n        $LG(document.body).addClass('lg-overlay-open');\r\n    };\r\n    LightGallery.prototype.resetScrollBar = function () {\r\n        if (!this.shouldHideScrollbar()) {\r\n            return;\r\n        }\r\n        $LG(document.body).css('padding-right', this.bodyPaddingRight + 'px');\r\n        $LG(document.body).removeClass('lg-overlay-open');\r\n    };\r\n    /**\r\n     * Open lightGallery.\r\n     * Open gallery with specific slide by passing index of the slide as parameter.\r\n     * @category lGPublicMethods\r\n     * @param {Number} index  - index of the slide\r\n     * @param {HTMLElement} element - Which image lightGallery should zoom from\r\n     *\r\n     * @example\r\n     * const $dynamicGallery = document.getElementById('dynamic-gallery-demo');\r\n     * const dynamicGallery = lightGallery($dynamicGallery, {\r\n     *     dynamic: true,\r\n     *     dynamicEl: [\r\n     *         {\r\n     *              src: 'img/1.jpg',\r\n     *              thumb: 'img/thumb-1.jpg',\r\n     *              subHtml: '<h4>Image 1 title</h4><p>Image 1 descriptions.</p>',\r\n     *         },\r\n     *         ...\r\n     *     ],\r\n     * });\r\n     * $dynamicGallery.addEventListener('click', function () {\r\n     *     // Starts with third item.(Optional).\r\n     *     // This is useful if you want use dynamic mode with\r\n     *     // custom thumbnails (thumbnails outside gallery),\r\n     *     dynamicGallery.openGallery(2);\r\n     * });\r\n     *\r\n     */\r\n    LightGallery.prototype.openGallery = function (index, element) {\r\n        var _this = this;\r\n        if (index === void 0) { index = this.settings.index; }\r\n        // prevent accidental double execution\r\n        if (this.lgOpened)\r\n            return;\r\n        this.lgOpened = true;\r\n        this.outer.removeClass('lg-hide-items');\r\n        this.hideScrollbar();\r\n        // Add display block, but still has opacity 0\r\n        this.$container.addClass('lg-show');\r\n        var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, index);\r\n        this.currentItemsInDom = itemsToBeInsertedToDom;\r\n        var items = '';\r\n        itemsToBeInsertedToDom.forEach(function (item) {\r\n            items = items + (\"<div id=\\\"\" + item + \"\\\" class=\\\"lg-item\\\"></div>\");\r\n        });\r\n        this.$inner.append(items);\r\n        this.addHtml(index);\r\n        var transform = '';\r\n        this.mediaContainerPosition = this.getMediaContainerPosition();\r\n        var _a = this.mediaContainerPosition, top = _a.top, bottom = _a.bottom;\r\n        if (!this.settings.allowMediaOverlap) {\r\n            this.setMediaContainerPosition(top, bottom);\r\n        }\r\n        var __slideVideoInfo = this.galleryItems[index].__slideVideoInfo;\r\n        if (this.zoomFromOrigin && element) {\r\n            this.currentImageSize = utils.getSize(element, this.outer, top + bottom, __slideVideoInfo && this.settings.videoMaxSize);\r\n            transform = utils.getTransform(element, this.outer, top, bottom, this.currentImageSize);\r\n        }\r\n        if (!this.zoomFromOrigin || !transform) {\r\n            this.outer.addClass(this.settings.startClass);\r\n            this.getSlideItem(index).removeClass('lg-complete');\r\n        }\r\n        var timeout = this.settings.zoomFromOrigin\r\n            ? 100\r\n            : this.settings.backdropDuration;\r\n        setTimeout(function () {\r\n            _this.outer.addClass('lg-components-open');\r\n        }, timeout);\r\n        this.index = index;\r\n        this.LGel.trigger(lGEvents.beforeOpen);\r\n        // add class lg-current to remove initial transition\r\n        this.getSlideItem(index).addClass('lg-current');\r\n        this.lGalleryOn = false;\r\n        // Store the current scroll top value to scroll back after closing the gallery..\r\n        this.prevScrollTop = $LG(window).scrollTop();\r\n        setTimeout(function () {\r\n            // Need to check both zoomFromOrigin and transform values as we need to set set the\r\n            // default opening animation if user missed to add the lg-size attribute\r\n            if (_this.zoomFromOrigin && transform) {\r\n                var currentSlide_1 = _this.getSlideItem(index);\r\n                currentSlide_1.css('transform', transform);\r\n                setTimeout(function () {\r\n                    currentSlide_1\r\n                        .addClass('lg-start-progress lg-start-end-progress')\r\n                        .css('transition-duration', _this.settings.startAnimationDuration + 'ms');\r\n                    _this.outer.addClass('lg-zoom-from-image');\r\n                });\r\n                setTimeout(function () {\r\n                    currentSlide_1.css('transform', 'translate3d(0, 0, 0)');\r\n                }, 100);\r\n            }\r\n            setTimeout(function () {\r\n                _this.$backdrop.addClass('in');\r\n                _this.$container.addClass('lg-show-in');\r\n            }, 10);\r\n            setTimeout(function () {\r\n                if (_this.settings.trapFocus &&\r\n                    document.body === _this.settings.container) {\r\n                    _this.trapFocus();\r\n                }\r\n            }, _this.settings.backdropDuration + 50);\r\n            // lg-visible class resets gallery opacity to 1\r\n            if (!_this.zoomFromOrigin || !transform) {\r\n                setTimeout(function () {\r\n                    _this.outer.addClass('lg-visible');\r\n                }, _this.settings.backdropDuration);\r\n            }\r\n            // initiate slide function\r\n            _this.slide(index, false, false, false);\r\n            _this.LGel.trigger(lGEvents.afterOpen);\r\n        });\r\n        if (document.body === this.settings.container) {\r\n            $LG('html').addClass('lg-on');\r\n        }\r\n    };\r\n    /**\r\n     * Note - Changing the position of the media on every slide transition creates a flickering effect.\r\n     * Therefore, The height of the caption is calculated dynamically, only once based on the first slide caption.\r\n     * if you have dynamic captions for each media,\r\n     * you can provide an appropriate height for the captions via allowMediaOverlap option\r\n     */\r\n    LightGallery.prototype.getMediaContainerPosition = function () {\r\n        if (this.settings.allowMediaOverlap) {\r\n            return {\r\n                top: 0,\r\n                bottom: 0,\r\n            };\r\n        }\r\n        var top = this.$toolbar.get().clientHeight || 0;\r\n        var subHtml = this.outer.find('.lg-components .lg-sub-html').get();\r\n        var captionHeight = this.settings.defaultCaptionHeight ||\r\n            (subHtml && subHtml.clientHeight) ||\r\n            0;\r\n        var thumbContainer = this.outer.find('.lg-thumb-outer').get();\r\n        var thumbHeight = thumbContainer ? thumbContainer.clientHeight : 0;\r\n        var bottom = thumbHeight + captionHeight;\r\n        return {\r\n            top: top,\r\n            bottom: bottom,\r\n        };\r\n    };\r\n    LightGallery.prototype.setMediaContainerPosition = function (top, bottom) {\r\n        if (top === void 0) { top = 0; }\r\n        if (bottom === void 0) { bottom = 0; }\r\n        this.$content.css('top', top + 'px').css('bottom', bottom + 'px');\r\n    };\r\n    LightGallery.prototype.hideBars = function () {\r\n        var _this = this;\r\n        // Hide controllers if mouse doesn't move for some period\r\n        setTimeout(function () {\r\n            _this.outer.removeClass('lg-hide-items');\r\n            if (_this.settings.hideBarsDelay > 0) {\r\n                _this.outer.on('mousemove.lg click.lg touchstart.lg', function () {\r\n                    _this.outer.removeClass('lg-hide-items');\r\n                    clearTimeout(_this.hideBarTimeout);\r\n                    // Timeout will be cleared on each slide movement also\r\n                    _this.hideBarTimeout = setTimeout(function () {\r\n                        _this.outer.addClass('lg-hide-items');\r\n                    }, _this.settings.hideBarsDelay);\r\n                });\r\n                _this.outer.trigger('mousemove.lg');\r\n            }\r\n        }, this.settings.showBarsAfter);\r\n    };\r\n    LightGallery.prototype.initPictureFill = function ($img) {\r\n        if (this.settings.supportLegacyBrowser) {\r\n            try {\r\n                picturefill({\r\n                    elements: [$img.get()],\r\n                });\r\n            }\r\n            catch (e) {\r\n                console.warn('lightGallery :- If you want srcset or picture tag to be supported for older browser please include picturefil javascript library in your document.');\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     *  @desc Create image counter\r\n     *  Ex: 1/10\r\n     */\r\n    LightGallery.prototype.counter = function () {\r\n        if (this.settings.counter) {\r\n            var counterHtml = \"<div class=\\\"lg-counter\\\" role=\\\"status\\\" aria-live=\\\"polite\\\">\\n                <span id=\\\"\" + this.getIdName('lg-counter-current') + \"\\\" class=\\\"lg-counter-current\\\">\" + (this.index + 1) + \" </span> /\\n                <span id=\\\"\" + this.getIdName('lg-counter-all') + \"\\\" class=\\\"lg-counter-all\\\">\" + this.galleryItems.length + \" </span></div>\";\r\n            this.outer.find(this.settings.appendCounterTo).append(counterHtml);\r\n        }\r\n    };\r\n    /**\r\n     *  @desc add sub-html into the slide\r\n     *  @param {Number} index - index of the slide\r\n     */\r\n    LightGallery.prototype.addHtml = function (index) {\r\n        var subHtml;\r\n        var subHtmlUrl;\r\n        if (this.galleryItems[index].subHtmlUrl) {\r\n            subHtmlUrl = this.galleryItems[index].subHtmlUrl;\r\n        }\r\n        else {\r\n            subHtml = this.galleryItems[index].subHtml;\r\n        }\r\n        if (!subHtmlUrl) {\r\n            if (subHtml) {\r\n                // get first letter of sub-html\r\n                // if first letter starts with . or # get the html form the jQuery object\r\n                var fL = subHtml.substring(0, 1);\r\n                if (fL === '.' || fL === '#') {\r\n                    if (this.settings.subHtmlSelectorRelative &&\r\n                        !this.settings.dynamic) {\r\n                        subHtml = $LG(this.items)\r\n                            .eq(index)\r\n                            .find(subHtml)\r\n                            .first()\r\n                            .html();\r\n                    }\r\n                    else {\r\n                        subHtml = $LG(subHtml).first().html();\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                subHtml = '';\r\n            }\r\n        }\r\n        if (this.settings.appendSubHtmlTo !== '.lg-item') {\r\n            if (subHtmlUrl) {\r\n                utils.fetchCaptionFromUrl(subHtmlUrl, this.outer.find('.lg-sub-html'), 'replace');\r\n            }\r\n            else {\r\n                this.outer.find('.lg-sub-html').html(subHtml);\r\n            }\r\n        }\r\n        else {\r\n            var currentSlide = $LG(this.getSlideItemId(index));\r\n            if (subHtmlUrl) {\r\n                utils.fetchCaptionFromUrl(subHtmlUrl, currentSlide, 'append');\r\n            }\r\n            else {\r\n                currentSlide.append(\"<div class=\\\"lg-sub-html\\\">\" + subHtml + \"</div>\");\r\n            }\r\n        }\r\n        // Add lg-empty-html class if title doesn't exist\r\n        if (typeof subHtml !== 'undefined' && subHtml !== null) {\r\n            if (subHtml === '') {\r\n                this.outer\r\n                    .find(this.settings.appendSubHtmlTo)\r\n                    .addClass('lg-empty-html');\r\n            }\r\n            else {\r\n                this.outer\r\n                    .find(this.settings.appendSubHtmlTo)\r\n                    .removeClass('lg-empty-html');\r\n            }\r\n        }\r\n        this.LGel.trigger(lGEvents.afterAppendSubHtml, {\r\n            index: index,\r\n        });\r\n    };\r\n    /**\r\n     *  @desc Preload slides\r\n     *  @param {Number} index - index of the slide\r\n     * @todo preload not working for the first slide, Also, should work for the first and last slide as well\r\n     */\r\n    LightGallery.prototype.preload = function (index) {\r\n        for (var i = 1; i <= this.settings.preload; i++) {\r\n            if (i >= this.galleryItems.length - index) {\r\n                break;\r\n            }\r\n            this.loadContent(index + i, false);\r\n        }\r\n        for (var j = 1; j <= this.settings.preload; j++) {\r\n            if (index - j < 0) {\r\n                break;\r\n            }\r\n            this.loadContent(index - j, false);\r\n        }\r\n    };\r\n    LightGallery.prototype.getDummyImgStyles = function (imageSize) {\r\n        if (!imageSize)\r\n            return '';\r\n        return \"width:\" + imageSize.width + \"px;\\n                margin-left: -\" + imageSize.width / 2 + \"px;\\n                margin-top: -\" + imageSize.height / 2 + \"px;\\n                height:\" + imageSize.height + \"px\";\r\n    };\r\n    LightGallery.prototype.getVideoContStyle = function (imageSize) {\r\n        if (!imageSize)\r\n            return '';\r\n        return \"width:\" + imageSize.width + \"px;\\n                height:\" + imageSize.height + \"px\";\r\n    };\r\n    LightGallery.prototype.getDummyImageContent = function ($currentSlide, index, alt) {\r\n        var $currentItem;\r\n        if (!this.settings.dynamic) {\r\n            $currentItem = $LG(this.items).eq(index);\r\n        }\r\n        if ($currentItem) {\r\n            var _dummyImgSrc = void 0;\r\n            if (!this.settings.exThumbImage) {\r\n                _dummyImgSrc = $currentItem.find('img').first().attr('src');\r\n            }\r\n            else {\r\n                _dummyImgSrc = $currentItem.attr(this.settings.exThumbImage);\r\n            }\r\n            if (!_dummyImgSrc)\r\n                return '';\r\n            var imgStyle = this.getDummyImgStyles(this.currentImageSize);\r\n            var dummyImgContentImg = document.createElement('img');\r\n            dummyImgContentImg.alt = alt || '';\r\n            dummyImgContentImg.src = _dummyImgSrc;\r\n            dummyImgContentImg.className = \"lg-dummy-img\";\r\n            dummyImgContentImg.style.cssText = imgStyle;\r\n            $currentSlide.addClass('lg-first-slide');\r\n            this.outer.addClass('lg-first-slide-loading');\r\n            return dummyImgContentImg;\r\n        }\r\n        return '';\r\n    };\r\n    LightGallery.prototype.setImgMarkup = function (src, $currentSlide, index) {\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        var alt = currentGalleryItem.alt, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;\r\n        // Use the thumbnail as dummy image which will be resized to actual image size and\r\n        // displayed on top of actual image\r\n        var imgContent = '';\r\n        var altAttr = alt ? 'alt=\"' + alt + '\"' : '';\r\n        if (this.isFirstSlideWithZoomAnimation()) {\r\n            imgContent = this.getDummyImageContent($currentSlide, index, altAttr);\r\n        }\r\n        else {\r\n            imgContent = utils.getImgMarkup(index, src, altAttr, srcset, sizes, sources);\r\n        }\r\n        var picture = document.createElement('picture');\r\n        picture.className = 'lg-img-wrap';\r\n        $LG(picture).append(imgContent);\r\n        $currentSlide.prepend(picture);\r\n    };\r\n    LightGallery.prototype.onSlideObjectLoad = function ($slide, isHTML5VideoWithoutPoster, onLoad, onError) {\r\n        var mediaObject = $slide.find('.lg-object').first();\r\n        if (utils.isImageLoaded(mediaObject.get()) ||\r\n            isHTML5VideoWithoutPoster) {\r\n            onLoad();\r\n        }\r\n        else {\r\n            mediaObject.on('load.lg error.lg', function () {\r\n                onLoad && onLoad();\r\n            });\r\n            mediaObject.on('error.lg', function () {\r\n                onError && onError();\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     *\r\n     * @param $el Current slide item\r\n     * @param index\r\n     * @param delay Delay is 0 except first time\r\n     * @param speed Speed is same as delay, except it is 0 if gallery is opened via hash plugin\r\n     * @param isFirstSlide\r\n     */\r\n    LightGallery.prototype.onLgObjectLoad = function (currentSlide, index, delay, speed, isFirstSlide, isHTML5VideoWithoutPoster) {\r\n        var _this = this;\r\n        this.onSlideObjectLoad(currentSlide, isHTML5VideoWithoutPoster, function () {\r\n            _this.triggerSlideItemLoad(currentSlide, index, delay, speed, isFirstSlide);\r\n        }, function () {\r\n            currentSlide.addClass('lg-complete lg-complete_');\r\n            currentSlide.html('<span class=\"lg-error-msg\">' +\r\n                _this.settings.strings['mediaLoadingFailed'] +\r\n                '</span>');\r\n        });\r\n    };\r\n    LightGallery.prototype.triggerSlideItemLoad = function ($currentSlide, index, delay, speed, isFirstSlide) {\r\n        var _this = this;\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        // Adding delay for video slides without poster for better performance and user experience\r\n        // Videos should start playing once once the gallery is completely loaded\r\n        var _speed = isFirstSlide &&\r\n            this.getSlideType(currentGalleryItem) === 'video' &&\r\n            !currentGalleryItem.poster\r\n            ? speed\r\n            : 0;\r\n        setTimeout(function () {\r\n            $currentSlide.addClass('lg-complete lg-complete_');\r\n            _this.LGel.trigger(lGEvents.slideItemLoad, {\r\n                index: index,\r\n                delay: delay || 0,\r\n                isFirstSlide: isFirstSlide,\r\n            });\r\n        }, _speed);\r\n    };\r\n    LightGallery.prototype.isFirstSlideWithZoomAnimation = function () {\r\n        return !!(!this.lGalleryOn &&\r\n            this.zoomFromOrigin &&\r\n            this.currentImageSize);\r\n    };\r\n    // Add video slideInfo\r\n    LightGallery.prototype.addSlideVideoInfo = function (items) {\r\n        var _this = this;\r\n        items.forEach(function (element, index) {\r\n            element.__slideVideoInfo = utils.isVideo(element.src, !!element.video, index);\r\n            if (element.__slideVideoInfo &&\r\n                _this.settings.loadYouTubePoster &&\r\n                !element.poster &&\r\n                element.__slideVideoInfo.youtube) {\r\n                element.poster = \"//img.youtube.com/vi/\" + element.__slideVideoInfo.youtube[1] + \"/maxresdefault.jpg\";\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     *  Load slide content into slide.\r\n     *  This is used to load content into slides that is not visible too\r\n     *  @param {Number} index - index of the slide.\r\n     *  @param {Boolean} rec - if true call loadcontent() function again.\r\n     */\r\n    LightGallery.prototype.loadContent = function (index, rec) {\r\n        var _this = this;\r\n        var currentGalleryItem = this.galleryItems[index];\r\n        var $currentSlide = $LG(this.getSlideItemId(index));\r\n        var poster = currentGalleryItem.poster, srcset = currentGalleryItem.srcset, sizes = currentGalleryItem.sizes, sources = currentGalleryItem.sources;\r\n        var src = currentGalleryItem.src;\r\n        var video = currentGalleryItem.video;\r\n        var _html5Video = video && typeof video === 'string' ? JSON.parse(video) : video;\r\n        if (currentGalleryItem.responsive) {\r\n            var srcDyItms = currentGalleryItem.responsive.split(',');\r\n            src = utils.getResponsiveSrc(srcDyItms) || src;\r\n        }\r\n        var videoInfo = currentGalleryItem.__slideVideoInfo;\r\n        var lgVideoStyle = '';\r\n        var iframe = !!currentGalleryItem.iframe;\r\n        var isFirstSlide = !this.lGalleryOn;\r\n        // delay for adding complete class. it is 0 except first time.\r\n        var delay = 0;\r\n        if (isFirstSlide) {\r\n            if (this.zoomFromOrigin && this.currentImageSize) {\r\n                delay = this.settings.startAnimationDuration + 10;\r\n            }\r\n            else {\r\n                delay = this.settings.backdropDuration + 10;\r\n            }\r\n        }\r\n        if (!$currentSlide.hasClass('lg-loaded')) {\r\n            if (videoInfo) {\r\n                var _a = this.mediaContainerPosition, top_2 = _a.top, bottom = _a.bottom;\r\n                var videoSize = utils.getSize(this.items[index], this.outer, top_2 + bottom, videoInfo && this.settings.videoMaxSize);\r\n                lgVideoStyle = this.getVideoContStyle(videoSize);\r\n            }\r\n            if (iframe) {\r\n                var markup = utils.getIframeMarkup(this.settings.iframeWidth, this.settings.iframeHeight, this.settings.iframeMaxWidth, this.settings.iframeMaxHeight, src, currentGalleryItem.iframeTitle);\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else if (poster) {\r\n                var dummyImg = '';\r\n                var hasStartAnimation = isFirstSlide &&\r\n                    this.zoomFromOrigin &&\r\n                    this.currentImageSize;\r\n                if (hasStartAnimation) {\r\n                    dummyImg = this.getDummyImageContent($currentSlide, index, '');\r\n                }\r\n                var markup = utils.getVideoPosterMarkup(poster, dummyImg || '', lgVideoStyle, this.settings.strings['playVideo'], videoInfo);\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else if (videoInfo) {\r\n                var markup = \"<div class=\\\"lg-video-cont \\\" style=\\\"\" + lgVideoStyle + \"\\\"></div>\";\r\n                $currentSlide.prepend(markup);\r\n            }\r\n            else {\r\n                this.setImgMarkup(src, $currentSlide, index);\r\n                if (srcset || sources) {\r\n                    var $img = $currentSlide.find('.lg-object');\r\n                    this.initPictureFill($img);\r\n                }\r\n            }\r\n            if (poster || videoInfo) {\r\n                this.LGel.trigger(lGEvents.hasVideo, {\r\n                    index: index,\r\n                    src: src,\r\n                    html5Video: _html5Video,\r\n                    hasPoster: !!poster,\r\n                });\r\n            }\r\n            this.LGel.trigger(lGEvents.afterAppendSlide, { index: index });\r\n            if (this.lGalleryOn &&\r\n                this.settings.appendSubHtmlTo === '.lg-item') {\r\n                this.addHtml(index);\r\n            }\r\n        }\r\n        // For first time add some delay for displaying the start animation.\r\n        var _speed = 0;\r\n        // Do not change the delay value because it is required for zoom plugin.\r\n        // If gallery opened from direct url (hash) speed value should be 0\r\n        if (delay && !$LG(document.body).hasClass('lg-from-hash')) {\r\n            _speed = delay;\r\n        }\r\n        // Only for first slide and zoomFromOrigin is enabled\r\n        if (this.isFirstSlideWithZoomAnimation()) {\r\n            setTimeout(function () {\r\n                $currentSlide\r\n                    .removeClass('lg-start-end-progress lg-start-progress')\r\n                    .removeAttr('style');\r\n            }, this.settings.startAnimationDuration + 100);\r\n            if (!$currentSlide.hasClass('lg-loaded')) {\r\n                setTimeout(function () {\r\n                    if (_this.getSlideType(currentGalleryItem) === 'image') {\r\n                        var alt = currentGalleryItem.alt;\r\n                        var altAttr = alt ? 'alt=\"' + alt + '\"' : '';\r\n                        $currentSlide\r\n                            .find('.lg-img-wrap')\r\n                            .append(utils.getImgMarkup(index, src, altAttr, srcset, sizes, currentGalleryItem.sources));\r\n                        if (srcset || sources) {\r\n                            var $img = $currentSlide.find('.lg-object');\r\n                            _this.initPictureFill($img);\r\n                        }\r\n                    }\r\n                    if (_this.getSlideType(currentGalleryItem) === 'image' ||\r\n                        (_this.getSlideType(currentGalleryItem) === 'video' &&\r\n                            poster)) {\r\n                        _this.onLgObjectLoad($currentSlide, index, delay, _speed, true, false);\r\n                        // load remaining slides once the slide is completely loaded\r\n                        _this.onSlideObjectLoad($currentSlide, !!(videoInfo && videoInfo.html5 && !poster), function () {\r\n                            _this.loadContentOnFirstSlideLoad(index, $currentSlide, _speed);\r\n                        }, function () {\r\n                            _this.loadContentOnFirstSlideLoad(index, $currentSlide, _speed);\r\n                        });\r\n                    }\r\n                }, this.settings.startAnimationDuration + 100);\r\n            }\r\n        }\r\n        // SLide content has been added to dom\r\n        $currentSlide.addClass('lg-loaded');\r\n        if (!this.isFirstSlideWithZoomAnimation() ||\r\n            (this.getSlideType(currentGalleryItem) === 'video' && !poster)) {\r\n            this.onLgObjectLoad($currentSlide, index, delay, _speed, isFirstSlide, !!(videoInfo && videoInfo.html5 && !poster));\r\n        }\r\n        // When gallery is opened once content is loaded (second time) need to add lg-complete class for css styling\r\n        if ((!this.zoomFromOrigin || !this.currentImageSize) &&\r\n            $currentSlide.hasClass('lg-complete_') &&\r\n            !this.lGalleryOn) {\r\n            setTimeout(function () {\r\n                $currentSlide.addClass('lg-complete');\r\n            }, this.settings.backdropDuration);\r\n        }\r\n        // Content loaded\r\n        // Need to set lGalleryOn before calling preload function\r\n        this.lGalleryOn = true;\r\n        if (rec === true) {\r\n            if (!$currentSlide.hasClass('lg-complete_')) {\r\n                $currentSlide\r\n                    .find('.lg-object')\r\n                    .first()\r\n                    .on('load.lg error.lg', function () {\r\n                    _this.preload(index);\r\n                });\r\n            }\r\n            else {\r\n                this.preload(index);\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * @desc Remove dummy image content and load next slides\r\n     * Called only for the first time if zoomFromOrigin animation is enabled\r\n     * @param index\r\n     * @param $currentSlide\r\n     * @param speed\r\n     */\r\n    LightGallery.prototype.loadContentOnFirstSlideLoad = function (index, $currentSlide, speed) {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            $currentSlide.find('.lg-dummy-img').remove();\r\n            $currentSlide.removeClass('lg-first-slide');\r\n            _this.outer.removeClass('lg-first-slide-loading');\r\n            _this.isDummyImageRemoved = true;\r\n            _this.preload(index);\r\n        }, speed + 300);\r\n    };\r\n    LightGallery.prototype.getItemsToBeInsertedToDom = function (index, prevIndex, numberOfItems) {\r\n        var _this = this;\r\n        if (numberOfItems === void 0) { numberOfItems = 0; }\r\n        var itemsToBeInsertedToDom = [];\r\n        // Minimum 2 items should be there\r\n        var possibleNumberOfItems = Math.max(numberOfItems, 3);\r\n        possibleNumberOfItems = Math.min(possibleNumberOfItems, this.galleryItems.length);\r\n        var prevIndexItem = \"lg-item-\" + this.lgId + \"-\" + prevIndex;\r\n        if (this.galleryItems.length <= 3) {\r\n            this.galleryItems.forEach(function (_element, index) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + _this.lgId + \"-\" + index);\r\n            });\r\n            return itemsToBeInsertedToDom;\r\n        }\r\n        if (index < (this.galleryItems.length - 1) / 2) {\r\n            for (var idx = index; idx > index - possibleNumberOfItems / 2 && idx >= 0; idx--) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + idx);\r\n            }\r\n            var numberOfExistingItems = itemsToBeInsertedToDom.length;\r\n            for (var idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (index + idx + 1));\r\n            }\r\n        }\r\n        else {\r\n            for (var idx = index; idx <= this.galleryItems.length - 1 &&\r\n                idx < index + possibleNumberOfItems / 2; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + idx);\r\n            }\r\n            var numberOfExistingItems = itemsToBeInsertedToDom.length;\r\n            for (var idx = 0; idx < possibleNumberOfItems - numberOfExistingItems; idx++) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (index - idx - 1));\r\n            }\r\n        }\r\n        if (this.settings.loop) {\r\n            if (index === this.galleryItems.length - 1) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + 0);\r\n            }\r\n            else if (index === 0) {\r\n                itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + (this.galleryItems.length - 1));\r\n            }\r\n        }\r\n        if (itemsToBeInsertedToDom.indexOf(prevIndexItem) === -1) {\r\n            itemsToBeInsertedToDom.push(\"lg-item-\" + this.lgId + \"-\" + prevIndex);\r\n        }\r\n        return itemsToBeInsertedToDom;\r\n    };\r\n    LightGallery.prototype.organizeSlideItems = function (index, prevIndex) {\r\n        var _this = this;\r\n        var itemsToBeInsertedToDom = this.getItemsToBeInsertedToDom(index, prevIndex, this.settings.numberOfSlideItemsInDom);\r\n        itemsToBeInsertedToDom.forEach(function (item) {\r\n            if (_this.currentItemsInDom.indexOf(item) === -1) {\r\n                _this.$inner.append(\"<div id=\\\"\" + item + \"\\\" class=\\\"lg-item\\\"></div>\");\r\n            }\r\n        });\r\n        this.currentItemsInDom.forEach(function (item) {\r\n            if (itemsToBeInsertedToDom.indexOf(item) === -1) {\r\n                $LG(\"#\" + item).remove();\r\n            }\r\n        });\r\n        return itemsToBeInsertedToDom;\r\n    };\r\n    /**\r\n     * Get previous index of the slide\r\n     */\r\n    LightGallery.prototype.getPreviousSlideIndex = function () {\r\n        var prevIndex = 0;\r\n        try {\r\n            var currentItemId = this.outer\r\n                .find('.lg-current')\r\n                .first()\r\n                .attr('id');\r\n            prevIndex = parseInt(currentItemId.split('-')[3]) || 0;\r\n        }\r\n        catch (error) {\r\n            prevIndex = 0;\r\n        }\r\n        return prevIndex;\r\n    };\r\n    LightGallery.prototype.setDownloadValue = function (index) {\r\n        if (this.settings.download) {\r\n            var currentGalleryItem = this.galleryItems[index];\r\n            var hideDownloadBtn = currentGalleryItem.downloadUrl === false ||\r\n                currentGalleryItem.downloadUrl === 'false';\r\n            if (hideDownloadBtn) {\r\n                this.outer.addClass('lg-hide-download');\r\n            }\r\n            else {\r\n                var $download = this.getElementById('lg-download');\r\n                this.outer.removeClass('lg-hide-download');\r\n                $download.attr('href', currentGalleryItem.downloadUrl ||\r\n                    currentGalleryItem.src);\r\n                if (currentGalleryItem.download) {\r\n                    $download.attr('download', currentGalleryItem.download);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.makeSlideAnimation = function (direction, currentSlideItem, previousSlideItem) {\r\n        var _this = this;\r\n        if (this.lGalleryOn) {\r\n            previousSlideItem.addClass('lg-slide-progress');\r\n        }\r\n        setTimeout(function () {\r\n            // remove all transitions\r\n            _this.outer.addClass('lg-no-trans');\r\n            _this.outer\r\n                .find('.lg-item')\r\n                .removeClass('lg-prev-slide lg-next-slide');\r\n            if (direction === 'prev') {\r\n                //prevslide\r\n                currentSlideItem.addClass('lg-prev-slide');\r\n                previousSlideItem.addClass('lg-next-slide');\r\n            }\r\n            else {\r\n                // next slide\r\n                currentSlideItem.addClass('lg-next-slide');\r\n                previousSlideItem.addClass('lg-prev-slide');\r\n            }\r\n            // give 50 ms for browser to add/remove class\r\n            setTimeout(function () {\r\n                _this.outer.find('.lg-item').removeClass('lg-current');\r\n                currentSlideItem.addClass('lg-current');\r\n                // reset all transitions\r\n                _this.outer.removeClass('lg-no-trans');\r\n            }, 50);\r\n        }, this.lGalleryOn ? this.settings.slideDelay : 0);\r\n    };\r\n    /**\r\n     * Goto a specific slide.\r\n     * @param {Number} index - index of the slide\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event or mouse drag\r\n     * @param {Boolean} fromThumb - true if slide function called via thumbnail click\r\n     * @param {String} direction - Direction of the slide(next/prev)\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  // to go to 3rd slide\r\n     *  plugin.slide(2);\r\n     *\r\n     */\r\n    LightGallery.prototype.slide = function (index, fromTouch, fromThumb, direction) {\r\n        var _this = this;\r\n        var prevIndex = this.getPreviousSlideIndex();\r\n        this.currentItemsInDom = this.organizeSlideItems(index, prevIndex);\r\n        // Prevent multiple call, Required for hsh plugin\r\n        if (this.lGalleryOn && prevIndex === index) {\r\n            return;\r\n        }\r\n        var numberOfGalleryItems = this.galleryItems.length;\r\n        if (!this.lgBusy) {\r\n            if (this.settings.counter) {\r\n                this.updateCurrentCounter(index);\r\n            }\r\n            var currentSlideItem = this.getSlideItem(index);\r\n            var previousSlideItem_1 = this.getSlideItem(prevIndex);\r\n            var currentGalleryItem = this.galleryItems[index];\r\n            var videoInfo = currentGalleryItem.__slideVideoInfo;\r\n            this.outer.attr('data-lg-slide-type', this.getSlideType(currentGalleryItem));\r\n            this.setDownloadValue(index);\r\n            if (videoInfo) {\r\n                var _a = this.mediaContainerPosition, top_3 = _a.top, bottom = _a.bottom;\r\n                var videoSize = utils.getSize(this.items[index], this.outer, top_3 + bottom, videoInfo && this.settings.videoMaxSize);\r\n                this.resizeVideoSlide(index, videoSize);\r\n            }\r\n            this.LGel.trigger(lGEvents.beforeSlide, {\r\n                prevIndex: prevIndex,\r\n                index: index,\r\n                fromTouch: !!fromTouch,\r\n                fromThumb: !!fromThumb,\r\n            });\r\n            this.lgBusy = true;\r\n            clearTimeout(this.hideBarTimeout);\r\n            this.arrowDisable(index);\r\n            if (!direction) {\r\n                if (index < prevIndex) {\r\n                    direction = 'prev';\r\n                }\r\n                else if (index > prevIndex) {\r\n                    direction = 'next';\r\n                }\r\n            }\r\n            if (!fromTouch) {\r\n                this.makeSlideAnimation(direction, currentSlideItem, previousSlideItem_1);\r\n            }\r\n            else {\r\n                this.outer\r\n                    .find('.lg-item')\r\n                    .removeClass('lg-prev-slide lg-current lg-next-slide');\r\n                var touchPrev = void 0;\r\n                var touchNext = void 0;\r\n                if (numberOfGalleryItems > 2) {\r\n                    touchPrev = index - 1;\r\n                    touchNext = index + 1;\r\n                    if (index === 0 && prevIndex === numberOfGalleryItems - 1) {\r\n                        // next slide\r\n                        touchNext = 0;\r\n                        touchPrev = numberOfGalleryItems - 1;\r\n                    }\r\n                    else if (index === numberOfGalleryItems - 1 &&\r\n                        prevIndex === 0) {\r\n                        // prev slide\r\n                        touchNext = 0;\r\n                        touchPrev = numberOfGalleryItems - 1;\r\n                    }\r\n                }\r\n                else {\r\n                    touchPrev = 0;\r\n                    touchNext = 1;\r\n                }\r\n                if (direction === 'prev') {\r\n                    this.getSlideItem(touchNext).addClass('lg-next-slide');\r\n                }\r\n                else {\r\n                    this.getSlideItem(touchPrev).addClass('lg-prev-slide');\r\n                }\r\n                currentSlideItem.addClass('lg-current');\r\n            }\r\n            // Do not put load content in set timeout as it needs to load immediately when the gallery is opened\r\n            if (!this.lGalleryOn) {\r\n                this.loadContent(index, true);\r\n            }\r\n            else {\r\n                setTimeout(function () {\r\n                    _this.loadContent(index, true);\r\n                    // Add title if this.settings.appendSubHtmlTo === lg-sub-html\r\n                    if (_this.settings.appendSubHtmlTo !== '.lg-item') {\r\n                        _this.addHtml(index);\r\n                    }\r\n                }, this.settings.speed + 50 + (fromTouch ? 0 : this.settings.slideDelay));\r\n            }\r\n            setTimeout(function () {\r\n                _this.lgBusy = false;\r\n                previousSlideItem_1.removeClass('lg-slide-progress');\r\n                _this.LGel.trigger(lGEvents.afterSlide, {\r\n                    prevIndex: prevIndex,\r\n                    index: index,\r\n                    fromTouch: fromTouch,\r\n                    fromThumb: fromThumb,\r\n                });\r\n            }, (this.lGalleryOn ? this.settings.speed + 100 : 100) + (fromTouch ? 0 : this.settings.slideDelay));\r\n        }\r\n        this.index = index;\r\n    };\r\n    LightGallery.prototype.updateCurrentCounter = function (index) {\r\n        this.getElementById('lg-counter-current').html(index + 1 + '');\r\n    };\r\n    LightGallery.prototype.updateCounterTotal = function () {\r\n        this.getElementById('lg-counter-all').html(this.galleryItems.length + '');\r\n    };\r\n    LightGallery.prototype.getSlideType = function (item) {\r\n        if (item.__slideVideoInfo) {\r\n            return 'video';\r\n        }\r\n        else if (item.iframe) {\r\n            return 'iframe';\r\n        }\r\n        else {\r\n            return 'image';\r\n        }\r\n    };\r\n    LightGallery.prototype.touchMove = function (startCoords, endCoords, e) {\r\n        var distanceX = endCoords.pageX - startCoords.pageX;\r\n        var distanceY = endCoords.pageY - startCoords.pageY;\r\n        var allowSwipe = false;\r\n        if (this.swipeDirection) {\r\n            allowSwipe = true;\r\n        }\r\n        else {\r\n            if (Math.abs(distanceX) > 15) {\r\n                this.swipeDirection = 'horizontal';\r\n                allowSwipe = true;\r\n            }\r\n            else if (Math.abs(distanceY) > 15) {\r\n                this.swipeDirection = 'vertical';\r\n                allowSwipe = true;\r\n            }\r\n        }\r\n        if (!allowSwipe) {\r\n            return;\r\n        }\r\n        var $currentSlide = this.getSlideItem(this.index);\r\n        if (this.swipeDirection === 'horizontal') {\r\n            e === null || e === void 0 ? void 0 : e.preventDefault();\r\n            // reset opacity and transition duration\r\n            this.outer.addClass('lg-dragging');\r\n            // move current slide\r\n            this.setTranslate($currentSlide, distanceX, 0);\r\n            // move next and prev slide with current slide\r\n            var width = $currentSlide.get().offsetWidth;\r\n            var slideWidthAmount = (width * 15) / 100;\r\n            var gutter = slideWidthAmount - Math.abs((distanceX * 10) / 100);\r\n            this.setTranslate(this.outer.find('.lg-prev-slide').first(), -width + distanceX - gutter, 0);\r\n            this.setTranslate(this.outer.find('.lg-next-slide').first(), width + distanceX + gutter, 0);\r\n        }\r\n        else if (this.swipeDirection === 'vertical') {\r\n            if (this.settings.swipeToClose) {\r\n                e === null || e === void 0 ? void 0 : e.preventDefault();\r\n                this.$container.addClass('lg-dragging-vertical');\r\n                var opacity = 1 - Math.abs(distanceY) / window.innerHeight;\r\n                this.$backdrop.css('opacity', opacity);\r\n                var scale = 1 - Math.abs(distanceY) / (window.innerWidth * 2);\r\n                this.setTranslate($currentSlide, 0, distanceY, scale, scale);\r\n                if (Math.abs(distanceY) > 100) {\r\n                    this.outer\r\n                        .addClass('lg-hide-items')\r\n                        .removeClass('lg-components-open');\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.touchEnd = function (endCoords, startCoords, event) {\r\n        var _this = this;\r\n        var distance;\r\n        // keep slide animation for any mode while dragg/swipe\r\n        if (this.settings.mode !== 'lg-slide') {\r\n            this.outer.addClass('lg-slide');\r\n        }\r\n        // set transition duration\r\n        setTimeout(function () {\r\n            _this.$container.removeClass('lg-dragging-vertical');\r\n            _this.outer\r\n                .removeClass('lg-dragging lg-hide-items')\r\n                .addClass('lg-components-open');\r\n            var triggerClick = true;\r\n            if (_this.swipeDirection === 'horizontal') {\r\n                distance = endCoords.pageX - startCoords.pageX;\r\n                var distanceAbs = Math.abs(endCoords.pageX - startCoords.pageX);\r\n                if (distance < 0 &&\r\n                    distanceAbs > _this.settings.swipeThreshold) {\r\n                    _this.goToNextSlide(true);\r\n                    triggerClick = false;\r\n                }\r\n                else if (distance > 0 &&\r\n                    distanceAbs > _this.settings.swipeThreshold) {\r\n                    _this.goToPrevSlide(true);\r\n                    triggerClick = false;\r\n                }\r\n            }\r\n            else if (_this.swipeDirection === 'vertical') {\r\n                distance = Math.abs(endCoords.pageY - startCoords.pageY);\r\n                if (_this.settings.closable &&\r\n                    _this.settings.swipeToClose &&\r\n                    distance > 100) {\r\n                    _this.closeGallery();\r\n                    return;\r\n                }\r\n                else {\r\n                    _this.$backdrop.css('opacity', 1);\r\n                }\r\n            }\r\n            _this.outer.find('.lg-item').removeAttr('style');\r\n            if (triggerClick &&\r\n                Math.abs(endCoords.pageX - startCoords.pageX) < 5) {\r\n                // Trigger click if distance is less than 5 pix\r\n                var target = $LG(event.target);\r\n                if (_this.isPosterElement(target)) {\r\n                    _this.LGel.trigger(lGEvents.posterClick);\r\n                }\r\n            }\r\n            _this.swipeDirection = undefined;\r\n        });\r\n        // remove slide class once drag/swipe is completed if mode is not slide\r\n        setTimeout(function () {\r\n            if (!_this.outer.hasClass('lg-dragging') &&\r\n                _this.settings.mode !== 'lg-slide') {\r\n                _this.outer.removeClass('lg-slide');\r\n            }\r\n        }, this.settings.speed + 100);\r\n    };\r\n    LightGallery.prototype.enableSwipe = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isMoved = false;\r\n        var isSwiping = false;\r\n        if (this.settings.enableSwipe) {\r\n            this.$inner.on('touchstart.lg', function (e) {\r\n                _this.dragOrSwipeEnabled = true;\r\n                var $item = _this.getSlideItem(_this.index);\r\n                if (($LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target)) &&\r\n                    !_this.outer.hasClass('lg-zoomed') &&\r\n                    !_this.lgBusy &&\r\n                    e.touches.length === 1) {\r\n                    isSwiping = true;\r\n                    _this.touchAction = 'swipe';\r\n                    _this.manageSwipeClass();\r\n                    startCoords = {\r\n                        pageX: e.touches[0].pageX,\r\n                        pageY: e.touches[0].pageY,\r\n                    };\r\n                }\r\n            });\r\n            this.$inner.on('touchmove.lg', function (e) {\r\n                if (isSwiping &&\r\n                    _this.touchAction === 'swipe' &&\r\n                    e.touches.length === 1) {\r\n                    endCoords = {\r\n                        pageX: e.touches[0].pageX,\r\n                        pageY: e.touches[0].pageY,\r\n                    };\r\n                    _this.touchMove(startCoords, endCoords, e);\r\n                    isMoved = true;\r\n                }\r\n            });\r\n            this.$inner.on('touchend.lg', function (event) {\r\n                if (_this.touchAction === 'swipe') {\r\n                    if (isMoved) {\r\n                        isMoved = false;\r\n                        _this.touchEnd(endCoords, startCoords, event);\r\n                    }\r\n                    else if (isSwiping) {\r\n                        var target = $LG(event.target);\r\n                        if (_this.isPosterElement(target)) {\r\n                            _this.LGel.trigger(lGEvents.posterClick);\r\n                        }\r\n                    }\r\n                    _this.touchAction = undefined;\r\n                    isSwiping = false;\r\n                }\r\n            });\r\n        }\r\n    };\r\n    LightGallery.prototype.enableDrag = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isDraging = false;\r\n        var isMoved = false;\r\n        if (this.settings.enableDrag) {\r\n            this.outer.on('mousedown.lg', function (e) {\r\n                _this.dragOrSwipeEnabled = true;\r\n                var $item = _this.getSlideItem(_this.index);\r\n                if ($LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target)) {\r\n                    if (!_this.outer.hasClass('lg-zoomed') && !_this.lgBusy) {\r\n                        e.preventDefault();\r\n                        if (!_this.lgBusy) {\r\n                            _this.manageSwipeClass();\r\n                            startCoords = {\r\n                                pageX: e.pageX,\r\n                                pageY: e.pageY,\r\n                            };\r\n                            isDraging = true;\r\n                            // ** Fix for webkit cursor issue https://code.google.com/p/chromium/issues/detail?id=26723\r\n                            _this.outer.get().scrollLeft += 1;\r\n                            _this.outer.get().scrollLeft -= 1;\r\n                            // *\r\n                            _this.outer\r\n                                .removeClass('lg-grab')\r\n                                .addClass('lg-grabbing');\r\n                            _this.LGel.trigger(lGEvents.dragStart);\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n            $LG(window).on(\"mousemove.lg.global\" + this.lgId, function (e) {\r\n                if (isDraging && _this.lgOpened) {\r\n                    isMoved = true;\r\n                    endCoords = {\r\n                        pageX: e.pageX,\r\n                        pageY: e.pageY,\r\n                    };\r\n                    _this.touchMove(startCoords, endCoords);\r\n                    _this.LGel.trigger(lGEvents.dragMove);\r\n                }\r\n            });\r\n            $LG(window).on(\"mouseup.lg.global\" + this.lgId, function (event) {\r\n                if (!_this.lgOpened) {\r\n                    return;\r\n                }\r\n                var target = $LG(event.target);\r\n                if (isMoved) {\r\n                    isMoved = false;\r\n                    _this.touchEnd(endCoords, startCoords, event);\r\n                    _this.LGel.trigger(lGEvents.dragEnd);\r\n                }\r\n                else if (_this.isPosterElement(target)) {\r\n                    _this.LGel.trigger(lGEvents.posterClick);\r\n                }\r\n                // Prevent execution on click\r\n                if (isDraging) {\r\n                    isDraging = false;\r\n                    _this.outer.removeClass('lg-grabbing').addClass('lg-grab');\r\n                }\r\n            });\r\n        }\r\n    };\r\n    LightGallery.prototype.triggerPosterClick = function () {\r\n        var _this = this;\r\n        this.$inner.on('click.lg', function (event) {\r\n            if (!_this.dragOrSwipeEnabled &&\r\n                _this.isPosterElement($LG(event.target))) {\r\n                _this.LGel.trigger(lGEvents.posterClick);\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.manageSwipeClass = function () {\r\n        var _touchNext = this.index + 1;\r\n        var _touchPrev = this.index - 1;\r\n        if (this.settings.loop && this.galleryItems.length > 2) {\r\n            if (this.index === 0) {\r\n                _touchPrev = this.galleryItems.length - 1;\r\n            }\r\n            else if (this.index === this.galleryItems.length - 1) {\r\n                _touchNext = 0;\r\n            }\r\n        }\r\n        this.outer.find('.lg-item').removeClass('lg-next-slide lg-prev-slide');\r\n        if (_touchPrev > -1) {\r\n            this.getSlideItem(_touchPrev).addClass('lg-prev-slide');\r\n        }\r\n        this.getSlideItem(_touchNext).addClass('lg-next-slide');\r\n    };\r\n    /**\r\n     * Go to next slide\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.goToNextSlide();\r\n     * @see <a href=\"/demos/methods/\">Demo</a>\r\n     */\r\n    LightGallery.prototype.goToNextSlide = function (fromTouch) {\r\n        var _this = this;\r\n        var _loop = this.settings.loop;\r\n        if (fromTouch && this.galleryItems.length < 3) {\r\n            _loop = false;\r\n        }\r\n        if (!this.lgBusy) {\r\n            if (this.index + 1 < this.galleryItems.length) {\r\n                this.index++;\r\n                this.LGel.trigger(lGEvents.beforeNextSlide, {\r\n                    index: this.index,\r\n                });\r\n                this.slide(this.index, !!fromTouch, false, 'next');\r\n            }\r\n            else {\r\n                if (_loop) {\r\n                    this.index = 0;\r\n                    this.LGel.trigger(lGEvents.beforeNextSlide, {\r\n                        index: this.index,\r\n                    });\r\n                    this.slide(this.index, !!fromTouch, false, 'next');\r\n                }\r\n                else if (this.settings.slideEndAnimation && !fromTouch) {\r\n                    this.outer.addClass('lg-right-end');\r\n                    setTimeout(function () {\r\n                        _this.outer.removeClass('lg-right-end');\r\n                    }, 400);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Go to previous slides\r\n     * @param {Boolean} fromTouch - true if slide function called via touch event\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery({});\r\n     *  plugin.goToPrevSlide();\r\n     * @see <a href=\"/demos/methods/\">Demo</a>\r\n     *\r\n     */\r\n    LightGallery.prototype.goToPrevSlide = function (fromTouch) {\r\n        var _this = this;\r\n        var _loop = this.settings.loop;\r\n        if (fromTouch && this.galleryItems.length < 3) {\r\n            _loop = false;\r\n        }\r\n        if (!this.lgBusy) {\r\n            if (this.index > 0) {\r\n                this.index--;\r\n                this.LGel.trigger(lGEvents.beforePrevSlide, {\r\n                    index: this.index,\r\n                    fromTouch: fromTouch,\r\n                });\r\n                this.slide(this.index, !!fromTouch, false, 'prev');\r\n            }\r\n            else {\r\n                if (_loop) {\r\n                    this.index = this.galleryItems.length - 1;\r\n                    this.LGel.trigger(lGEvents.beforePrevSlide, {\r\n                        index: this.index,\r\n                        fromTouch: fromTouch,\r\n                    });\r\n                    this.slide(this.index, !!fromTouch, false, 'prev');\r\n                }\r\n                else if (this.settings.slideEndAnimation && !fromTouch) {\r\n                    this.outer.addClass('lg-left-end');\r\n                    setTimeout(function () {\r\n                        _this.outer.removeClass('lg-left-end');\r\n                    }, 400);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.keyPress = function () {\r\n        var _this = this;\r\n        $LG(window).on(\"keydown.lg.global\" + this.lgId, function (e) {\r\n            if (_this.lgOpened &&\r\n                _this.settings.escKey === true &&\r\n                e.keyCode === 27) {\r\n                e.preventDefault();\r\n                if (_this.settings.allowMediaOverlap &&\r\n                    _this.outer.hasClass('lg-can-toggle') &&\r\n                    _this.outer.hasClass('lg-components-open')) {\r\n                    _this.outer.removeClass('lg-components-open');\r\n                }\r\n                else {\r\n                    _this.closeGallery();\r\n                }\r\n            }\r\n            if (_this.lgOpened && _this.galleryItems.length > 1) {\r\n                if (e.keyCode === 37) {\r\n                    e.preventDefault();\r\n                    _this.goToPrevSlide();\r\n                }\r\n                if (e.keyCode === 39) {\r\n                    e.preventDefault();\r\n                    _this.goToNextSlide();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.arrow = function () {\r\n        var _this = this;\r\n        this.getElementById('lg-prev').on('click.lg', function () {\r\n            _this.goToPrevSlide();\r\n        });\r\n        this.getElementById('lg-next').on('click.lg', function () {\r\n            _this.goToNextSlide();\r\n        });\r\n    };\r\n    LightGallery.prototype.arrowDisable = function (index) {\r\n        // Disable arrows if settings.hideControlOnEnd is true\r\n        if (!this.settings.loop && this.settings.hideControlOnEnd) {\r\n            var $prev = this.getElementById('lg-prev');\r\n            var $next = this.getElementById('lg-next');\r\n            if (index + 1 === this.galleryItems.length) {\r\n                $next.attr('disabled', 'disabled').addClass('disabled');\r\n            }\r\n            else {\r\n                $next.removeAttr('disabled').removeClass('disabled');\r\n            }\r\n            if (index === 0) {\r\n                $prev.attr('disabled', 'disabled').addClass('disabled');\r\n            }\r\n            else {\r\n                $prev.removeAttr('disabled').removeClass('disabled');\r\n            }\r\n        }\r\n    };\r\n    LightGallery.prototype.setTranslate = function ($el, xValue, yValue, scaleX, scaleY) {\r\n        if (scaleX === void 0) { scaleX = 1; }\r\n        if (scaleY === void 0) { scaleY = 1; }\r\n        $el.css('transform', 'translate3d(' +\r\n            xValue +\r\n            'px, ' +\r\n            yValue +\r\n            'px, 0px) scale3d(' +\r\n            scaleX +\r\n            ', ' +\r\n            scaleY +\r\n            ', 1)');\r\n    };\r\n    LightGallery.prototype.mousewheel = function () {\r\n        var _this = this;\r\n        var lastCall = 0;\r\n        this.outer.on('wheel.lg', function (e) {\r\n            if (!e.deltaY || _this.galleryItems.length < 2) {\r\n                return;\r\n            }\r\n            e.preventDefault();\r\n            var now = new Date().getTime();\r\n            if (now - lastCall < 1000) {\r\n                return;\r\n            }\r\n            lastCall = now;\r\n            if (e.deltaY > 0) {\r\n                _this.goToNextSlide();\r\n            }\r\n            else if (e.deltaY < 0) {\r\n                _this.goToPrevSlide();\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.isSlideElement = function (target) {\r\n        return (target.hasClass('lg-outer') ||\r\n            target.hasClass('lg-item') ||\r\n            target.hasClass('lg-img-wrap') ||\r\n            target.hasClass('lg-img-rotate'));\r\n    };\r\n    LightGallery.prototype.isPosterElement = function (target) {\r\n        var playButton = this.getSlideItem(this.index)\r\n            .find('.lg-video-play-button')\r\n            .get();\r\n        return (target.hasClass('lg-video-poster') ||\r\n            target.hasClass('lg-video-play-button') ||\r\n            (playButton && playButton.contains(target.get())));\r\n    };\r\n    /**\r\n     * Maximize minimize inline gallery.\r\n     * @category lGPublicMethods\r\n     */\r\n    LightGallery.prototype.toggleMaximize = function () {\r\n        var _this = this;\r\n        this.getElementById('lg-maximize').on('click.lg', function () {\r\n            _this.$container.toggleClass('lg-inline');\r\n            _this.refreshOnResize();\r\n        });\r\n    };\r\n    LightGallery.prototype.invalidateItems = function () {\r\n        for (var index = 0; index < this.items.length; index++) {\r\n            var element = this.items[index];\r\n            var $element = $LG(element);\r\n            $element.off(\"click.lgcustom-item-\" + $element.attr('data-lg-id'));\r\n        }\r\n    };\r\n    LightGallery.prototype.trapFocus = function () {\r\n        var _this = this;\r\n        this.$container.get().focus({\r\n            preventScroll: true,\r\n        });\r\n        $LG(window).on(\"keydown.lg.global\" + this.lgId, function (e) {\r\n            if (!_this.lgOpened) {\r\n                return;\r\n            }\r\n            var isTabPressed = e.key === 'Tab' || e.keyCode === 9;\r\n            if (!isTabPressed) {\r\n                return;\r\n            }\r\n            var focusableEls = utils.getFocusableElements(_this.$container.get());\r\n            var firstFocusableEl = focusableEls[0];\r\n            var lastFocusableEl = focusableEls[focusableEls.length - 1];\r\n            if (e.shiftKey) {\r\n                if (document.activeElement === firstFocusableEl) {\r\n                    lastFocusableEl.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n            else {\r\n                if (document.activeElement === lastFocusableEl) {\r\n                    firstFocusableEl.focus();\r\n                    e.preventDefault();\r\n                }\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.manageCloseGallery = function () {\r\n        var _this = this;\r\n        if (!this.settings.closable)\r\n            return;\r\n        var mousedown = false;\r\n        this.getElementById('lg-close').on('click.lg', function () {\r\n            _this.closeGallery();\r\n        });\r\n        if (this.settings.closeOnTap) {\r\n            // If you drag the slide and release outside gallery gets close on chrome\r\n            // for preventing this check mousedown and mouseup happened on .lg-item or lg-outer\r\n            this.outer.on('mousedown.lg', function (e) {\r\n                var target = $LG(e.target);\r\n                if (_this.isSlideElement(target)) {\r\n                    mousedown = true;\r\n                }\r\n                else {\r\n                    mousedown = false;\r\n                }\r\n            });\r\n            this.outer.on('mousemove.lg', function () {\r\n                mousedown = false;\r\n            });\r\n            this.outer.on('mouseup.lg', function (e) {\r\n                var target = $LG(e.target);\r\n                if (_this.isSlideElement(target) && mousedown) {\r\n                    if (!_this.outer.hasClass('lg-dragging')) {\r\n                        _this.closeGallery();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    };\r\n    /**\r\n     * Close lightGallery if it is opened.\r\n     *\r\n     * @description If closable is false in the settings, you need to pass true via closeGallery method to force close gallery\r\n     * @return returns the estimated time to close gallery completely including the close animation duration\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.closeGallery();\r\n     *\r\n     */\r\n    LightGallery.prototype.closeGallery = function (force) {\r\n        var _this = this;\r\n        if (!this.lgOpened || (!this.settings.closable && !force)) {\r\n            return 0;\r\n        }\r\n        this.LGel.trigger(lGEvents.beforeClose);\r\n        if (this.settings.resetScrollPosition && !this.settings.hideScrollbar) {\r\n            $LG(window).scrollTop(this.prevScrollTop);\r\n        }\r\n        var currentItem = this.items[this.index];\r\n        var transform;\r\n        if (this.zoomFromOrigin && currentItem) {\r\n            var _a = this.mediaContainerPosition, top_4 = _a.top, bottom = _a.bottom;\r\n            var _b = this.galleryItems[this.index], __slideVideoInfo = _b.__slideVideoInfo, poster = _b.poster;\r\n            var imageSize = utils.getSize(currentItem, this.outer, top_4 + bottom, __slideVideoInfo && poster && this.settings.videoMaxSize);\r\n            transform = utils.getTransform(currentItem, this.outer, top_4, bottom, imageSize);\r\n        }\r\n        if (this.zoomFromOrigin && transform) {\r\n            this.outer.addClass('lg-closing lg-zoom-from-image');\r\n            this.getSlideItem(this.index)\r\n                .addClass('lg-start-end-progress')\r\n                .css('transition-duration', this.settings.startAnimationDuration + 'ms')\r\n                .css('transform', transform);\r\n        }\r\n        else {\r\n            this.outer.addClass('lg-hide-items');\r\n            // lg-zoom-from-image is used for setting the opacity to 1 if zoomFromOrigin is true\r\n            // If the closing item doesn't have the lg-size attribute, remove this class to avoid the closing css conflicts\r\n            this.outer.removeClass('lg-zoom-from-image');\r\n        }\r\n        // Unbind all events added by lightGallery\r\n        // @todo\r\n        //this.$el.off('.lg.tm');\r\n        this.destroyModules();\r\n        this.lGalleryOn = false;\r\n        this.isDummyImageRemoved = false;\r\n        this.zoomFromOrigin = this.settings.zoomFromOrigin;\r\n        clearTimeout(this.hideBarTimeout);\r\n        this.hideBarTimeout = false;\r\n        $LG('html').removeClass('lg-on');\r\n        this.outer.removeClass('lg-visible lg-components-open');\r\n        // Resetting opacity to 0 isd required as  vertical swipe to close function adds inline opacity.\r\n        this.$backdrop.removeClass('in').css('opacity', 0);\r\n        var removeTimeout = this.zoomFromOrigin && transform\r\n            ? Math.max(this.settings.startAnimationDuration, this.settings.backdropDuration)\r\n            : this.settings.backdropDuration;\r\n        this.$container.removeClass('lg-show-in');\r\n        // Once the closign animation is completed and gallery is invisible\r\n        setTimeout(function () {\r\n            if (_this.zoomFromOrigin && transform) {\r\n                _this.outer.removeClass('lg-zoom-from-image');\r\n            }\r\n            _this.$container.removeClass('lg-show');\r\n            // Reset scrollbar\r\n            _this.resetScrollBar();\r\n            // Need to remove inline opacity as it is used in the stylesheet as well\r\n            _this.$backdrop\r\n                .removeAttr('style')\r\n                .css('transition-duration', _this.settings.backdropDuration + 'ms');\r\n            _this.outer.removeClass(\"lg-closing \" + _this.settings.startClass);\r\n            _this.getSlideItem(_this.index).removeClass('lg-start-end-progress');\r\n            _this.$inner.empty();\r\n            if (_this.lgOpened) {\r\n                _this.LGel.trigger(lGEvents.afterClose, {\r\n                    instance: _this,\r\n                });\r\n            }\r\n            if (_this.$container.get()) {\r\n                _this.$container.get().blur();\r\n            }\r\n            _this.lgOpened = false;\r\n        }, removeTimeout + 100);\r\n        return removeTimeout + 100;\r\n    };\r\n    LightGallery.prototype.initModules = function () {\r\n        this.plugins.forEach(function (module) {\r\n            try {\r\n                module.init();\r\n            }\r\n            catch (err) {\r\n                console.warn(\"lightGallery:- make sure lightGallery module is properly initiated\");\r\n            }\r\n        });\r\n    };\r\n    LightGallery.prototype.destroyModules = function (destroy) {\r\n        this.plugins.forEach(function (module) {\r\n            try {\r\n                if (destroy) {\r\n                    module.destroy();\r\n                }\r\n                else {\r\n                    module.closeGallery && module.closeGallery();\r\n                }\r\n            }\r\n            catch (err) {\r\n                console.warn(\"lightGallery:- make sure lightGallery module is properly destroyed\");\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Refresh lightGallery with new set of children.\r\n     *\r\n     * @description This is useful to update the gallery when the child elements are changed without calling destroy method.\r\n     *\r\n     * If you are using dynamic mode, you can pass the modified array of dynamicEl as the first parameter to refresh the dynamic gallery\r\n     * @see <a href=\"/demos/dynamic-mode/\">Demo</a>\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  // Delete or add children, then call\r\n     *  plugin.refresh();\r\n     *\r\n     */\r\n    LightGallery.prototype.refresh = function (galleryItems) {\r\n        if (!this.settings.dynamic) {\r\n            this.invalidateItems();\r\n        }\r\n        if (galleryItems) {\r\n            this.galleryItems = galleryItems;\r\n        }\r\n        else {\r\n            this.galleryItems = this.getItems();\r\n        }\r\n        this.updateControls();\r\n        this.openGalleryOnItemClick();\r\n        this.LGel.trigger(lGEvents.updateSlides);\r\n    };\r\n    LightGallery.prototype.updateControls = function () {\r\n        this.addSlideVideoInfo(this.galleryItems);\r\n        this.updateCounterTotal();\r\n        this.manageSingleSlideClassName();\r\n    };\r\n    LightGallery.prototype.destroyGallery = function () {\r\n        this.destroyModules(true);\r\n        if (!this.settings.dynamic) {\r\n            this.invalidateItems();\r\n        }\r\n        $LG(window).off(\".lg.global\" + this.lgId);\r\n        this.LGel.off('.lg');\r\n        this.$container.remove();\r\n    };\r\n    /**\r\n     * Destroy lightGallery.\r\n     * Destroy lightGallery and its plugin instances completely\r\n     *\r\n     * @description This method also calls CloseGallery function internally. Returns the time takes to completely close and destroy the instance.\r\n     * In case if you want to re-initialize lightGallery right after destroying it, initialize it only once the destroy process is completed.\r\n     * You can use refresh method most of the times.\r\n     * @category lGPublicMethods\r\n     * @example\r\n     *  const plugin = lightGallery();\r\n     *  plugin.destroy();\r\n     *\r\n     */\r\n    LightGallery.prototype.destroy = function () {\r\n        var closeTimeout = this.closeGallery(true);\r\n        if (closeTimeout) {\r\n            setTimeout(this.destroyGallery.bind(this), closeTimeout);\r\n        }\r\n        else {\r\n            this.destroyGallery();\r\n        }\r\n        return closeTimeout;\r\n    };\r\n    return LightGallery;\r\n}());\n\nfunction lightGallery(el, options) {\r\n    return new LightGallery(el, options);\r\n}\n\nexport default lightGallery;\n//# sourceMappingURL=lightgallery.es5.js.map\n","/*!\n * lightgallery | 2.8.3 | March 1st 2025\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\nvar zoomSettings = {\r\n    scale: 1,\r\n    zoom: true,\r\n    infiniteZoom: true,\r\n    actualSize: true,\r\n    showZoomInOutIcons: false,\r\n    actualSizeIcons: {\r\n        zoomIn: 'lg-zoom-in',\r\n        zoomOut: 'lg-zoom-out',\r\n    },\r\n    enableZoomAfter: 300,\r\n    zoomPluginStrings: {\r\n        zoomIn: 'Zoom in',\r\n        zoomOut: 'Zoom out',\r\n        viewActualSize: 'View actual size',\r\n    },\r\n};\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n    autoplay: 'lgAutoplay',\r\n    autoplayStart: 'lgAutoplayStart',\r\n    autoplayStop: 'lgAutoplayStop',\r\n};\n\nvar ZOOM_TRANSITION_DURATION = 500;\r\nvar Zoom = /** @class */ (function () {\r\n    function Zoom(instance, $LG) {\r\n        // get lightGallery core plugin instance\r\n        this.core = instance;\r\n        this.$LG = $LG;\r\n        this.settings = __assign(__assign({}, zoomSettings), this.core.settings);\r\n        return this;\r\n    }\r\n    // Append Zoom controls. Actual size, Zoom-in, Zoom-out\r\n    Zoom.prototype.buildTemplates = function () {\r\n        var zoomIcons = this.settings.showZoomInOutIcons\r\n            ? \"<button id=\\\"\" + this.core.getIdName('lg-zoom-in') + \"\\\" type=\\\"button\\\" aria-label=\\\"\" + this.settings.zoomPluginStrings['zoomIn'] + \"\\\" class=\\\"lg-zoom-in lg-icon\\\"></button><button id=\\\"\" + this.core.getIdName('lg-zoom-out') + \"\\\" type=\\\"button\\\" aria-label=\\\"\" + this.settings.zoomPluginStrings['zoomOut'] + \"\\\" class=\\\"lg-zoom-out lg-icon\\\"></button>\"\r\n            : '';\r\n        if (this.settings.actualSize) {\r\n            zoomIcons += \"<button id=\\\"\" + this.core.getIdName('lg-actual-size') + \"\\\" type=\\\"button\\\" aria-label=\\\"\" + this.settings.zoomPluginStrings['viewActualSize'] + \"\\\" class=\\\"\" + this.settings.actualSizeIcons.zoomIn + \" lg-icon\\\"></button>\";\r\n        }\r\n        this.core.outer.addClass('lg-use-transition-for-zoom');\r\n        this.core.$toolbar.first().append(zoomIcons);\r\n    };\r\n    /**\r\n     * @desc Enable zoom option only once the image is completely loaded\r\n     * If zoomFromOrigin is true, Zoom is enabled once the dummy image has been inserted\r\n     *\r\n     * Zoom styles are defined under lg-zoomable CSS class.\r\n     */\r\n    Zoom.prototype.enableZoom = function (event) {\r\n        var _this = this;\r\n        // delay will be 0 except first time\r\n        var _speed = this.settings.enableZoomAfter + event.detail.delay;\r\n        // set _speed value 0 if gallery opened from direct url and if it is first slide\r\n        if (this.$LG('body').first().hasClass('lg-from-hash') &&\r\n            event.detail.delay) {\r\n            // will execute only once\r\n            _speed = 0;\r\n        }\r\n        else {\r\n            // Remove lg-from-hash to enable starting animation.\r\n            this.$LG('body').first().removeClass('lg-from-hash');\r\n        }\r\n        this.zoomableTimeout = setTimeout(function () {\r\n            if (!_this.isImageSlide(_this.core.index)) {\r\n                return;\r\n            }\r\n            _this.core.getSlideItem(event.detail.index).addClass('lg-zoomable');\r\n            if (event.detail.index === _this.core.index) {\r\n                _this.setZoomEssentials();\r\n            }\r\n        }, _speed + 30);\r\n    };\r\n    Zoom.prototype.enableZoomOnSlideItemLoad = function () {\r\n        // Add zoomable class\r\n        this.core.LGel.on(lGEvents.slideItemLoad + \".zoom\", this.enableZoom.bind(this));\r\n    };\r\n    Zoom.prototype.getDragCords = function (e) {\r\n        return {\r\n            x: e.pageX,\r\n            y: e.pageY,\r\n        };\r\n    };\r\n    Zoom.prototype.getSwipeCords = function (e) {\r\n        var x = e.touches[0].pageX;\r\n        var y = e.touches[0].pageY;\r\n        return {\r\n            x: x,\r\n            y: y,\r\n        };\r\n    };\r\n    Zoom.prototype.getDragAllowedAxises = function (scale, scaleDiff) {\r\n        if (!this.containerRect) {\r\n            return {\r\n                allowX: false,\r\n                allowY: false,\r\n            };\r\n        }\r\n        var $image = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-image')\r\n            .first()\r\n            .get();\r\n        var height = 0;\r\n        var width = 0;\r\n        var rect = $image.getBoundingClientRect();\r\n        if (scale) {\r\n            height = $image.offsetHeight * scale;\r\n            width = $image.offsetWidth * scale;\r\n        }\r\n        else if (scaleDiff) {\r\n            height = rect.height + scaleDiff * rect.height;\r\n            width = rect.width + scaleDiff * rect.width;\r\n        }\r\n        else {\r\n            height = rect.height;\r\n            width = rect.width;\r\n        }\r\n        var allowY = height > this.containerRect.height;\r\n        var allowX = width > this.containerRect.width;\r\n        return {\r\n            allowX: allowX,\r\n            allowY: allowY,\r\n        };\r\n    };\r\n    Zoom.prototype.setZoomEssentials = function () {\r\n        this.containerRect = this.core.$content.get().getBoundingClientRect();\r\n    };\r\n    /**\r\n     * @desc Image zoom\r\n     * Translate the wrap and scale the image to get better user experience\r\n     *\r\n     * @param {String} scale - Zoom decrement/increment value\r\n     */\r\n    Zoom.prototype.zoomImage = function (scale, scaleDiff, reposition, resetToMax) {\r\n        if (Math.abs(scaleDiff) <= 0)\r\n            return;\r\n        var offsetX = this.containerRect.width / 2 + this.containerRect.left;\r\n        var offsetY = this.containerRect.height / 2 +\r\n            this.containerRect.top +\r\n            this.scrollTop;\r\n        var originalX;\r\n        var originalY;\r\n        if (scale === 1) {\r\n            this.positionChanged = false;\r\n        }\r\n        var dragAllowedAxises = this.getDragAllowedAxises(0, scaleDiff);\r\n        var allowY = dragAllowedAxises.allowY, allowX = dragAllowedAxises.allowX;\r\n        if (this.positionChanged) {\r\n            originalX = this.left / (this.scale - scaleDiff);\r\n            originalY = this.top / (this.scale - scaleDiff);\r\n            this.pageX = offsetX - originalX;\r\n            this.pageY = offsetY - originalY;\r\n            this.positionChanged = false;\r\n        }\r\n        var possibleSwipeCords = this.getPossibleSwipeDragCords(scaleDiff);\r\n        var x;\r\n        var y;\r\n        var _x = offsetX - this.pageX;\r\n        var _y = offsetY - this.pageY;\r\n        if (scale - scaleDiff > 1) {\r\n            var scaleVal = (scale - scaleDiff) / Math.abs(scaleDiff);\r\n            _x =\r\n                (scaleDiff < 0 ? -_x : _x) +\r\n                    this.left * (scaleVal + (scaleDiff < 0 ? -1 : 1));\r\n            _y =\r\n                (scaleDiff < 0 ? -_y : _y) +\r\n                    this.top * (scaleVal + (scaleDiff < 0 ? -1 : 1));\r\n            x = _x / scaleVal;\r\n            y = _y / scaleVal;\r\n        }\r\n        else {\r\n            var scaleVal = (scale - scaleDiff) * scaleDiff;\r\n            x = _x * scaleVal;\r\n            y = _y * scaleVal;\r\n        }\r\n        if (reposition) {\r\n            if (allowX) {\r\n                if (this.isBeyondPossibleLeft(x, possibleSwipeCords.minX)) {\r\n                    x = possibleSwipeCords.minX;\r\n                }\r\n                else if (this.isBeyondPossibleRight(x, possibleSwipeCords.maxX)) {\r\n                    x = possibleSwipeCords.maxX;\r\n                }\r\n            }\r\n            else {\r\n                if (scale > 1) {\r\n                    if (x < possibleSwipeCords.minX) {\r\n                        x = possibleSwipeCords.minX;\r\n                    }\r\n                    else if (x > possibleSwipeCords.maxX) {\r\n                        x = possibleSwipeCords.maxX;\r\n                    }\r\n                }\r\n            }\r\n            // @todo fix this\r\n            if (allowY) {\r\n                if (this.isBeyondPossibleTop(y, possibleSwipeCords.minY)) {\r\n                    y = possibleSwipeCords.minY;\r\n                }\r\n                else if (this.isBeyondPossibleBottom(y, possibleSwipeCords.maxY)) {\r\n                    y = possibleSwipeCords.maxY;\r\n                }\r\n            }\r\n            else {\r\n                // If the translate value based on index of beyond the viewport, utilize the available space to prevent image being cut out\r\n                if (scale > 1) {\r\n                    //If image goes beyond viewport top, use the minim possible translate value\r\n                    if (y < possibleSwipeCords.minY) {\r\n                        y = possibleSwipeCords.minY;\r\n                    }\r\n                    else if (y > possibleSwipeCords.maxY) {\r\n                        y = possibleSwipeCords.maxY;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.setZoomStyles({\r\n            x: x,\r\n            y: y,\r\n            scale: scale,\r\n        });\r\n        this.left = x;\r\n        this.top = y;\r\n        if (resetToMax) {\r\n            this.setZoomImageSize();\r\n        }\r\n    };\r\n    Zoom.prototype.resetImageTranslate = function (index) {\r\n        if (!this.isImageSlide(index)) {\r\n            return;\r\n        }\r\n        var $image = this.core.getSlideItem(index).find('.lg-image').first();\r\n        this.imageReset = false;\r\n        $image.removeClass('reset-transition reset-transition-y reset-transition-x');\r\n        this.core.outer.removeClass('lg-actual-size');\r\n        $image.css('width', 'auto').css('height', 'auto');\r\n        setTimeout(function () {\r\n            $image.removeClass('no-transition');\r\n        }, 10);\r\n    };\r\n    Zoom.prototype.setZoomImageSize = function () {\r\n        var _this = this;\r\n        var $image = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-image')\r\n            .first();\r\n        setTimeout(function () {\r\n            var actualSizeScale = _this.getCurrentImageActualSizeScale();\r\n            if (_this.scale >= actualSizeScale) {\r\n                $image.addClass('no-transition');\r\n                _this.imageReset = true;\r\n            }\r\n        }, ZOOM_TRANSITION_DURATION);\r\n        setTimeout(function () {\r\n            var actualSizeScale = _this.getCurrentImageActualSizeScale();\r\n            if (_this.scale >= actualSizeScale) {\r\n                var dragAllowedAxises = _this.getDragAllowedAxises(_this.scale);\r\n                $image\r\n                    .css('width', $image.get().naturalWidth + 'px')\r\n                    .css('height', $image.get().naturalHeight + 'px');\r\n                _this.core.outer.addClass('lg-actual-size');\r\n                if (dragAllowedAxises.allowX && dragAllowedAxises.allowY) {\r\n                    $image.addClass('reset-transition');\r\n                }\r\n                else if (dragAllowedAxises.allowX &&\r\n                    !dragAllowedAxises.allowY) {\r\n                    $image.addClass('reset-transition-x');\r\n                }\r\n                else if (!dragAllowedAxises.allowX &&\r\n                    dragAllowedAxises.allowY) {\r\n                    $image.addClass('reset-transition-y');\r\n                }\r\n            }\r\n        }, ZOOM_TRANSITION_DURATION + 50);\r\n    };\r\n    /**\r\n     * @desc apply scale3d to image and translate to image wrap\r\n     * @param {style} X,Y and scale\r\n     */\r\n    Zoom.prototype.setZoomStyles = function (style) {\r\n        var $imageWrap = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-img-wrap')\r\n            .first();\r\n        var $image = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-image')\r\n            .first();\r\n        var $dummyImage = this.core.outer\r\n            .find('.lg-current .lg-dummy-img')\r\n            .first();\r\n        this.scale = style.scale;\r\n        $image.css('transform', 'scale3d(' + style.scale + ', ' + style.scale + ', 1)');\r\n        $dummyImage.css('transform', 'scale3d(' + style.scale + ', ' + style.scale + ', 1)');\r\n        var transform = 'translate3d(' + style.x + 'px, ' + style.y + 'px, 0)';\r\n        $imageWrap.css('transform', transform);\r\n    };\r\n    /**\r\n     * @param index - Index of the current slide\r\n     * @param event - event will be available only if the function is called on clicking/taping the imags\r\n     */\r\n    Zoom.prototype.setActualSize = function (index, event) {\r\n        var _this = this;\r\n        if (this.zoomInProgress) {\r\n            return;\r\n        }\r\n        this.zoomInProgress = true;\r\n        var currentItem = this.core.galleryItems[this.core.index];\r\n        this.resetImageTranslate(index);\r\n        setTimeout(function () {\r\n            // Allow zoom only on image\r\n            if (!currentItem.src ||\r\n                _this.core.outer.hasClass('lg-first-slide-loading')) {\r\n                return;\r\n            }\r\n            var scale = _this.getCurrentImageActualSizeScale();\r\n            var prevScale = _this.scale;\r\n            if (_this.core.outer.hasClass('lg-zoomed')) {\r\n                _this.scale = 1;\r\n            }\r\n            else {\r\n                _this.scale = _this.getScale(scale);\r\n            }\r\n            _this.setPageCords(event);\r\n            _this.beginZoom(_this.scale);\r\n            _this.zoomImage(_this.scale, _this.scale - prevScale, true, true);\r\n        }, 50);\r\n        setTimeout(function () {\r\n            _this.core.outer.removeClass('lg-grabbing').addClass('lg-grab');\r\n        }, 60);\r\n        setTimeout(function () {\r\n            _this.zoomInProgress = false;\r\n        }, ZOOM_TRANSITION_DURATION + 110);\r\n    };\r\n    Zoom.prototype.getNaturalWidth = function (index) {\r\n        var $image = this.core.getSlideItem(index).find('.lg-image').first();\r\n        var naturalWidth = this.core.galleryItems[index].width;\r\n        return naturalWidth\r\n            ? parseFloat(naturalWidth)\r\n            : $image.get().naturalWidth;\r\n    };\r\n    Zoom.prototype.getActualSizeScale = function (naturalWidth, width) {\r\n        var _scale;\r\n        var scale;\r\n        if (naturalWidth >= width) {\r\n            _scale = naturalWidth / width;\r\n            scale = _scale || 2;\r\n        }\r\n        else {\r\n            scale = 1;\r\n        }\r\n        return scale;\r\n    };\r\n    Zoom.prototype.getCurrentImageActualSizeScale = function () {\r\n        var $image = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-image')\r\n            .first();\r\n        var width = $image.get().offsetWidth;\r\n        var naturalWidth = this.getNaturalWidth(this.core.index) || width;\r\n        return this.getActualSizeScale(naturalWidth, width);\r\n    };\r\n    Zoom.prototype.getPageCords = function (event) {\r\n        var cords = {};\r\n        if (event) {\r\n            cords.x = event.pageX || event.touches[0].pageX;\r\n            cords.y = event.pageY || event.touches[0].pageY;\r\n        }\r\n        else {\r\n            var containerRect = this.core.$content\r\n                .get()\r\n                .getBoundingClientRect();\r\n            cords.x = containerRect.width / 2 + containerRect.left;\r\n            cords.y =\r\n                containerRect.height / 2 + this.scrollTop + containerRect.top;\r\n        }\r\n        return cords;\r\n    };\r\n    Zoom.prototype.setPageCords = function (event) {\r\n        var pageCords = this.getPageCords(event);\r\n        this.pageX = pageCords.x;\r\n        this.pageY = pageCords.y;\r\n    };\r\n    Zoom.prototype.manageActualPixelClassNames = function () {\r\n        var $actualSize = this.core.getElementById('lg-actual-size');\r\n        $actualSize\r\n            .removeClass(this.settings.actualSizeIcons.zoomIn)\r\n            .addClass(this.settings.actualSizeIcons.zoomOut);\r\n    };\r\n    // If true, zoomed - in else zoomed out\r\n    Zoom.prototype.beginZoom = function (scale) {\r\n        this.core.outer.removeClass('lg-zoom-drag-transition lg-zoom-dragging');\r\n        if (scale > 1) {\r\n            this.core.outer.addClass('lg-zoomed');\r\n            this.manageActualPixelClassNames();\r\n        }\r\n        else {\r\n            this.resetZoom();\r\n        }\r\n        return scale > 1;\r\n    };\r\n    Zoom.prototype.getScale = function (scale) {\r\n        var actualSizeScale = this.getCurrentImageActualSizeScale();\r\n        if (scale < 1) {\r\n            scale = 1;\r\n        }\r\n        else if (scale > actualSizeScale) {\r\n            scale = actualSizeScale;\r\n        }\r\n        return scale;\r\n    };\r\n    Zoom.prototype.init = function () {\r\n        var _this = this;\r\n        if (!this.settings.zoom) {\r\n            return;\r\n        }\r\n        this.buildTemplates();\r\n        this.enableZoomOnSlideItemLoad();\r\n        var tapped = null;\r\n        this.core.outer.on('dblclick.lg', function (event) {\r\n            if (!_this.$LG(event.target).hasClass('lg-image')) {\r\n                return;\r\n            }\r\n            _this.setActualSize(_this.core.index, event);\r\n        });\r\n        this.core.outer.on('touchstart.lg', function (event) {\r\n            var $target = _this.$LG(event.target);\r\n            if (event.touches.length === 1 && $target.hasClass('lg-image')) {\r\n                if (!tapped) {\r\n                    tapped = setTimeout(function () {\r\n                        tapped = null;\r\n                    }, 300);\r\n                }\r\n                else {\r\n                    clearTimeout(tapped);\r\n                    tapped = null;\r\n                    event.preventDefault();\r\n                    _this.setActualSize(_this.core.index, event);\r\n                }\r\n            }\r\n        });\r\n        this.core.LGel.on(lGEvents.containerResize + \".zoom \" + lGEvents.rotateRight + \".zoom \" + lGEvents.rotateLeft + \".zoom \" + lGEvents.flipHorizontal + \".zoom \" + lGEvents.flipVertical + \".zoom\", function () {\r\n            if (!_this.core.lgOpened ||\r\n                !_this.isImageSlide(_this.core.index) ||\r\n                _this.core.touchAction) {\r\n                return;\r\n            }\r\n            var _LGel = _this.core\r\n                .getSlideItem(_this.core.index)\r\n                .find('.lg-img-wrap')\r\n                .first();\r\n            _this.top = 0;\r\n            _this.left = 0;\r\n            _this.setZoomEssentials();\r\n            _this.setZoomSwipeStyles(_LGel, { x: 0, y: 0 });\r\n            _this.positionChanged = true;\r\n        });\r\n        // Update zoom on resize and orientationchange\r\n        this.$LG(window).on(\"scroll.lg.zoom.global\" + this.core.lgId, function () {\r\n            if (!_this.core.lgOpened)\r\n                return;\r\n            _this.scrollTop = _this.$LG(window).scrollTop();\r\n        });\r\n        this.core.getElementById('lg-zoom-out').on('click.lg', function () {\r\n            // Allow zoom only on image\r\n            if (!_this.isImageSlide(_this.core.index)) {\r\n                return;\r\n            }\r\n            var timeout = 0;\r\n            if (_this.imageReset) {\r\n                _this.resetImageTranslate(_this.core.index);\r\n                timeout = 50;\r\n            }\r\n            setTimeout(function () {\r\n                var scale = _this.scale - _this.settings.scale;\r\n                if (scale < 1) {\r\n                    scale = 1;\r\n                }\r\n                _this.beginZoom(scale);\r\n                _this.zoomImage(scale, -_this.settings.scale, true, !_this.settings.infiniteZoom);\r\n            }, timeout);\r\n        });\r\n        this.core.getElementById('lg-zoom-in').on('click.lg', function () {\r\n            _this.zoomIn();\r\n        });\r\n        this.core.getElementById('lg-actual-size').on('click.lg', function () {\r\n            _this.setActualSize(_this.core.index);\r\n        });\r\n        this.core.LGel.on(lGEvents.beforeOpen + \".zoom\", function () {\r\n            _this.core.outer.find('.lg-item').removeClass('lg-zoomable');\r\n        });\r\n        this.core.LGel.on(lGEvents.afterOpen + \".zoom\", function () {\r\n            _this.scrollTop = _this.$LG(window).scrollTop();\r\n            // Set the initial value center\r\n            _this.pageX = _this.core.outer.width() / 2;\r\n            _this.pageY = _this.core.outer.height() / 2 + _this.scrollTop;\r\n            _this.scale = 1;\r\n        });\r\n        // Reset zoom on slide change\r\n        this.core.LGel.on(lGEvents.afterSlide + \".zoom\", function (event) {\r\n            var prevIndex = event.detail.prevIndex;\r\n            _this.scale = 1;\r\n            _this.positionChanged = false;\r\n            _this.zoomInProgress = false;\r\n            _this.resetZoom(prevIndex);\r\n            _this.resetImageTranslate(prevIndex);\r\n            if (_this.isImageSlide(_this.core.index)) {\r\n                _this.setZoomEssentials();\r\n            }\r\n        });\r\n        // Drag option after zoom\r\n        this.zoomDrag();\r\n        this.pinchZoom();\r\n        this.zoomSwipe();\r\n        // Store the zoomable timeout value just to clear it while closing\r\n        this.zoomableTimeout = false;\r\n        this.positionChanged = false;\r\n        this.zoomInProgress = false;\r\n    };\r\n    Zoom.prototype.zoomIn = function () {\r\n        // Allow zoom only on image\r\n        if (!this.isImageSlide(this.core.index)) {\r\n            return;\r\n        }\r\n        var scale = this.scale + this.settings.scale;\r\n        if (!this.settings.infiniteZoom) {\r\n            scale = this.getScale(scale);\r\n        }\r\n        this.beginZoom(scale);\r\n        this.zoomImage(scale, Math.min(this.settings.scale, scale - this.scale), true, !this.settings.infiniteZoom);\r\n    };\r\n    // Reset zoom effect\r\n    Zoom.prototype.resetZoom = function (index) {\r\n        this.core.outer.removeClass('lg-zoomed lg-zoom-drag-transition');\r\n        var $actualSize = this.core.getElementById('lg-actual-size');\r\n        var $item = this.core.getSlideItem(index !== undefined ? index : this.core.index);\r\n        $actualSize\r\n            .removeClass(this.settings.actualSizeIcons.zoomOut)\r\n            .addClass(this.settings.actualSizeIcons.zoomIn);\r\n        $item.find('.lg-img-wrap').first().removeAttr('style');\r\n        $item.find('.lg-image').first().removeAttr('style');\r\n        this.scale = 1;\r\n        this.left = 0;\r\n        this.top = 0;\r\n        // Reset pagx pagy values to center\r\n        this.setPageCords();\r\n    };\r\n    Zoom.prototype.getTouchDistance = function (e) {\r\n        return Math.sqrt((e.touches[0].pageX - e.touches[1].pageX) *\r\n            (e.touches[0].pageX - e.touches[1].pageX) +\r\n            (e.touches[0].pageY - e.touches[1].pageY) *\r\n                (e.touches[0].pageY - e.touches[1].pageY));\r\n    };\r\n    Zoom.prototype.pinchZoom = function () {\r\n        var _this = this;\r\n        var startDist = 0;\r\n        var pinchStarted = false;\r\n        var initScale = 1;\r\n        var prevScale = 0;\r\n        var $item = this.core.getSlideItem(this.core.index);\r\n        this.core.outer.on('touchstart.lg', function (e) {\r\n            $item = _this.core.getSlideItem(_this.core.index);\r\n            if (!_this.isImageSlide(_this.core.index)) {\r\n                return;\r\n            }\r\n            if (e.touches.length === 2) {\r\n                e.preventDefault();\r\n                if (_this.core.outer.hasClass('lg-first-slide-loading')) {\r\n                    return;\r\n                }\r\n                initScale = _this.scale || 1;\r\n                _this.core.outer.removeClass('lg-zoom-drag-transition lg-zoom-dragging');\r\n                _this.setPageCords(e);\r\n                _this.resetImageTranslate(_this.core.index);\r\n                _this.core.touchAction = 'pinch';\r\n                startDist = _this.getTouchDistance(e);\r\n            }\r\n        });\r\n        this.core.$inner.on('touchmove.lg', function (e) {\r\n            if (e.touches.length === 2 &&\r\n                _this.core.touchAction === 'pinch' &&\r\n                (_this.$LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target))) {\r\n                e.preventDefault();\r\n                var endDist = _this.getTouchDistance(e);\r\n                var distance = startDist - endDist;\r\n                if (!pinchStarted && Math.abs(distance) > 5) {\r\n                    pinchStarted = true;\r\n                }\r\n                if (pinchStarted) {\r\n                    prevScale = _this.scale;\r\n                    var _scale = Math.max(1, initScale + -distance * 0.02);\r\n                    _this.scale =\r\n                        Math.round((_scale + Number.EPSILON) * 100) / 100;\r\n                    var diff = _this.scale - prevScale;\r\n                    _this.zoomImage(_this.scale, Math.round((diff + Number.EPSILON) * 100) / 100, false, false);\r\n                }\r\n            }\r\n        });\r\n        this.core.$inner.on('touchend.lg', function (e) {\r\n            if (_this.core.touchAction === 'pinch' &&\r\n                (_this.$LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target))) {\r\n                pinchStarted = false;\r\n                startDist = 0;\r\n                if (_this.scale <= 1) {\r\n                    _this.resetZoom();\r\n                }\r\n                else {\r\n                    var actualSizeScale = _this.getCurrentImageActualSizeScale();\r\n                    if (_this.scale >= actualSizeScale) {\r\n                        var scaleDiff = actualSizeScale - _this.scale;\r\n                        if (scaleDiff === 0) {\r\n                            scaleDiff = 0.01;\r\n                        }\r\n                        _this.zoomImage(actualSizeScale, scaleDiff, false, true);\r\n                    }\r\n                    _this.manageActualPixelClassNames();\r\n                    _this.core.outer.addClass('lg-zoomed');\r\n                }\r\n                _this.core.touchAction = undefined;\r\n            }\r\n        });\r\n    };\r\n    Zoom.prototype.touchendZoom = function (startCoords, endCoords, allowX, allowY, touchDuration) {\r\n        var distanceXnew = endCoords.x - startCoords.x;\r\n        var distanceYnew = endCoords.y - startCoords.y;\r\n        var speedX = Math.abs(distanceXnew) / touchDuration + 1;\r\n        var speedY = Math.abs(distanceYnew) / touchDuration + 1;\r\n        if (speedX > 2) {\r\n            speedX += 1;\r\n        }\r\n        if (speedY > 2) {\r\n            speedY += 1;\r\n        }\r\n        distanceXnew = distanceXnew * speedX;\r\n        distanceYnew = distanceYnew * speedY;\r\n        var _LGel = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-img-wrap')\r\n            .first();\r\n        var distance = {};\r\n        distance.x = this.left + distanceXnew;\r\n        distance.y = this.top + distanceYnew;\r\n        var possibleSwipeCords = this.getPossibleSwipeDragCords();\r\n        if (Math.abs(distanceXnew) > 15 || Math.abs(distanceYnew) > 15) {\r\n            if (allowY) {\r\n                if (this.isBeyondPossibleTop(distance.y, possibleSwipeCords.minY)) {\r\n                    distance.y = possibleSwipeCords.minY;\r\n                }\r\n                else if (this.isBeyondPossibleBottom(distance.y, possibleSwipeCords.maxY)) {\r\n                    distance.y = possibleSwipeCords.maxY;\r\n                }\r\n            }\r\n            if (allowX) {\r\n                if (this.isBeyondPossibleLeft(distance.x, possibleSwipeCords.minX)) {\r\n                    distance.x = possibleSwipeCords.minX;\r\n                }\r\n                else if (this.isBeyondPossibleRight(distance.x, possibleSwipeCords.maxX)) {\r\n                    distance.x = possibleSwipeCords.maxX;\r\n                }\r\n            }\r\n            if (allowY) {\r\n                this.top = distance.y;\r\n            }\r\n            else {\r\n                distance.y = this.top;\r\n            }\r\n            if (allowX) {\r\n                this.left = distance.x;\r\n            }\r\n            else {\r\n                distance.x = this.left;\r\n            }\r\n            this.setZoomSwipeStyles(_LGel, distance);\r\n            this.positionChanged = true;\r\n        }\r\n    };\r\n    Zoom.prototype.getZoomSwipeCords = function (startCoords, endCoords, allowX, allowY, possibleSwipeCords) {\r\n        var distance = {};\r\n        if (allowY) {\r\n            distance.y = this.top + (endCoords.y - startCoords.y);\r\n            if (this.isBeyondPossibleTop(distance.y, possibleSwipeCords.minY)) {\r\n                var diffMinY = possibleSwipeCords.minY - distance.y;\r\n                distance.y = possibleSwipeCords.minY - diffMinY / 6;\r\n            }\r\n            else if (this.isBeyondPossibleBottom(distance.y, possibleSwipeCords.maxY)) {\r\n                var diffMaxY = distance.y - possibleSwipeCords.maxY;\r\n                distance.y = possibleSwipeCords.maxY + diffMaxY / 6;\r\n            }\r\n        }\r\n        else {\r\n            distance.y = this.top;\r\n        }\r\n        if (allowX) {\r\n            distance.x = this.left + (endCoords.x - startCoords.x);\r\n            if (this.isBeyondPossibleLeft(distance.x, possibleSwipeCords.minX)) {\r\n                var diffMinX = possibleSwipeCords.minX - distance.x;\r\n                distance.x = possibleSwipeCords.minX - diffMinX / 6;\r\n            }\r\n            else if (this.isBeyondPossibleRight(distance.x, possibleSwipeCords.maxX)) {\r\n                var difMaxX = distance.x - possibleSwipeCords.maxX;\r\n                distance.x = possibleSwipeCords.maxX + difMaxX / 6;\r\n            }\r\n        }\r\n        else {\r\n            distance.x = this.left;\r\n        }\r\n        return distance;\r\n    };\r\n    Zoom.prototype.isBeyondPossibleLeft = function (x, minX) {\r\n        return x >= minX;\r\n    };\r\n    Zoom.prototype.isBeyondPossibleRight = function (x, maxX) {\r\n        return x <= maxX;\r\n    };\r\n    Zoom.prototype.isBeyondPossibleTop = function (y, minY) {\r\n        return y >= minY;\r\n    };\r\n    Zoom.prototype.isBeyondPossibleBottom = function (y, maxY) {\r\n        return y <= maxY;\r\n    };\r\n    Zoom.prototype.isImageSlide = function (index) {\r\n        var currentItem = this.core.galleryItems[index];\r\n        return this.core.getSlideType(currentItem) === 'image';\r\n    };\r\n    Zoom.prototype.getPossibleSwipeDragCords = function (scale) {\r\n        var $image = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-image')\r\n            .first();\r\n        var bottom = this.core.mediaContainerPosition.bottom;\r\n        var imgRect = $image.get().getBoundingClientRect();\r\n        var imageHeight = imgRect.height;\r\n        var imageWidth = imgRect.width;\r\n        if (scale) {\r\n            imageHeight = imageHeight + scale * imageHeight;\r\n            imageWidth = imageWidth + scale * imageWidth;\r\n        }\r\n        var minY = (imageHeight - this.containerRect.height) / 2;\r\n        var maxY = (this.containerRect.height - imageHeight) / 2 + bottom;\r\n        var minX = (imageWidth - this.containerRect.width) / 2;\r\n        var maxX = (this.containerRect.width - imageWidth) / 2;\r\n        var possibleSwipeCords = {\r\n            minY: minY,\r\n            maxY: maxY,\r\n            minX: minX,\r\n            maxX: maxX,\r\n        };\r\n        return possibleSwipeCords;\r\n    };\r\n    Zoom.prototype.setZoomSwipeStyles = function (LGel, distance) {\r\n        LGel.css('transform', 'translate3d(' + distance.x + 'px, ' + distance.y + 'px, 0)');\r\n    };\r\n    Zoom.prototype.zoomSwipe = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isMoved = false;\r\n        // Allow x direction drag\r\n        var allowX = false;\r\n        // Allow Y direction drag\r\n        var allowY = false;\r\n        var startTime = new Date();\r\n        var endTime = new Date();\r\n        var possibleSwipeCords;\r\n        var _LGel;\r\n        var $item = this.core.getSlideItem(this.core.index);\r\n        this.core.$inner.on('touchstart.lg', function (e) {\r\n            // Allow zoom only on image\r\n            if (!_this.isImageSlide(_this.core.index)) {\r\n                return;\r\n            }\r\n            $item = _this.core.getSlideItem(_this.core.index);\r\n            if ((_this.$LG(e.target).hasClass('lg-item') ||\r\n                $item.get().contains(e.target)) &&\r\n                e.touches.length === 1 &&\r\n                _this.core.outer.hasClass('lg-zoomed')) {\r\n                e.preventDefault();\r\n                startTime = new Date();\r\n                _this.core.touchAction = 'zoomSwipe';\r\n                _LGel = _this.core\r\n                    .getSlideItem(_this.core.index)\r\n                    .find('.lg-img-wrap')\r\n                    .first();\r\n                var dragAllowedAxises = _this.getDragAllowedAxises(0);\r\n                allowY = dragAllowedAxises.allowY;\r\n                allowX = dragAllowedAxises.allowX;\r\n                if (allowX || allowY) {\r\n                    startCoords = _this.getSwipeCords(e);\r\n                }\r\n                possibleSwipeCords = _this.getPossibleSwipeDragCords();\r\n                // reset opacity and transition duration\r\n                _this.core.outer.addClass('lg-zoom-dragging lg-zoom-drag-transition');\r\n            }\r\n        });\r\n        this.core.$inner.on('touchmove.lg', function (e) {\r\n            if (e.touches.length === 1 &&\r\n                _this.core.touchAction === 'zoomSwipe' &&\r\n                (_this.$LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target))) {\r\n                e.preventDefault();\r\n                _this.core.touchAction = 'zoomSwipe';\r\n                endCoords = _this.getSwipeCords(e);\r\n                var distance = _this.getZoomSwipeCords(startCoords, endCoords, allowX, allowY, possibleSwipeCords);\r\n                if (Math.abs(endCoords.x - startCoords.x) > 15 ||\r\n                    Math.abs(endCoords.y - startCoords.y) > 15) {\r\n                    isMoved = true;\r\n                    _this.setZoomSwipeStyles(_LGel, distance);\r\n                }\r\n            }\r\n        });\r\n        this.core.$inner.on('touchend.lg', function (e) {\r\n            if (_this.core.touchAction === 'zoomSwipe' &&\r\n                (_this.$LG(e.target).hasClass('lg-item') ||\r\n                    $item.get().contains(e.target))) {\r\n                e.preventDefault();\r\n                _this.core.touchAction = undefined;\r\n                _this.core.outer.removeClass('lg-zoom-dragging');\r\n                if (!isMoved) {\r\n                    return;\r\n                }\r\n                isMoved = false;\r\n                endTime = new Date();\r\n                var touchDuration = endTime.valueOf() - startTime.valueOf();\r\n                _this.touchendZoom(startCoords, endCoords, allowX, allowY, touchDuration);\r\n            }\r\n        });\r\n    };\r\n    Zoom.prototype.zoomDrag = function () {\r\n        var _this = this;\r\n        var startCoords = {};\r\n        var endCoords = {};\r\n        var isDragging = false;\r\n        var isMoved = false;\r\n        // Allow x direction drag\r\n        var allowX = false;\r\n        // Allow Y direction drag\r\n        var allowY = false;\r\n        var startTime;\r\n        var endTime;\r\n        var possibleSwipeCords;\r\n        var _LGel;\r\n        this.core.outer.on('mousedown.lg.zoom', function (e) {\r\n            // Allow zoom only on image\r\n            if (!_this.isImageSlide(_this.core.index)) {\r\n                return;\r\n            }\r\n            var $item = _this.core.getSlideItem(_this.core.index);\r\n            if (_this.$LG(e.target).hasClass('lg-item') ||\r\n                $item.get().contains(e.target)) {\r\n                startTime = new Date();\r\n                _LGel = _this.core\r\n                    .getSlideItem(_this.core.index)\r\n                    .find('.lg-img-wrap')\r\n                    .first();\r\n                var dragAllowedAxises = _this.getDragAllowedAxises(0);\r\n                allowY = dragAllowedAxises.allowY;\r\n                allowX = dragAllowedAxises.allowX;\r\n                if (_this.core.outer.hasClass('lg-zoomed')) {\r\n                    if (_this.$LG(e.target).hasClass('lg-object') &&\r\n                        (allowX || allowY)) {\r\n                        e.preventDefault();\r\n                        startCoords = _this.getDragCords(e);\r\n                        possibleSwipeCords = _this.getPossibleSwipeDragCords();\r\n                        isDragging = true;\r\n                        _this.core.outer\r\n                            .removeClass('lg-grab')\r\n                            .addClass('lg-grabbing lg-zoom-drag-transition lg-zoom-dragging');\r\n                        // reset opacity and transition duration\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.$LG(window).on(\"mousemove.lg.zoom.global\" + this.core.lgId, function (e) {\r\n            if (isDragging) {\r\n                isMoved = true;\r\n                endCoords = _this.getDragCords(e);\r\n                var distance = _this.getZoomSwipeCords(startCoords, endCoords, allowX, allowY, possibleSwipeCords);\r\n                _this.setZoomSwipeStyles(_LGel, distance);\r\n            }\r\n        });\r\n        this.$LG(window).on(\"mouseup.lg.zoom.global\" + this.core.lgId, function (e) {\r\n            if (isDragging) {\r\n                endTime = new Date();\r\n                isDragging = false;\r\n                _this.core.outer.removeClass('lg-zoom-dragging');\r\n                // Fix for chrome mouse move on click\r\n                if (isMoved &&\r\n                    (startCoords.x !== endCoords.x ||\r\n                        startCoords.y !== endCoords.y)) {\r\n                    endCoords = _this.getDragCords(e);\r\n                    var touchDuration = endTime.valueOf() - startTime.valueOf();\r\n                    _this.touchendZoom(startCoords, endCoords, allowX, allowY, touchDuration);\r\n                }\r\n                isMoved = false;\r\n            }\r\n            _this.core.outer.removeClass('lg-grabbing').addClass('lg-grab');\r\n        });\r\n    };\r\n    Zoom.prototype.closeGallery = function () {\r\n        this.resetZoom();\r\n        this.zoomInProgress = false;\r\n    };\r\n    Zoom.prototype.destroy = function () {\r\n        // Unbind all events added by lightGallery zoom plugin\r\n        this.$LG(window).off(\".lg.zoom.global\" + this.core.lgId);\r\n        this.core.LGel.off('.lg.zoom');\r\n        this.core.LGel.off('.zoom');\r\n        clearTimeout(this.zoomableTimeout);\r\n        this.zoomableTimeout = false;\r\n    };\r\n    return Zoom;\r\n}());\n\nexport default Zoom;\n//# sourceMappingURL=lg-zoom.es5.js.map\n","/*!\n * lightgallery | 2.8.3 | March 1st 2025\n * http://www.lightgalleryjs.com/\n * Copyright (c) 2020 Sachin Neravath;\n * @license GPLv3\n */\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\n\n/**\r\n * List of lightGallery events\r\n * All events should be documented here\r\n * Below interfaces are used to build the website documentations\r\n * */\r\nvar lGEvents = {\r\n    afterAppendSlide: 'lgAfterAppendSlide',\r\n    init: 'lgInit',\r\n    hasVideo: 'lgHasVideo',\r\n    containerResize: 'lgContainerResize',\r\n    updateSlides: 'lgUpdateSlides',\r\n    afterAppendSubHtml: 'lgAfterAppendSubHtml',\r\n    beforeOpen: 'lgBeforeOpen',\r\n    afterOpen: 'lgAfterOpen',\r\n    slideItemLoad: 'lgSlideItemLoad',\r\n    beforeSlide: 'lgBeforeSlide',\r\n    afterSlide: 'lgAfterSlide',\r\n    posterClick: 'lgPosterClick',\r\n    dragStart: 'lgDragStart',\r\n    dragMove: 'lgDragMove',\r\n    dragEnd: 'lgDragEnd',\r\n    beforeNextSlide: 'lgBeforeNextSlide',\r\n    beforePrevSlide: 'lgBeforePrevSlide',\r\n    beforeClose: 'lgBeforeClose',\r\n    afterClose: 'lgAfterClose',\r\n    rotateLeft: 'lgRotateLeft',\r\n    rotateRight: 'lgRotateRight',\r\n    flipHorizontal: 'lgFlipHorizontal',\r\n    flipVertical: 'lgFlipVertical',\r\n    autoplay: 'lgAutoplay',\r\n    autoplayStart: 'lgAutoplayStart',\r\n    autoplayStop: 'lgAutoplayStop',\r\n};\n\nvar rotateSettings = {\r\n    rotate: true,\r\n    rotateSpeed: 400,\r\n    rotateLeft: true,\r\n    rotateRight: true,\r\n    flipHorizontal: true,\r\n    flipVertical: true,\r\n    rotatePluginStrings: {\r\n        flipVertical: 'Flip vertical',\r\n        flipHorizontal: 'Flip horizontal',\r\n        rotateLeft: 'Rotate left',\r\n        rotateRight: 'Rotate right',\r\n    },\r\n};\n\nvar Rotate = /** @class */ (function () {\r\n    function Rotate(instance, $LG) {\r\n        // get lightGallery core plugin instance\r\n        this.core = instance;\r\n        this.$LG = $LG;\r\n        // extend module default settings with lightGallery core settings\r\n        this.settings = __assign(__assign({}, rotateSettings), this.core.settings);\r\n        return this;\r\n    }\r\n    Rotate.prototype.buildTemplates = function () {\r\n        var rotateIcons = '';\r\n        if (this.settings.flipVertical) {\r\n            rotateIcons += \"<button type=\\\"button\\\" id=\\\"lg-flip-ver\\\" aria-label=\\\"\" + this.settings.rotatePluginStrings['flipVertical'] + \"\\\" class=\\\"lg-flip-ver lg-icon\\\"></button>\";\r\n        }\r\n        if (this.settings.flipHorizontal) {\r\n            rotateIcons += \"<button type=\\\"button\\\" id=\\\"lg-flip-hor\\\" aria-label=\\\"\" + this.settings.rotatePluginStrings['flipHorizontal'] + \"\\\" class=\\\"lg-flip-hor lg-icon\\\"></button>\";\r\n        }\r\n        if (this.settings.rotateLeft) {\r\n            rotateIcons += \"<button type=\\\"button\\\" id=\\\"lg-rotate-left\\\" aria-label=\\\"\" + this.settings.rotatePluginStrings['rotateLeft'] + \"\\\" class=\\\"lg-rotate-left lg-icon\\\"></button>\";\r\n        }\r\n        if (this.settings.rotateRight) {\r\n            rotateIcons += \"<button type=\\\"button\\\" id=\\\"lg-rotate-right\\\" aria-label=\\\"\" + this.settings.rotatePluginStrings['rotateRight'] + \"\\\" class=\\\"lg-rotate-right lg-icon\\\"></button>\";\r\n        }\r\n        this.core.$toolbar.append(rotateIcons);\r\n    };\r\n    Rotate.prototype.init = function () {\r\n        var _this = this;\r\n        if (!this.settings.rotate) {\r\n            return;\r\n        }\r\n        this.buildTemplates();\r\n        // Save rotate config for each item to persist its rotate, flip values\r\n        // even after navigating to diferent slides\r\n        this.rotateValuesList = {};\r\n        // event triggered after appending slide content\r\n        this.core.LGel.on(lGEvents.slideItemLoad + \".rotate\", function (event) {\r\n            var index = event.detail.index;\r\n            var rotateEl = _this.core\r\n                .getSlideItem(index)\r\n                .find('.lg-img-rotate')\r\n                .get();\r\n            if (!rotateEl) {\r\n                var imageWrap = _this.core\r\n                    .getSlideItem(index)\r\n                    .find('.lg-object')\r\n                    .first();\r\n                imageWrap.wrap('lg-img-rotate');\r\n                //this.rotateValuesList[this.core.index]\r\n                _this.core\r\n                    .getSlideItem(_this.core.index)\r\n                    .find('.lg-img-rotate')\r\n                    .css('transition-duration', _this.settings.rotateSpeed + 'ms');\r\n            }\r\n        });\r\n        this.core.outer\r\n            .find('#lg-rotate-left')\r\n            .first()\r\n            .on('click.lg', this.rotateLeft.bind(this));\r\n        this.core.outer\r\n            .find('#lg-rotate-right')\r\n            .first()\r\n            .on('click.lg', this.rotateRight.bind(this));\r\n        this.core.outer\r\n            .find('#lg-flip-hor')\r\n            .first()\r\n            .on('click.lg', this.flipHorizontal.bind(this));\r\n        this.core.outer\r\n            .find('#lg-flip-ver')\r\n            .first()\r\n            .on('click.lg', this.flipVertical.bind(this));\r\n        // Reset rotate on slide change\r\n        this.core.LGel.on(lGEvents.beforeSlide + \".rotate\", function (event) {\r\n            if (!_this.rotateValuesList[event.detail.index]) {\r\n                _this.rotateValuesList[event.detail.index] = {\r\n                    rotate: 0,\r\n                    flipHorizontal: 1,\r\n                    flipVertical: 1,\r\n                };\r\n            }\r\n        });\r\n    };\r\n    Rotate.prototype.applyStyles = function () {\r\n        var $image = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-img-rotate')\r\n            .first();\r\n        $image.css('transform', 'rotate(' +\r\n            this.rotateValuesList[this.core.index].rotate +\r\n            'deg)' +\r\n            ' scale3d(' +\r\n            this.rotateValuesList[this.core.index].flipHorizontal +\r\n            ', ' +\r\n            this.rotateValuesList[this.core.index].flipVertical +\r\n            ', 1)');\r\n    };\r\n    Rotate.prototype.rotateLeft = function () {\r\n        this.rotateValuesList[this.core.index].rotate -= 90;\r\n        this.applyStyles();\r\n        this.triggerEvents(lGEvents.rotateLeft, {\r\n            rotate: this.rotateValuesList[this.core.index].rotate,\r\n        });\r\n    };\r\n    Rotate.prototype.rotateRight = function () {\r\n        this.rotateValuesList[this.core.index].rotate += 90;\r\n        this.applyStyles();\r\n        this.triggerEvents(lGEvents.rotateRight, {\r\n            rotate: this.rotateValuesList[this.core.index].rotate,\r\n        });\r\n    };\r\n    Rotate.prototype.getCurrentRotation = function (el) {\r\n        if (!el) {\r\n            return 0;\r\n        }\r\n        var st = this.$LG(el).style();\r\n        var tm = st.getPropertyValue('-webkit-transform') ||\r\n            st.getPropertyValue('-moz-transform') ||\r\n            st.getPropertyValue('-ms-transform') ||\r\n            st.getPropertyValue('-o-transform') ||\r\n            st.getPropertyValue('transform') ||\r\n            'none';\r\n        if (tm !== 'none') {\r\n            var values = tm.split('(')[1].split(')')[0].split(',');\r\n            if (values) {\r\n                var angle = Math.round(Math.atan2(values[1], values[0]) * (180 / Math.PI));\r\n                return angle < 0 ? angle + 360 : angle;\r\n            }\r\n        }\r\n        return 0;\r\n    };\r\n    Rotate.prototype.flipHorizontal = function () {\r\n        var rotateEl = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-img-rotate')\r\n            .first()\r\n            .get();\r\n        var currentRotation = this.getCurrentRotation(rotateEl);\r\n        var rotateAxis = 'flipHorizontal';\r\n        if (currentRotation === 90 || currentRotation === 270) {\r\n            rotateAxis = 'flipVertical';\r\n        }\r\n        this.rotateValuesList[this.core.index][rotateAxis] *= -1;\r\n        this.applyStyles();\r\n        this.triggerEvents(lGEvents.flipHorizontal, {\r\n            flipHorizontal: this.rotateValuesList[this.core.index][rotateAxis],\r\n        });\r\n    };\r\n    Rotate.prototype.flipVertical = function () {\r\n        var rotateEl = this.core\r\n            .getSlideItem(this.core.index)\r\n            .find('.lg-img-rotate')\r\n            .first()\r\n            .get();\r\n        var currentRotation = this.getCurrentRotation(rotateEl);\r\n        var rotateAxis = 'flipVertical';\r\n        if (currentRotation === 90 || currentRotation === 270) {\r\n            rotateAxis = 'flipHorizontal';\r\n        }\r\n        this.rotateValuesList[this.core.index][rotateAxis] *= -1;\r\n        this.applyStyles();\r\n        this.triggerEvents(lGEvents.flipVertical, {\r\n            flipVertical: this.rotateValuesList[this.core.index][rotateAxis],\r\n        });\r\n    };\r\n    Rotate.prototype.triggerEvents = function (event, detail) {\r\n        var _this = this;\r\n        setTimeout(function () {\r\n            _this.core.LGel.trigger(event, detail);\r\n        }, this.settings.rotateSpeed + 10);\r\n    };\r\n    Rotate.prototype.isImageOrientationChanged = function () {\r\n        var rotateValue = this.rotateValuesList[this.core.index];\r\n        var isRotated = Math.abs(rotateValue.rotate) % 360 !== 0;\r\n        var ifFlippedHor = rotateValue.flipHorizontal < 0;\r\n        var ifFlippedVer = rotateValue.flipVertical < 0;\r\n        return isRotated || ifFlippedHor || ifFlippedVer;\r\n    };\r\n    Rotate.prototype.closeGallery = function () {\r\n        if (this.isImageOrientationChanged()) {\r\n            this.core.getSlideItem(this.core.index).css('opacity', 0);\r\n        }\r\n        this.rotateValuesList = {};\r\n    };\r\n    Rotate.prototype.destroy = function () {\r\n        // Unbind all events added by lightGallery rotate plugin\r\n        this.core.LGel.off('.lg.rotate');\r\n        this.core.LGel.off('.rotate');\r\n    };\r\n    return Rotate;\r\n}());\n\nexport default Rotate;\n//# sourceMappingURL=lg-rotate.es5.js.map\n","import { Controller } from \"@hotwired/stimulus\"\n\nimport lightGallery from \"lightgallery\"\nimport lgZoom from \"lightgallery/plugins/zoom\"\nimport lgRotate from \"lightgallery/plugins/rotate\"\nimport \"lightgallery/css/lightgallery.css\"\nimport \"lightgallery/css/lg-zoom.css\"\nimport \"lightgallery/css/lg-rotate.css\"\n\n// open up the lightGallery prototype to redefine the `addHtml` method\n// to better support the captioning of images.\n;(function (lg) {\n  Object.getPrototypeOf(lg).addHtml = function(index) {\n    let caption = null,\n        $figure = null,\n        $figcaption = null,\n        $item = this.items[index],\n        appendSubHtmlTo = this.settings.appendSubHtmlTo,\n        $lgComponents = this.$lgComponents.firstElement,\n        $subHtml = $lgComponents.querySelector(appendSubHtmlTo)\n\n    if ($figure = $item.closest(\"figure\")) {\n      if ($figcaption = $figure.querySelector(\"figcaption\")) {\n        if ($figcaption.innerHTML.trim() !== \"\") {\n          caption = $figcaption.innerHTML\n        }\n      }\n    }\n    if (!caption) {\n      caption = $item.getAttribute(\"alt\") || $item.getAttribute(\"title\")\n    }\n    if ($subHtml && caption) {\n      $subHtml.innerHTML = caption\n    }\n  }\n})(lightGallery())\n\n/**\n * lightGallery\n *\n * The embedded license key was purchased on 2021/08/19, is valid for\n * GPLv3 compatible usage, and is redistributable with this project\n * and GPLv3 compatible derivatives.\n *\n */\nexport default class extends Controller {\n  connect() {\n    this.lightGallery = lightGallery(\n      this.element, {\n        licenseKey: \"946563C8-F1154141-B722911E-843E9729\",\n        selector: \".content .text img, .content img.attachment\",\n        download: false,\n        plugins: [lgZoom, lgRotate],\n        showZoomInOutIcons: true,\n        actualSize: false,\n      })\n  }\n\n  disconnect() {\n    this.lightGallery.destroy()\n  }\n}\n","import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  static get values() {\n    return { href : String }\n  }\n\n  // bind the necessary events directly--don't treat them as\n  // traditional stimulus actions--because all are required, and a\n  // client accidently omitting one, or configuring it incorrectly,\n  // will break the controller's expected behavior.\n\n  eventsToBind = [\n    { name : \"mousedown\", handler : this.mousedown.bind(this) },\n    { name : \"mousemove\", handler : this.mousemove.bind(this) },\n    { name : \"click\", handler : this.click.bind(this) }\n  ]\n\n  connect() {\n    for (event of this.eventsToBind) {\n      this.element.addEventListener(event.name, event.handler)\n    }\n  }\n\n  disconnect() {\n    for (event of this.eventsToBind) {\n      this.element.removeEventListener(event.name, event.handler)\n    }\n  }\n\n  mousedown(event) {\n    this.moved = false\n  }\n\n  mousemove(event) {\n    this.moved = true\n  }\n\n  click(event) {\n    if (this.moved)\n      return\n    if (this.hrefValue && !event.target.closest(\"a, button, input, img\")) {\n      if (this.hrefValue[0] != \"/\" && new URL(this.hrefValue).host != window.location.host) {\n        window.open(this.hrefValue, \"_blank\")\n      } else {\n        Turbo.visit(this.hrefValue)\n      }\n    }\n  }\n}\n","import { Controller } from \"@hotwired/stimulus\"\n\n/**\n * Submit form when checkbox toggles.\n *\n * Wiring the change event directly to the form submit method does not\n * work with Turbo--Turbo doesn't intercept it. Instead, create a\n * hidden submit button and click that.\n */\nexport default class extends Controller {\n  connect() {\n    let input = document.createElement(\"input\")\n    input.type = \"submit\"\n    input.style.display = \"none\"\n    this.element.appendChild(input)\n    this.input = input\n  }\n\n  change(event) {\n    this.input.click()\n  }\n}\n","import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  connect() {\n    const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone\n    let placeholder = `IANA time zone database identifier. For example: ${timezone}`\n    let placeholderOnly = this.element.dataset[\"placeholder-only\"]\n    this.element.setAttribute(\"placeholder\", placeholder)\n    if (!placeholderOnly) {\n      if (!this.element.value && !this.element.closest(\".field.error\")) {\n        this.element.value = timezone\n      }\n    }\n  }\n}\n","import { Controller } from \"@hotwired/stimulus\"\nimport Trix from \"trix\"\n\nfunction extend_handler(controller) {\n  let previous_keydown = controller.events.keydown\n  controller.events.keydown = function(event) {\n    let editor = this.delegate.editor\n    if (editor.suggestion) {\n      switch (event.keyCode) {\n      case 8: /* backspace */\n        editor.backspaced = true\n        break\n      case 27: /* escape */\n        editor.insertString(\"\")\n        editor.selectionManager.delegate.requestedRender = true\n        editor.backspaced = true\n        event.preventDefault()\n        break\n      case 9: /* tab */\n        let [begin, end] = editor.getSelectedRange()\n        editor.setSelectedRange([end, end])\n        editor.suggestion = undefined\n        event.preventDefault()\n        break\n      }\n    }\n    previous_keydown.call(this, event)\n  }\n}\n\nextend_handler(Trix.controllers.Level0InputController)\nextend_handler(Trix.controllers.Level2InputController)\n\n// Additional editor properties/state:\n//\n// - suggestion: the current suggestion\n// - change_lock: short-circuits change events (and prevents multiple\n//   calls to the backend) when typing quickly\n// - backspaced: prevents a new suggestion from being presented after\n//   backspacing/canceling the previous suggestion\n//\nexport default class extends Controller {\n  change(event) {\n    let editor =  event.target.editor\n    let document = editor.getDocument().toString()\n    let position = editor.getPosition()\n    if (editor.change_lock)\n      return\n    if (editor.backspaced) {\n      editor.backspaced = false\n      return\n    }\n    for (var i = 1; i < 64; i++) {\n      let ch1 = document[position - i]\n      let ch2 = document[position - i - 1]\n      if ((ch1 == \"#\" || ch1 == \"@\") && (ch2 == \" \" || ch2 == \"\\n\" || !ch2)) {\n        break\n      }\n      if (ch1 == \" \" || ch1 == \"\\n\" || !ch1) {\n        i--\n        break\n      }\n    }\n    for (var j = 0; j < 64; j++) {\n      let ch = document[position + j]\n      if (ch == \" \" || ch == \"\\n\" || !ch) {\n        break\n      }\n    }\n    let prefix = document.substring(position - i, position)\n    let suffix = document.substring(position, position + j)\n    if (!suffix && prefix.length > 2 && (prefix[0] == \"#\" || prefix[0] == \"@\")) {\n      editor.change_lock = true\n      if (!editor.suggestion || !editor.suggestion.startsWith(prefix)) {\n        let url\n        switch (prefix[0]) {\n        case \"#\":\n          url = `/tags?hashtag=${prefix.slice(1)}`\n          break\n        case \"@\":\n          url = `/tags?mention=${prefix.slice(1)}`\n          break\n        }\n        if (url) {\n          fetch(url)\n            .then(function(response) {\n              return response.text()\n            })\n            .then(function(suggestion) {\n              editor.suggestion = `${prefix[0]}${suggestion}`\n            })\n        }\n      }\n      if (editor.suggestion && editor.suggestion.toLowerCase().startsWith(prefix.toLowerCase())) {\n        let suggestion = editor.suggestion.substring(prefix.length)\n        editor.insertString(suggestion)\n        editor.setSelectedRange([position, position + suggestion.length])\n      }\n      editor.change_lock = false\n    }\n  }\n\n  add(event) {\n    let attachment = event.attachment\n    if (attachment.file) {\n      let fd = new FormData()\n      fd.append(\"Content-Type\", attachment.file.type)\n      fd.append(\"file\", attachment.file)\n      let xhr = new XMLHttpRequest()\n      xhr.open(\"POST\", \"/uploads\")\n      xhr.setRequestHeader(\"X-CSRF-Token\", Ktistec.csrf)\n      xhr.upload.addEventListener(\"progress\", function(event) {\n        if (event.lengthComputable) {\n          var progress = event.loaded / event.total * 100\n          attachment.setUploadProgress(progress)\n        }\n      }, false)\n      xhr.addEventListener(\"progress\", function(event) {\n        if (event.lengthComputable) {\n          var progress = event.loaded / event.total * 100\n          attachment.setUploadProgress(progress)\n        }\n      }, false)\n      xhr.addEventListener(\"load\", function(event) {\n        if (xhr.status == 201) {\n          attachment.setAttributes({\n            url: xhr.getResponseHeader(\"Location\"),\n            href: xhr.getResponseHeader(\"Location\")\n          })\n        }\n      })\n      xhr.send(fd)\n    }\n  }\n\n  remove(event) {\n    let attachment = event.attachment.attachment\n    if (attachment.previewURL) {\n      let xhr = new XMLHttpRequest()\n      xhr.open(\"DELETE\", attachment.previewURL)\n      xhr.setRequestHeader(\"X-CSRF-Token\", Ktistec.csrf)\n      xhr.send()\n    }\n  }\n}\n","/*\nTrix 2.1.15\nCopyright © 2025 37signals, LLC\n */\nvar t=\"2.1.15\";const e=\"[data-trix-attachment]\",i={preview:{presentation:\"gallery\",caption:{name:!0,size:!0}},file:{caption:{size:!0}}},n={default:{tagName:\"div\",parse:!1},quote:{tagName:\"blockquote\",nestable:!0},heading1:{tagName:\"h1\",terminal:!0,breakOnReturn:!0,group:!1},code:{tagName:\"pre\",terminal:!0,htmlAttributes:[\"language\"],text:{plaintext:!0}},bulletList:{tagName:\"ul\",parse:!1},bullet:{tagName:\"li\",listAttribute:\"bulletList\",group:!1,nestable:!0,test(t){return r(t.parentNode)===n[this.listAttribute].tagName}},numberList:{tagName:\"ol\",parse:!1},number:{tagName:\"li\",listAttribute:\"numberList\",group:!1,nestable:!0,test(t){return r(t.parentNode)===n[this.listAttribute].tagName}},attachmentGallery:{tagName:\"div\",exclusive:!0,terminal:!0,parse:!1,group:!1}},r=t=>{var e;return null==t||null===(e=t.tagName)||void 0===e?void 0:e.toLowerCase()},o=navigator.userAgent.match(/android\\s([0-9]+.*Chrome)/i),s=o&&parseInt(o[1]);var a={composesExistingText:/Android.*Chrome/.test(navigator.userAgent),recentAndroid:s&&s>12,samsungAndroid:s&&navigator.userAgent.match(/Android.*SM-/),forcesObjectResizing:/Trident.*rv:11/.test(navigator.userAgent),supportsInputEvents:\"undefined\"!=typeof InputEvent&&[\"data\",\"getTargetRanges\",\"inputType\"].every((t=>t in InputEvent.prototype))},l={ADD_ATTR:[\"language\"],SAFE_FOR_XML:!1,RETURN_DOM:!0},c={attachFiles:\"Attach Files\",bold:\"Bold\",bullets:\"Bullets\",byte:\"Byte\",bytes:\"Bytes\",captionPlaceholder:\"Add a caption…\",code:\"Code\",heading1:\"Heading\",indent:\"Increase Level\",italic:\"Italic\",link:\"Link\",numbers:\"Numbers\",outdent:\"Decrease Level\",quote:\"Quote\",redo:\"Redo\",remove:\"Remove\",strike:\"Strikethrough\",undo:\"Undo\",unlink:\"Unlink\",url:\"URL\",urlPlaceholder:\"Enter a URL…\",GB:\"GB\",KB:\"KB\",MB:\"MB\",PB:\"PB\",TB:\"TB\"};const u=[c.bytes,c.KB,c.MB,c.GB,c.TB,c.PB];var h={prefix:\"IEC\",precision:2,formatter(t){switch(t){case 0:return\"0 \".concat(c.bytes);case 1:return\"1 \".concat(c.byte);default:let e;\"SI\"===this.prefix?e=1e3:\"IEC\"===this.prefix&&(e=1024);const i=Math.floor(Math.log(t)/Math.log(e)),n=(t/Math.pow(e,i)).toFixed(this.precision).replace(/0*$/,\"\").replace(/\\.$/,\"\");return\"\".concat(n,\" \").concat(u[i])}}};const d=\"\\ufeff\",g=\" \",m=function(t){for(const e in t){const i=t[e];this[e]=i}return this},p=document.documentElement,f=p.matches,b=function(t){let{onElement:e,matchingSelector:i,withCallback:n,inPhase:r,preventDefault:o,times:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=e||p,l=i,c=\"capturing\"===r,u=function(t){null!=s&&0==--s&&u.destroy();const e=y(t.target,{matchingSelector:l});null!=e&&(null==n||n.call(e,t,e),o&&t.preventDefault())};return u.destroy=()=>a.removeEventListener(t,u,c),a.addEventListener(t,u,c),u},v=function(t){let{onElement:e,bubbles:i,cancelable:n,attributes:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=null!=e?e:p;i=!1!==i,n=!1!==n;const s=document.createEvent(\"Events\");return s.initEvent(t,i,n),null!=r&&m.call(s,r),o.dispatchEvent(s)},A=function(t,e){if(1===(null==t?void 0:t.nodeType))return f.call(t,e)},y=function(t){let{matchingSelector:e,untilNode:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(;t&&t.nodeType!==Node.ELEMENT_NODE;)t=t.parentNode;if(null!=t){if(null==e)return t;if(t.closest&&null==i)return t.closest(e);for(;t&&t!==i;){if(A(t,e))return t;t=t.parentNode}}},x=t=>document.activeElement!==t&&C(t,document.activeElement),C=function(t,e){if(t&&e)for(;e;){if(e===t)return!0;e=e.parentNode}},E=function(t){var e;if(null===(e=t)||void 0===e||!e.parentNode)return;let i=0;for(t=t.previousSibling;t;)i++,t=t.previousSibling;return i},S=t=>{var e;return null==t||null===(e=t.parentNode)||void 0===e?void 0:e.removeChild(t)},R=function(t){let{onlyNodesOfType:e,usingFilter:i,expandEntityReferences:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(()=>{switch(e){case\"element\":return NodeFilter.SHOW_ELEMENT;case\"text\":return NodeFilter.SHOW_TEXT;case\"comment\":return NodeFilter.SHOW_COMMENT;default:return NodeFilter.SHOW_ALL}})();return document.createTreeWalker(t,r,null!=i?i:null,!0===n)},k=t=>{var e;return null==t||null===(e=t.tagName)||void 0===e?void 0:e.toLowerCase()},T=function(t){let e,i,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};\"object\"==typeof t?(n=t,t=n.tagName):n={attributes:n};const r=document.createElement(t);if(null!=n.editable&&(null==n.attributes&&(n.attributes={}),n.attributes.contenteditable=n.editable),n.attributes)for(e in n.attributes)i=n.attributes[e],r.setAttribute(e,i);if(n.style)for(e in n.style)i=n.style[e],r.style[e]=i;if(n.data)for(e in n.data)i=n.data[e],r.dataset[e]=i;return n.className&&n.className.split(\" \").forEach((t=>{r.classList.add(t)})),n.textContent&&(r.textContent=n.textContent),n.childNodes&&[].concat(n.childNodes).forEach((t=>{r.appendChild(t)})),r};let w;const L=function(){if(null!=w)return w;w=[];for(const t in n){const e=n[t];e.tagName&&w.push(e.tagName)}return w},D=t=>I(null==t?void 0:t.firstChild),N=function(t){let{strict:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{strict:!0};return e?I(t):I(t)||!I(t.firstChild)&&function(t){return L().includes(k(t))&&!L().includes(k(t.firstChild))}(t)},I=t=>O(t)&&\"block\"===(null==t?void 0:t.data),O=t=>(null==t?void 0:t.nodeType)===Node.COMMENT_NODE,F=function(t){let{name:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t)return B(t)?t.data===d?!e||t.parentNode.dataset.trixCursorTarget===e:void 0:F(t.firstChild)},P=t=>A(t,e),M=t=>B(t)&&\"\"===(null==t?void 0:t.data),B=t=>(null==t?void 0:t.nodeType)===Node.TEXT_NODE,_={level2Enabled:!0,getLevel(){return this.level2Enabled&&a.supportsInputEvents?2:0},pickFiles(t){const e=T(\"input\",{type:\"file\",multiple:!0,hidden:!0,id:this.fileInputId});e.addEventListener(\"change\",(()=>{t(e.files),S(e)})),S(document.getElementById(this.fileInputId)),document.body.appendChild(e),e.click()}};var j={removeBlankTableCells:!1,tableCellSeparator:\" | \",tableRowSeparator:\"\\n\"},W={bold:{tagName:\"strong\",inheritable:!0,parser(t){const e=window.getComputedStyle(t);return\"bold\"===e.fontWeight||e.fontWeight>=600}},italic:{tagName:\"em\",inheritable:!0,parser:t=>\"italic\"===window.getComputedStyle(t).fontStyle},href:{groupTagName:\"a\",parser(t){const i=\"a:not(\".concat(e,\")\"),n=t.closest(i);if(n)return n.getAttribute(\"href\")}},strike:{tagName:\"del\",inheritable:!0},frozen:{style:{backgroundColor:\"highlight\"}}},U={getDefaultHTML:()=>'<div class=\"trix-button-row\">\\n      <span class=\"trix-button-group trix-button-group--text-tools\" data-trix-button-group=\"text-tools\">\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bold\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"'.concat(c.bold,'\" tabindex=\"-1\">').concat(c.bold,'</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-italic\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"').concat(c.italic,'\" tabindex=\"-1\">').concat(c.italic,'</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-strike\" data-trix-attribute=\"strike\" title=\"').concat(c.strike,'\" tabindex=\"-1\">').concat(c.strike,'</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-link\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\" title=\"').concat(c.link,'\" tabindex=\"-1\">').concat(c.link,'</button>\\n      </span>\\n\\n      <span class=\"trix-button-group trix-button-group--block-tools\" data-trix-button-group=\"block-tools\">\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-heading-1\" data-trix-attribute=\"heading1\" title=\"').concat(c.heading1,'\" tabindex=\"-1\">').concat(c.heading1,'</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-quote\" data-trix-attribute=\"quote\" title=\"').concat(c.quote,'\" tabindex=\"-1\">').concat(c.quote,'</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-code\" data-trix-attribute=\"code\" title=\"').concat(c.code,'\" tabindex=\"-1\">').concat(c.code,'</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-bullet-list\" data-trix-attribute=\"bullet\" title=\"').concat(c.bullets,'\" tabindex=\"-1\">').concat(c.bullets,'</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-number-list\" data-trix-attribute=\"number\" title=\"').concat(c.numbers,'\" tabindex=\"-1\">').concat(c.numbers,'</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-decrease-nesting-level\" data-trix-action=\"decreaseNestingLevel\" title=\"').concat(c.outdent,'\" tabindex=\"-1\">').concat(c.outdent,'</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-increase-nesting-level\" data-trix-action=\"increaseNestingLevel\" title=\"').concat(c.indent,'\" tabindex=\"-1\">').concat(c.indent,'</button>\\n      </span>\\n\\n      <span class=\"trix-button-group trix-button-group--file-tools\" data-trix-button-group=\"file-tools\">\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-attach\" data-trix-action=\"attachFiles\" title=\"').concat(c.attachFiles,'\" tabindex=\"-1\">').concat(c.attachFiles,'</button>\\n      </span>\\n\\n      <span class=\"trix-button-group-spacer\"></span>\\n\\n      <span class=\"trix-button-group trix-button-group--history-tools\" data-trix-button-group=\"history-tools\">\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-undo\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"').concat(c.undo,'\" tabindex=\"-1\">').concat(c.undo,'</button>\\n        <button type=\"button\" class=\"trix-button trix-button--icon trix-button--icon-redo\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"').concat(c.redo,'\" tabindex=\"-1\">').concat(c.redo,'</button>\\n      </span>\\n    </div>\\n\\n    <div class=\"trix-dialogs\" data-trix-dialogs>\\n      <div class=\"trix-dialog trix-dialog--link\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\\n        <div class=\"trix-dialog__link-fields\">\\n          <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"').concat(c.urlPlaceholder,'\" aria-label=\"').concat(c.url,'\" data-trix-validate-href required data-trix-input>\\n          <div class=\"trix-button-group\">\\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"').concat(c.link,'\" data-trix-method=\"setAttribute\">\\n            <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"').concat(c.unlink,'\" data-trix-method=\"removeAttribute\">\\n          </div>\\n        </div>\\n      </div>\\n    </div>')};const V={interval:5e3};var z=Object.freeze({__proto__:null,attachments:i,blockAttributes:n,browser:a,css:{attachment:\"attachment\",attachmentCaption:\"attachment__caption\",attachmentCaptionEditor:\"attachment__caption-editor\",attachmentMetadata:\"attachment__metadata\",attachmentMetadataContainer:\"attachment__metadata-container\",attachmentName:\"attachment__name\",attachmentProgress:\"attachment__progress\",attachmentSize:\"attachment__size\",attachmentToolbar:\"attachment__toolbar\",attachmentGallery:\"attachment-gallery\"},dompurify:l,fileSize:h,input:_,keyNames:{8:\"backspace\",9:\"tab\",13:\"return\",27:\"escape\",37:\"left\",39:\"right\",46:\"delete\",68:\"d\",72:\"h\",79:\"o\"},lang:c,parser:j,textAttributes:W,toolbar:U,undo:V});class q{static proxyMethod(t){const{name:e,toMethod:i,toProperty:n,optional:r}=H(t);this.prototype[e]=function(){let t,o;var s,a;i?o=r?null===(s=this[i])||void 0===s?void 0:s.call(this):this[i]():n&&(o=this[n]);return r?(t=null===(a=o)||void 0===a?void 0:a[e],t?J.call(t,o,arguments):void 0):(t=o[e],J.call(t,o,arguments))}}}const H=function(t){const e=t.match(K);if(!e)throw new Error(\"can't parse @proxyMethod expression: \".concat(t));const i={name:e[4]};return null!=e[2]?i.toMethod=e[1]:i.toProperty=e[1],null!=e[3]&&(i.optional=!0),i},{apply:J}=Function.prototype,K=new RegExp(\"^(.+?)(\\\\(\\\\))?(\\\\?)?\\\\.(.+?)$\");var G,Y,X;class $ extends q{static box(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";return t instanceof this?t:this.fromUCS2String(null==t?void 0:t.toString())}static fromUCS2String(t){return new this(t,et(t))}static fromCodepoints(t){return new this(it(t),t)}constructor(t,e){super(...arguments),this.ucs2String=t,this.codepoints=e,this.length=this.codepoints.length,this.ucs2Length=this.ucs2String.length}offsetToUCS2Offset(t){return it(this.codepoints.slice(0,Math.max(0,t))).length}offsetFromUCS2Offset(t){return et(this.ucs2String.slice(0,Math.max(0,t))).length}slice(){return this.constructor.fromCodepoints(this.codepoints.slice(...arguments))}charAt(t){return this.slice(t,t+1)}isEqualTo(t){return this.constructor.box(t).ucs2String===this.ucs2String}toJSON(){return this.ucs2String}getCacheKey(){return this.ucs2String}toString(){return this.ucs2String}}const Z=1===(null===(G=Array.from)||void 0===G?void 0:G.call(Array,\"👼\").length),Q=null!=(null===(Y=\" \".codePointAt)||void 0===Y?void 0:Y.call(\" \",0)),tt=\" 👼\"===(null===(X=String.fromCodePoint)||void 0===X?void 0:X.call(String,32,128124));let et,it;et=Z&&Q?t=>Array.from(t).map((t=>t.codePointAt(0))):function(t){const e=[];let i=0;const{length:n}=t;for(;i<n;){let r=t.charCodeAt(i++);if(55296<=r&&r<=56319&&i<n){const e=t.charCodeAt(i++);56320==(64512&e)?r=((1023&r)<<10)+(1023&e)+65536:i--}e.push(r)}return e},it=tt?t=>String.fromCodePoint(...Array.from(t||[])):function(t){return(()=>{const e=[];return Array.from(t).forEach((t=>{let i=\"\";t>65535&&(t-=65536,i+=String.fromCharCode(t>>>10&1023|55296),t=56320|1023&t),e.push(i+String.fromCharCode(t))})),e})().join(\"\")};let nt=0;class rt extends q{static fromJSONString(t){return this.fromJSON(JSON.parse(t))}constructor(){super(...arguments),this.id=++nt}hasSameConstructorAs(t){return this.constructor===(null==t?void 0:t.constructor)}isEqualTo(t){return this===t}inspect(){const t=[],e=this.contentsForInspection()||{};for(const i in e){const n=e[i];t.push(\"\".concat(i,\"=\").concat(n))}return\"#<\".concat(this.constructor.name,\":\").concat(this.id).concat(t.length?\" \".concat(t.join(\", \")):\"\",\">\")}contentsForInspection(){}toJSONString(){return JSON.stringify(this)}toUTF16String(){return $.box(this)}getCacheKey(){return this.id.toString()}}const ot=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++){if(t[i]!==e[i])return!1}return!0},st=function(t){const e=t.slice(0);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return e.splice(...n),e},at=/[\\u05BE\\u05C0\\u05C3\\u05D0-\\u05EA\\u05F0-\\u05F4\\u061B\\u061F\\u0621-\\u063A\\u0640-\\u064A\\u066D\\u0671-\\u06B7\\u06BA-\\u06BE\\u06C0-\\u06CE\\u06D0-\\u06D5\\u06E5\\u06E6\\u200F\\u202B\\u202E\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE72\\uFE74\\uFE76-\\uFEFC]/,lt=function(){const t=T(\"input\",{dir:\"auto\",name:\"x\",dirName:\"x.dir\"}),e=T(\"textarea\",{dir:\"auto\",name:\"y\",dirName:\"y.dir\"}),i=T(\"form\");i.appendChild(t),i.appendChild(e);const n=function(){try{return new FormData(i).has(e.dirName)}catch(t){return!1}}(),r=function(){try{return t.matches(\":dir(ltr),:dir(rtl)\")}catch(t){return!1}}();return n?function(t){return e.value=t,new FormData(i).get(e.dirName)}:r?function(e){return t.value=e,t.matches(\":dir(rtl)\")?\"rtl\":\"ltr\"}:function(t){const e=t.trim().charAt(0);return at.test(e)?\"rtl\":\"ltr\"}}();let ct=null,ut=null,ht=null,dt=null;const gt=()=>(ct||(ct=bt().concat(pt())),ct),mt=t=>n[t],pt=()=>(ut||(ut=Object.keys(n)),ut),ft=t=>W[t],bt=()=>(ht||(ht=Object.keys(W)),ht),vt=function(t,e){At(t).textContent=e.replace(/%t/g,t)},At=function(t){const e=document.createElement(\"style\");e.setAttribute(\"type\",\"text/css\"),e.setAttribute(\"data-tag-name\",t.toLowerCase());const i=yt();return i&&e.setAttribute(\"nonce\",i),document.head.insertBefore(e,document.head.firstChild),e},yt=function(){const t=xt(\"trix-csp-nonce\")||xt(\"csp-nonce\");if(t){const{nonce:e,content:i}=t;return\"\"==e?i:e}},xt=t=>document.head.querySelector(\"meta[name=\".concat(t,\"]\")),Ct={\"application/x-trix-feature-detection\":\"test\"},Et=function(t){const e=t.getData(\"text/plain\"),i=t.getData(\"text/html\");if(!e||!i)return null==e?void 0:e.length;{const{body:t}=(new DOMParser).parseFromString(i,\"text/html\");if(t.textContent===e)return!t.querySelector(\"*\")}},St=/Mac|^iP/.test(navigator.platform)?t=>t.metaKey:t=>t.ctrlKey;const Rt=t=>setTimeout(t,1),kt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e={};for(const i in t){const n=t[i];e[i]=n}return e},Tt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const i in t){if(t[i]!==e[i])return!1}return!0},wt=function(t){if(null!=t)return Array.isArray(t)||(t=[t,t]),[Nt(t[0]),Nt(null!=t[1]?t[1]:t[0])]},Lt=function(t){if(null==t)return;const[e,i]=wt(t);return It(e,i)},Dt=function(t,e){if(null==t||null==e)return;const[i,n]=wt(t),[r,o]=wt(e);return It(i,r)&&It(n,o)},Nt=function(t){return\"number\"==typeof t?t:kt(t)},It=function(t,e){return\"number\"==typeof t?t===e:Tt(t,e)};class Ot extends q{constructor(){super(...arguments),this.update=this.update.bind(this),this.selectionManagers=[]}start(){this.started||(this.started=!0,document.addEventListener(\"selectionchange\",this.update,!0))}stop(){if(this.started)return this.started=!1,document.removeEventListener(\"selectionchange\",this.update,!0)}registerSelectionManager(t){if(!this.selectionManagers.includes(t))return this.selectionManagers.push(t),this.start()}unregisterSelectionManager(t){if(this.selectionManagers=this.selectionManagers.filter((e=>e!==t)),0===this.selectionManagers.length)return this.stop()}notifySelectionManagersOfSelectionChange(){return this.selectionManagers.map((t=>t.selectionDidChange()))}update(){this.notifySelectionManagersOfSelectionChange()}reset(){this.update()}}const Ft=new Ot,Pt=function(){const t=window.getSelection();if(t.rangeCount>0)return t},Mt=function(){var t;const e=null===(t=Pt())||void 0===t?void 0:t.getRangeAt(0);if(e&&!_t(e))return e},Bt=function(t){const e=window.getSelection();return e.removeAllRanges(),e.addRange(t),Ft.update()},_t=t=>jt(t.startContainer)||jt(t.endContainer),jt=t=>!Object.getPrototypeOf(t),Wt=t=>t.replace(new RegExp(\"\".concat(d),\"g\"),\"\").replace(new RegExp(\"\".concat(g),\"g\"),\" \"),Ut=new RegExp(\"[^\\\\S\".concat(g,\"]\")),Vt=t=>t.replace(new RegExp(\"\".concat(Ut.source),\"g\"),\" \").replace(/\\ {2,}/g,\" \"),zt=function(t,e){if(t.isEqualTo(e))return[\"\",\"\"];const i=qt(t,e),{length:n}=i.utf16String;let r;if(n){const{offset:o}=i,s=t.codepoints.slice(0,o).concat(t.codepoints.slice(o+n));r=qt(e,$.fromCodepoints(s))}else r=qt(e,t);return[i.utf16String.toString(),r.utf16String.toString()]},qt=function(t,e){let i=0,n=t.length,r=e.length;for(;i<n&&t.charAt(i).isEqualTo(e.charAt(i));)i++;for(;n>i+1&&t.charAt(n-1).isEqualTo(e.charAt(r-1));)n--,r--;return{utf16String:t.slice(i,n),offset:i}};class Ht extends rt{static fromCommonAttributesOfObjects(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!t.length)return new this;let e=Yt(t[0]),i=e.getKeys();return t.slice(1).forEach((t=>{i=e.getKeysCommonToHash(Yt(t)),e=e.slice(i)})),e}static box(t){return Yt(t)}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(...arguments),this.values=Gt(t)}add(t,e){return this.merge(Jt(t,e))}remove(t){return new Ht(Gt(this.values,t))}get(t){return this.values[t]}has(t){return t in this.values}merge(t){return new Ht(Kt(this.values,Xt(t)))}slice(t){const e={};return Array.from(t).forEach((t=>{this.has(t)&&(e[t]=this.values[t])})),new Ht(e)}getKeys(){return Object.keys(this.values)}getKeysCommonToHash(t){return t=Yt(t),this.getKeys().filter((e=>this.values[e]===t.values[e]))}isEqualTo(t){return ot(this.toArray(),Yt(t).toArray())}isEmpty(){return 0===this.getKeys().length}toArray(){if(!this.array){const t=[];for(const e in this.values){const i=this.values[e];t.push(t.push(e,i))}this.array=t.slice(0)}return this.array}toObject(){return Gt(this.values)}toJSON(){return this.toObject()}contentsForInspection(){return{values:JSON.stringify(this.values)}}}const Jt=function(t,e){const i={};return i[t]=e,i},Kt=function(t,e){const i=Gt(t);for(const t in e){const n=e[t];i[t]=n}return i},Gt=function(t,e){const i={};return Object.keys(t).sort().forEach((n=>{n!==e&&(i[n]=t[n])})),i},Yt=function(t){return t instanceof Ht?t:new Ht(t)},Xt=function(t){return t instanceof Ht?t.values:t};class $t{static groupObjects(){let t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{depth:i,asTree:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n&&null==i&&(i=0);const r=[];return Array.from(e).forEach((e=>{var o;if(t){var s,a,l;if(null!==(s=e.canBeGrouped)&&void 0!==s&&s.call(e,i)&&null!==(a=(l=t[t.length-1]).canBeGroupedWith)&&void 0!==a&&a.call(l,e,i))return void t.push(e);r.push(new this(t,{depth:i,asTree:n})),t=null}null!==(o=e.canBeGrouped)&&void 0!==o&&o.call(e,i)?t=[e]:r.push(e)})),t&&r.push(new this(t,{depth:i,asTree:n})),r}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{depth:e,asTree:i}=arguments.length>1?arguments[1]:void 0;this.objects=t,i&&(this.depth=e,this.objects=this.constructor.groupObjects(this.objects,{asTree:i,depth:this.depth+1}))}getObjects(){return this.objects}getDepth(){return this.depth}getCacheKey(){const t=[\"objectGroup\"];return Array.from(this.getObjects()).forEach((e=>{t.push(e.getCacheKey())})),t.join(\"/\")}}class Zt extends q{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(...arguments),this.objects={},Array.from(t).forEach((t=>{const e=JSON.stringify(t);null==this.objects[e]&&(this.objects[e]=t)}))}find(t){const e=JSON.stringify(t);return this.objects[e]}}class Qt{constructor(t){this.reset(t)}add(t){const e=te(t);this.elements[e]=t}remove(t){const e=te(t),i=this.elements[e];if(i)return delete this.elements[e],i}reset(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.elements={},Array.from(t).forEach((t=>{this.add(t)})),t}}const te=t=>t.dataset.trixStoreKey;class ee extends q{isPerforming(){return!0===this.performing}hasPerformed(){return!0===this.performed}hasSucceeded(){return this.performed&&this.succeeded}hasFailed(){return this.performed&&!this.succeeded}getPromise(){return this.promise||(this.promise=new Promise(((t,e)=>(this.performing=!0,this.perform(((i,n)=>{this.succeeded=i,this.performing=!1,this.performed=!0,this.succeeded?t(n):e(n)})))))),this.promise}perform(t){return t(!1)}release(){var t,e;null===(t=this.promise)||void 0===t||null===(e=t.cancel)||void 0===e||e.call(t),this.promise=null,this.performing=null,this.performed=null,this.succeeded=null}}ee.proxyMethod(\"getPromise().then\"),ee.proxyMethod(\"getPromise().catch\");class ie extends q{constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(...arguments),this.object=t,this.options=e,this.childViews=[],this.rootView=this}getNodes(){return this.nodes||(this.nodes=this.createNodes()),this.nodes.map((t=>t.cloneNode(!0)))}invalidate(){var t;return this.nodes=null,this.childViews=[],null===(t=this.parentView)||void 0===t?void 0:t.invalidate()}invalidateViewForObject(t){var e;return null===(e=this.findViewForObject(t))||void 0===e?void 0:e.invalidate()}findOrCreateCachedChildView(t,e,i){let n=this.getCachedViewForObject(e);return n?this.recordChildView(n):(n=this.createChildView(...arguments),this.cacheViewForObject(n,e)),n}createChildView(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e instanceof $t&&(i.viewClass=t,t=ne);const n=new t(e,i);return this.recordChildView(n)}recordChildView(t){return t.parentView=this,t.rootView=this.rootView,this.childViews.push(t),t}getAllChildViews(){let t=[];return this.childViews.forEach((e=>{t.push(e),t=t.concat(e.getAllChildViews())})),t}findElement(){return this.findElementForObject(this.object)}findElementForObject(t){const e=null==t?void 0:t.id;if(e)return this.rootView.element.querySelector(\"[data-trix-id='\".concat(e,\"']\"))}findViewForObject(t){for(const e of this.getAllChildViews())if(e.object===t)return e}getViewCache(){return this.rootView!==this?this.rootView.getViewCache():this.isViewCachingEnabled()?(this.viewCache||(this.viewCache={}),this.viewCache):void 0}isViewCachingEnabled(){return!1!==this.shouldCacheViews}enableViewCaching(){this.shouldCacheViews=!0}disableViewCaching(){this.shouldCacheViews=!1}getCachedViewForObject(t){var e;return null===(e=this.getViewCache())||void 0===e?void 0:e[t.getCacheKey()]}cacheViewForObject(t,e){const i=this.getViewCache();i&&(i[e.getCacheKey()]=t)}garbageCollectCachedViews(){const t=this.getViewCache();if(t){const e=this.getAllChildViews().concat(this).map((t=>t.object.getCacheKey()));for(const i in t)e.includes(i)||delete t[i]}}}class ne extends ie{constructor(){super(...arguments),this.objectGroup=this.object,this.viewClass=this.options.viewClass,delete this.options.viewClass}getChildViews(){return this.childViews.length||Array.from(this.objectGroup.getObjects()).forEach((t=>{this.findOrCreateCachedChildView(this.viewClass,t,this.options)})),this.childViews}createNodes(){const t=this.createContainerElement();return this.getChildViews().forEach((e=>{Array.from(e.getNodes()).forEach((e=>{t.appendChild(e)}))})),[t]}createContainerElement(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.objectGroup.getDepth();return this.getChildViews()[0].createContainerElement(t)}}\n/*! @license DOMPurify 3.2.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.5/LICENSE */const{entries:re,setPrototypeOf:oe,isFrozen:se,getPrototypeOf:ae,getOwnPropertyDescriptor:le}=Object;let{freeze:ce,seal:ue,create:he}=Object,{apply:de,construct:ge}=\"undefined\"!=typeof Reflect&&Reflect;ce||(ce=function(t){return t}),ue||(ue=function(t){return t}),de||(de=function(t,e,i){return t.apply(e,i)}),ge||(ge=function(t,e){return new t(...e)});const me=Le(Array.prototype.forEach),pe=Le(Array.prototype.lastIndexOf),fe=Le(Array.prototype.pop),be=Le(Array.prototype.push),ve=Le(Array.prototype.splice),Ae=Le(String.prototype.toLowerCase),ye=Le(String.prototype.toString),xe=Le(String.prototype.match),Ce=Le(String.prototype.replace),Ee=Le(String.prototype.indexOf),Se=Le(String.prototype.trim),Re=Le(Object.prototype.hasOwnProperty),ke=Le(RegExp.prototype.test),Te=(we=TypeError,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return ge(we,e)});var we;function Le(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return de(t,e,n)}}function De(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ae;oe&&oe(t,null);let n=e.length;for(;n--;){let r=e[n];if(\"string\"==typeof r){const t=i(r);t!==r&&(se(e)||(e[n]=t),r=t)}t[r]=!0}return t}function Ne(t){for(let e=0;e<t.length;e++){Re(t,e)||(t[e]=null)}return t}function Ie(t){const e=he(null);for(const[i,n]of re(t)){Re(t,i)&&(Array.isArray(n)?e[i]=Ne(n):n&&\"object\"==typeof n&&n.constructor===Object?e[i]=Ie(n):e[i]=n)}return e}function Oe(t,e){for(;null!==t;){const i=le(t,e);if(i){if(i.get)return Le(i.get);if(\"function\"==typeof i.value)return Le(i.value)}t=ae(t)}return function(){return null}}const Fe=ce([\"a\",\"abbr\",\"acronym\",\"address\",\"area\",\"article\",\"aside\",\"audio\",\"b\",\"bdi\",\"bdo\",\"big\",\"blink\",\"blockquote\",\"body\",\"br\",\"button\",\"canvas\",\"caption\",\"center\",\"cite\",\"code\",\"col\",\"colgroup\",\"content\",\"data\",\"datalist\",\"dd\",\"decorator\",\"del\",\"details\",\"dfn\",\"dialog\",\"dir\",\"div\",\"dl\",\"dt\",\"element\",\"em\",\"fieldset\",\"figcaption\",\"figure\",\"font\",\"footer\",\"form\",\"h1\",\"h2\",\"h3\",\"h4\",\"h5\",\"h6\",\"head\",\"header\",\"hgroup\",\"hr\",\"html\",\"i\",\"img\",\"input\",\"ins\",\"kbd\",\"label\",\"legend\",\"li\",\"main\",\"map\",\"mark\",\"marquee\",\"menu\",\"menuitem\",\"meter\",\"nav\",\"nobr\",\"ol\",\"optgroup\",\"option\",\"output\",\"p\",\"picture\",\"pre\",\"progress\",\"q\",\"rp\",\"rt\",\"ruby\",\"s\",\"samp\",\"section\",\"select\",\"shadow\",\"small\",\"source\",\"spacer\",\"span\",\"strike\",\"strong\",\"style\",\"sub\",\"summary\",\"sup\",\"table\",\"tbody\",\"td\",\"template\",\"textarea\",\"tfoot\",\"th\",\"thead\",\"time\",\"tr\",\"track\",\"tt\",\"u\",\"ul\",\"var\",\"video\",\"wbr\"]),Pe=ce([\"svg\",\"a\",\"altglyph\",\"altglyphdef\",\"altglyphitem\",\"animatecolor\",\"animatemotion\",\"animatetransform\",\"circle\",\"clippath\",\"defs\",\"desc\",\"ellipse\",\"filter\",\"font\",\"g\",\"glyph\",\"glyphref\",\"hkern\",\"image\",\"line\",\"lineargradient\",\"marker\",\"mask\",\"metadata\",\"mpath\",\"path\",\"pattern\",\"polygon\",\"polyline\",\"radialgradient\",\"rect\",\"stop\",\"style\",\"switch\",\"symbol\",\"text\",\"textpath\",\"title\",\"tref\",\"tspan\",\"view\",\"vkern\"]),Me=ce([\"feBlend\",\"feColorMatrix\",\"feComponentTransfer\",\"feComposite\",\"feConvolveMatrix\",\"feDiffuseLighting\",\"feDisplacementMap\",\"feDistantLight\",\"feDropShadow\",\"feFlood\",\"feFuncA\",\"feFuncB\",\"feFuncG\",\"feFuncR\",\"feGaussianBlur\",\"feImage\",\"feMerge\",\"feMergeNode\",\"feMorphology\",\"feOffset\",\"fePointLight\",\"feSpecularLighting\",\"feSpotLight\",\"feTile\",\"feTurbulence\"]),Be=ce([\"animate\",\"color-profile\",\"cursor\",\"discard\",\"font-face\",\"font-face-format\",\"font-face-name\",\"font-face-src\",\"font-face-uri\",\"foreignobject\",\"hatch\",\"hatchpath\",\"mesh\",\"meshgradient\",\"meshpatch\",\"meshrow\",\"missing-glyph\",\"script\",\"set\",\"solidcolor\",\"unknown\",\"use\"]),_e=ce([\"math\",\"menclose\",\"merror\",\"mfenced\",\"mfrac\",\"mglyph\",\"mi\",\"mlabeledtr\",\"mmultiscripts\",\"mn\",\"mo\",\"mover\",\"mpadded\",\"mphantom\",\"mroot\",\"mrow\",\"ms\",\"mspace\",\"msqrt\",\"mstyle\",\"msub\",\"msup\",\"msubsup\",\"mtable\",\"mtd\",\"mtext\",\"mtr\",\"munder\",\"munderover\",\"mprescripts\"]),je=ce([\"maction\",\"maligngroup\",\"malignmark\",\"mlongdiv\",\"mscarries\",\"mscarry\",\"msgroup\",\"mstack\",\"msline\",\"msrow\",\"semantics\",\"annotation\",\"annotation-xml\",\"mprescripts\",\"none\"]),We=ce([\"#text\"]),Ue=ce([\"accept\",\"action\",\"align\",\"alt\",\"autocapitalize\",\"autocomplete\",\"autopictureinpicture\",\"autoplay\",\"background\",\"bgcolor\",\"border\",\"capture\",\"cellpadding\",\"cellspacing\",\"checked\",\"cite\",\"class\",\"clear\",\"color\",\"cols\",\"colspan\",\"controls\",\"controlslist\",\"coords\",\"crossorigin\",\"datetime\",\"decoding\",\"default\",\"dir\",\"disabled\",\"disablepictureinpicture\",\"disableremoteplayback\",\"download\",\"draggable\",\"enctype\",\"enterkeyhint\",\"face\",\"for\",\"headers\",\"height\",\"hidden\",\"high\",\"href\",\"hreflang\",\"id\",\"inputmode\",\"integrity\",\"ismap\",\"kind\",\"label\",\"lang\",\"list\",\"loading\",\"loop\",\"low\",\"max\",\"maxlength\",\"media\",\"method\",\"min\",\"minlength\",\"multiple\",\"muted\",\"name\",\"nonce\",\"noshade\",\"novalidate\",\"nowrap\",\"open\",\"optimum\",\"pattern\",\"placeholder\",\"playsinline\",\"popover\",\"popovertarget\",\"popovertargetaction\",\"poster\",\"preload\",\"pubdate\",\"radiogroup\",\"readonly\",\"rel\",\"required\",\"rev\",\"reversed\",\"role\",\"rows\",\"rowspan\",\"spellcheck\",\"scope\",\"selected\",\"shape\",\"size\",\"sizes\",\"span\",\"srclang\",\"start\",\"src\",\"srcset\",\"step\",\"style\",\"summary\",\"tabindex\",\"title\",\"translate\",\"type\",\"usemap\",\"valign\",\"value\",\"width\",\"wrap\",\"xmlns\",\"slot\"]),Ve=ce([\"accent-height\",\"accumulate\",\"additive\",\"alignment-baseline\",\"amplitude\",\"ascent\",\"attributename\",\"attributetype\",\"azimuth\",\"basefrequency\",\"baseline-shift\",\"begin\",\"bias\",\"by\",\"class\",\"clip\",\"clippathunits\",\"clip-path\",\"clip-rule\",\"color\",\"color-interpolation\",\"color-interpolation-filters\",\"color-profile\",\"color-rendering\",\"cx\",\"cy\",\"d\",\"dx\",\"dy\",\"diffuseconstant\",\"direction\",\"display\",\"divisor\",\"dur\",\"edgemode\",\"elevation\",\"end\",\"exponent\",\"fill\",\"fill-opacity\",\"fill-rule\",\"filter\",\"filterunits\",\"flood-color\",\"flood-opacity\",\"font-family\",\"font-size\",\"font-size-adjust\",\"font-stretch\",\"font-style\",\"font-variant\",\"font-weight\",\"fx\",\"fy\",\"g1\",\"g2\",\"glyph-name\",\"glyphref\",\"gradientunits\",\"gradienttransform\",\"height\",\"href\",\"id\",\"image-rendering\",\"in\",\"in2\",\"intercept\",\"k\",\"k1\",\"k2\",\"k3\",\"k4\",\"kerning\",\"keypoints\",\"keysplines\",\"keytimes\",\"lang\",\"lengthadjust\",\"letter-spacing\",\"kernelmatrix\",\"kernelunitlength\",\"lighting-color\",\"local\",\"marker-end\",\"marker-mid\",\"marker-start\",\"markerheight\",\"markerunits\",\"markerwidth\",\"maskcontentunits\",\"maskunits\",\"max\",\"mask\",\"media\",\"method\",\"mode\",\"min\",\"name\",\"numoctaves\",\"offset\",\"operator\",\"opacity\",\"order\",\"orient\",\"orientation\",\"origin\",\"overflow\",\"paint-order\",\"path\",\"pathlength\",\"patterncontentunits\",\"patterntransform\",\"patternunits\",\"points\",\"preservealpha\",\"preserveaspectratio\",\"primitiveunits\",\"r\",\"rx\",\"ry\",\"radius\",\"refx\",\"refy\",\"repeatcount\",\"repeatdur\",\"restart\",\"result\",\"rotate\",\"scale\",\"seed\",\"shape-rendering\",\"slope\",\"specularconstant\",\"specularexponent\",\"spreadmethod\",\"startoffset\",\"stddeviation\",\"stitchtiles\",\"stop-color\",\"stop-opacity\",\"stroke-dasharray\",\"stroke-dashoffset\",\"stroke-linecap\",\"stroke-linejoin\",\"stroke-miterlimit\",\"stroke-opacity\",\"stroke\",\"stroke-width\",\"style\",\"surfacescale\",\"systemlanguage\",\"tabindex\",\"tablevalues\",\"targetx\",\"targety\",\"transform\",\"transform-origin\",\"text-anchor\",\"text-decoration\",\"text-rendering\",\"textlength\",\"type\",\"u1\",\"u2\",\"unicode\",\"values\",\"viewbox\",\"visibility\",\"version\",\"vert-adv-y\",\"vert-origin-x\",\"vert-origin-y\",\"width\",\"word-spacing\",\"wrap\",\"writing-mode\",\"xchannelselector\",\"ychannelselector\",\"x\",\"x1\",\"x2\",\"xmlns\",\"y\",\"y1\",\"y2\",\"z\",\"zoomandpan\"]),ze=ce([\"accent\",\"accentunder\",\"align\",\"bevelled\",\"close\",\"columnsalign\",\"columnlines\",\"columnspan\",\"denomalign\",\"depth\",\"dir\",\"display\",\"displaystyle\",\"encoding\",\"fence\",\"frame\",\"height\",\"href\",\"id\",\"largeop\",\"length\",\"linethickness\",\"lspace\",\"lquote\",\"mathbackground\",\"mathcolor\",\"mathsize\",\"mathvariant\",\"maxsize\",\"minsize\",\"movablelimits\",\"notation\",\"numalign\",\"open\",\"rowalign\",\"rowlines\",\"rowspacing\",\"rowspan\",\"rspace\",\"rquote\",\"scriptlevel\",\"scriptminsize\",\"scriptsizemultiplier\",\"selection\",\"separator\",\"separators\",\"stretchy\",\"subscriptshift\",\"supscriptshift\",\"symmetric\",\"voffset\",\"width\",\"xmlns\"]),qe=ce([\"xlink:href\",\"xml:id\",\"xlink:title\",\"xml:space\",\"xmlns:xlink\"]),He=ue(/\\{\\{[\\w\\W]*|[\\w\\W]*\\}\\}/gm),Je=ue(/<%[\\w\\W]*|[\\w\\W]*%>/gm),Ke=ue(/\\$\\{[\\w\\W]*/gm),Ge=ue(/^data-[\\-\\w.\\u00B7-\\uFFFF]+$/),Ye=ue(/^aria-[\\-\\w]+$/),Xe=ue(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i),$e=ue(/^(?:\\w+script|data):/i),Ze=ue(/[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g),Qe=ue(/^html$/i),ti=ue(/^[a-z][.\\w]*(-[.\\w]+)+$/i);var ei=Object.freeze({__proto__:null,ARIA_ATTR:Ye,ATTR_WHITESPACE:Ze,CUSTOM_ELEMENT:ti,DATA_ATTR:Ge,DOCTYPE_NAME:Qe,ERB_EXPR:Je,IS_ALLOWED_URI:Xe,IS_SCRIPT_OR_DATA:$e,MUSTACHE_EXPR:He,TMPLIT_EXPR:Ke});const ii=1,ni=3,ri=7,oi=8,si=9,ai=function(){return\"undefined\"==typeof window?null:window};var li=function t(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ai();const i=e=>t(e);if(i.version=\"3.2.5\",i.removed=[],!e||!e.document||e.document.nodeType!==si||!e.Element)return i.isSupported=!1,i;let{document:n}=e;const r=n,o=r.currentScript,{DocumentFragment:s,HTMLTemplateElement:a,Node:l,Element:c,NodeFilter:u,NamedNodeMap:h=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:d,DOMParser:g,trustedTypes:m}=e,p=c.prototype,f=Oe(p,\"cloneNode\"),b=Oe(p,\"remove\"),v=Oe(p,\"nextSibling\"),A=Oe(p,\"childNodes\"),y=Oe(p,\"parentNode\");if(\"function\"==typeof a){const t=n.createElement(\"template\");t.content&&t.content.ownerDocument&&(n=t.content.ownerDocument)}let x,C=\"\";const{implementation:E,createNodeIterator:S,createDocumentFragment:R,getElementsByTagName:k}=n,{importNode:T}=r;let w={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};i.isSupported=\"function\"==typeof re&&\"function\"==typeof y&&E&&void 0!==E.createHTMLDocument;const{MUSTACHE_EXPR:L,ERB_EXPR:D,TMPLIT_EXPR:N,DATA_ATTR:I,ARIA_ATTR:O,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:P,CUSTOM_ELEMENT:M}=ei;let{IS_ALLOWED_URI:B}=ei,_=null;const j=De({},[...Fe,...Pe,...Me,..._e,...We]);let W=null;const U=De({},[...Ue,...Ve,...ze,...qe]);let V=Object.seal(he(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),z=null,q=null,H=!0,J=!0,K=!1,G=!0,Y=!1,X=!0,$=!1,Z=!1,Q=!1,tt=!1,et=!1,it=!1,nt=!0,rt=!1,ot=!0,st=!1,at={},lt=null;const ct=De({},[\"annotation-xml\",\"audio\",\"colgroup\",\"desc\",\"foreignobject\",\"head\",\"iframe\",\"math\",\"mi\",\"mn\",\"mo\",\"ms\",\"mtext\",\"noembed\",\"noframes\",\"noscript\",\"plaintext\",\"script\",\"style\",\"svg\",\"template\",\"thead\",\"title\",\"video\",\"xmp\"]);let ut=null;const ht=De({},[\"audio\",\"video\",\"img\",\"source\",\"image\",\"track\"]);let dt=null;const gt=De({},[\"alt\",\"class\",\"for\",\"id\",\"label\",\"name\",\"pattern\",\"placeholder\",\"role\",\"summary\",\"title\",\"value\",\"style\",\"xmlns\"]),mt=\"http://www.w3.org/1998/Math/MathML\",pt=\"http://www.w3.org/2000/svg\",ft=\"http://www.w3.org/1999/xhtml\";let bt=ft,vt=!1,At=null;const yt=De({},[mt,pt,ft],ye);let xt=De({},[\"mi\",\"mo\",\"mn\",\"ms\",\"mtext\"]),Ct=De({},[\"annotation-xml\"]);const Et=De({},[\"title\",\"style\",\"font\",\"a\",\"script\"]);let St=null;const Rt=[\"application/xhtml+xml\",\"text/html\"];let kt=null,Tt=null;const wt=n.createElement(\"form\"),Lt=function(t){return t instanceof RegExp||t instanceof Function},Dt=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!Tt||Tt!==t){if(t&&\"object\"==typeof t||(t={}),t=Ie(t),St=-1===Rt.indexOf(t.PARSER_MEDIA_TYPE)?\"text/html\":t.PARSER_MEDIA_TYPE,kt=\"application/xhtml+xml\"===St?ye:Ae,_=Re(t,\"ALLOWED_TAGS\")?De({},t.ALLOWED_TAGS,kt):j,W=Re(t,\"ALLOWED_ATTR\")?De({},t.ALLOWED_ATTR,kt):U,At=Re(t,\"ALLOWED_NAMESPACES\")?De({},t.ALLOWED_NAMESPACES,ye):yt,dt=Re(t,\"ADD_URI_SAFE_ATTR\")?De(Ie(gt),t.ADD_URI_SAFE_ATTR,kt):gt,ut=Re(t,\"ADD_DATA_URI_TAGS\")?De(Ie(ht),t.ADD_DATA_URI_TAGS,kt):ht,lt=Re(t,\"FORBID_CONTENTS\")?De({},t.FORBID_CONTENTS,kt):ct,z=Re(t,\"FORBID_TAGS\")?De({},t.FORBID_TAGS,kt):{},q=Re(t,\"FORBID_ATTR\")?De({},t.FORBID_ATTR,kt):{},at=!!Re(t,\"USE_PROFILES\")&&t.USE_PROFILES,H=!1!==t.ALLOW_ARIA_ATTR,J=!1!==t.ALLOW_DATA_ATTR,K=t.ALLOW_UNKNOWN_PROTOCOLS||!1,G=!1!==t.ALLOW_SELF_CLOSE_IN_ATTR,Y=t.SAFE_FOR_TEMPLATES||!1,X=!1!==t.SAFE_FOR_XML,$=t.WHOLE_DOCUMENT||!1,tt=t.RETURN_DOM||!1,et=t.RETURN_DOM_FRAGMENT||!1,it=t.RETURN_TRUSTED_TYPE||!1,Q=t.FORCE_BODY||!1,nt=!1!==t.SANITIZE_DOM,rt=t.SANITIZE_NAMED_PROPS||!1,ot=!1!==t.KEEP_CONTENT,st=t.IN_PLACE||!1,B=t.ALLOWED_URI_REGEXP||Xe,bt=t.NAMESPACE||ft,xt=t.MATHML_TEXT_INTEGRATION_POINTS||xt,Ct=t.HTML_INTEGRATION_POINTS||Ct,V=t.CUSTOM_ELEMENT_HANDLING||{},t.CUSTOM_ELEMENT_HANDLING&&Lt(t.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(V.tagNameCheck=t.CUSTOM_ELEMENT_HANDLING.tagNameCheck),t.CUSTOM_ELEMENT_HANDLING&&Lt(t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(V.attributeNameCheck=t.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),t.CUSTOM_ELEMENT_HANDLING&&\"boolean\"==typeof t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(V.allowCustomizedBuiltInElements=t.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Y&&(J=!1),et&&(tt=!0),at&&(_=De({},We),W=[],!0===at.html&&(De(_,Fe),De(W,Ue)),!0===at.svg&&(De(_,Pe),De(W,Ve),De(W,qe)),!0===at.svgFilters&&(De(_,Me),De(W,Ve),De(W,qe)),!0===at.mathMl&&(De(_,_e),De(W,ze),De(W,qe))),t.ADD_TAGS&&(_===j&&(_=Ie(_)),De(_,t.ADD_TAGS,kt)),t.ADD_ATTR&&(W===U&&(W=Ie(W)),De(W,t.ADD_ATTR,kt)),t.ADD_URI_SAFE_ATTR&&De(dt,t.ADD_URI_SAFE_ATTR,kt),t.FORBID_CONTENTS&&(lt===ct&&(lt=Ie(lt)),De(lt,t.FORBID_CONTENTS,kt)),ot&&(_[\"#text\"]=!0),$&&De(_,[\"html\",\"head\",\"body\"]),_.table&&(De(_,[\"tbody\"]),delete z.tbody),t.TRUSTED_TYPES_POLICY){if(\"function\"!=typeof t.TRUSTED_TYPES_POLICY.createHTML)throw Te('TRUSTED_TYPES_POLICY configuration option must provide a \"createHTML\" hook.');if(\"function\"!=typeof t.TRUSTED_TYPES_POLICY.createScriptURL)throw Te('TRUSTED_TYPES_POLICY configuration option must provide a \"createScriptURL\" hook.');x=t.TRUSTED_TYPES_POLICY,C=x.createHTML(\"\")}else void 0===x&&(x=function(t,e){if(\"object\"!=typeof t||\"function\"!=typeof t.createPolicy)return null;let i=null;const n=\"data-tt-policy-suffix\";e&&e.hasAttribute(n)&&(i=e.getAttribute(n));const r=\"dompurify\"+(i?\"#\"+i:\"\");try{return t.createPolicy(r,{createHTML:t=>t,createScriptURL:t=>t})}catch(t){return console.warn(\"TrustedTypes policy \"+r+\" could not be created.\"),null}}(m,o)),null!==x&&\"string\"==typeof C&&(C=x.createHTML(\"\"));ce&&ce(t),Tt=t}},Nt=De({},[...Pe,...Me,...Be]),It=De({},[..._e,...je]),Ot=function(t){be(i.removed,{element:t});try{y(t).removeChild(t)}catch(e){b(t)}},Ft=function(t,e){try{be(i.removed,{attribute:e.getAttributeNode(t),from:e})}catch(t){be(i.removed,{attribute:null,from:e})}if(e.removeAttribute(t),\"is\"===t)if(tt||et)try{Ot(e)}catch(t){}else try{e.setAttribute(t,\"\")}catch(t){}},Pt=function(t){let e=null,i=null;if(Q)t=\"<remove></remove>\"+t;else{const e=xe(t,/^[\\r\\n\\t ]+/);i=e&&e[0]}\"application/xhtml+xml\"===St&&bt===ft&&(t='<html xmlns=\"http://www.w3.org/1999/xhtml\"><head></head><body>'+t+\"</body></html>\");const r=x?x.createHTML(t):t;if(bt===ft)try{e=(new g).parseFromString(r,St)}catch(t){}if(!e||!e.documentElement){e=E.createDocument(bt,\"template\",null);try{e.documentElement.innerHTML=vt?C:r}catch(t){}}const o=e.body||e.documentElement;return t&&i&&o.insertBefore(n.createTextNode(i),o.childNodes[0]||null),bt===ft?k.call(e,$?\"html\":\"body\")[0]:$?e.documentElement:o},Mt=function(t){return S.call(t.ownerDocument||t,t,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Bt=function(t){return t instanceof d&&(\"string\"!=typeof t.nodeName||\"string\"!=typeof t.textContent||\"function\"!=typeof t.removeChild||!(t.attributes instanceof h)||\"function\"!=typeof t.removeAttribute||\"function\"!=typeof t.setAttribute||\"string\"!=typeof t.namespaceURI||\"function\"!=typeof t.insertBefore||\"function\"!=typeof t.hasChildNodes)},_t=function(t){return\"function\"==typeof l&&t instanceof l};function jt(t,e,n){me(t,(t=>{t.call(i,e,n,Tt)}))}const Wt=function(t){let e=null;if(jt(w.beforeSanitizeElements,t,null),Bt(t))return Ot(t),!0;const n=kt(t.nodeName);if(jt(w.uponSanitizeElement,t,{tagName:n,allowedTags:_}),t.hasChildNodes()&&!_t(t.firstElementChild)&&ke(/<[/\\w!]/g,t.innerHTML)&&ke(/<[/\\w!]/g,t.textContent))return Ot(t),!0;if(t.nodeType===ri)return Ot(t),!0;if(X&&t.nodeType===oi&&ke(/<[/\\w]/g,t.data))return Ot(t),!0;if(!_[n]||z[n]){if(!z[n]&&Vt(n)){if(V.tagNameCheck instanceof RegExp&&ke(V.tagNameCheck,n))return!1;if(V.tagNameCheck instanceof Function&&V.tagNameCheck(n))return!1}if(ot&&!lt[n]){const e=y(t)||t.parentNode,i=A(t)||t.childNodes;if(i&&e){for(let n=i.length-1;n>=0;--n){const r=f(i[n],!0);r.__removalCount=(t.__removalCount||0)+1,e.insertBefore(r,v(t))}}}return Ot(t),!0}return t instanceof c&&!function(t){let e=y(t);e&&e.tagName||(e={namespaceURI:bt,tagName:\"template\"});const i=Ae(t.tagName),n=Ae(e.tagName);return!!At[t.namespaceURI]&&(t.namespaceURI===pt?e.namespaceURI===ft?\"svg\"===i:e.namespaceURI===mt?\"svg\"===i&&(\"annotation-xml\"===n||xt[n]):Boolean(Nt[i]):t.namespaceURI===mt?e.namespaceURI===ft?\"math\"===i:e.namespaceURI===pt?\"math\"===i&&Ct[n]:Boolean(It[i]):t.namespaceURI===ft?!(e.namespaceURI===pt&&!Ct[n])&&!(e.namespaceURI===mt&&!xt[n])&&!It[i]&&(Et[i]||!Nt[i]):!(\"application/xhtml+xml\"!==St||!At[t.namespaceURI]))}(t)?(Ot(t),!0):\"noscript\"!==n&&\"noembed\"!==n&&\"noframes\"!==n||!ke(/<\\/no(script|embed|frames)/i,t.innerHTML)?(Y&&t.nodeType===ni&&(e=t.textContent,me([L,D,N],(t=>{e=Ce(e,t,\" \")})),t.textContent!==e&&(be(i.removed,{element:t.cloneNode()}),t.textContent=e)),jt(w.afterSanitizeElements,t,null),!1):(Ot(t),!0)},Ut=function(t,e,i){if(nt&&(\"id\"===e||\"name\"===e)&&(i in n||i in wt))return!1;if(J&&!q[e]&&ke(I,e));else if(H&&ke(O,e));else if(!W[e]||q[e]){if(!(Vt(t)&&(V.tagNameCheck instanceof RegExp&&ke(V.tagNameCheck,t)||V.tagNameCheck instanceof Function&&V.tagNameCheck(t))&&(V.attributeNameCheck instanceof RegExp&&ke(V.attributeNameCheck,e)||V.attributeNameCheck instanceof Function&&V.attributeNameCheck(e))||\"is\"===e&&V.allowCustomizedBuiltInElements&&(V.tagNameCheck instanceof RegExp&&ke(V.tagNameCheck,i)||V.tagNameCheck instanceof Function&&V.tagNameCheck(i))))return!1}else if(dt[e]);else if(ke(B,Ce(i,P,\"\")));else if(\"src\"!==e&&\"xlink:href\"!==e&&\"href\"!==e||\"script\"===t||0!==Ee(i,\"data:\")||!ut[t]){if(K&&!ke(F,Ce(i,P,\"\")));else if(i)return!1}else;return!0},Vt=function(t){return\"annotation-xml\"!==t&&xe(t,M)},zt=function(t){jt(w.beforeSanitizeAttributes,t,null);const{attributes:e}=t;if(!e||Bt(t))return;const n={attrName:\"\",attrValue:\"\",keepAttr:!0,allowedAttributes:W,forceKeepAttr:void 0};let r=e.length;for(;r--;){const o=e[r],{name:s,namespaceURI:a,value:l}=o,c=kt(s);let u=\"value\"===s?l:Se(l);if(n.attrName=c,n.attrValue=u,n.keepAttr=!0,n.forceKeepAttr=void 0,jt(w.uponSanitizeAttribute,t,n),u=n.attrValue,!rt||\"id\"!==c&&\"name\"!==c||(Ft(s,t),u=\"user-content-\"+u),X&&ke(/((--!?|])>)|<\\/(style|title)/i,u)){Ft(s,t);continue}if(n.forceKeepAttr)continue;if(Ft(s,t),!n.keepAttr)continue;if(!G&&ke(/\\/>/i,u)){Ft(s,t);continue}Y&&me([L,D,N],(t=>{u=Ce(u,t,\" \")}));const h=kt(t.nodeName);if(Ut(h,c,u)){if(x&&\"object\"==typeof m&&\"function\"==typeof m.getAttributeType)if(a);else switch(m.getAttributeType(h,c)){case\"TrustedHTML\":u=x.createHTML(u);break;case\"TrustedScriptURL\":u=x.createScriptURL(u)}try{a?t.setAttributeNS(a,s,u):t.setAttribute(s,u),Bt(t)?Ot(t):fe(i.removed)}catch(t){}}}jt(w.afterSanitizeAttributes,t,null)},qt=function t(e){let i=null;const n=Mt(e);for(jt(w.beforeSanitizeShadowDOM,e,null);i=n.nextNode();)jt(w.uponSanitizeShadowNode,i,null),Wt(i),zt(i),i.content instanceof s&&t(i.content);jt(w.afterSanitizeShadowDOM,e,null)};return i.sanitize=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null,o=null,a=null,c=null;if(vt=!t,vt&&(t=\"\\x3c!--\\x3e\"),\"string\"!=typeof t&&!_t(t)){if(\"function\"!=typeof t.toString)throw Te(\"toString is not a function\");if(\"string\"!=typeof(t=t.toString()))throw Te(\"dirty is not a string, aborting\")}if(!i.isSupported)return t;if(Z||Dt(e),i.removed=[],\"string\"==typeof t&&(st=!1),st){if(t.nodeName){const e=kt(t.nodeName);if(!_[e]||z[e])throw Te(\"root node is forbidden and cannot be sanitized in-place\")}}else if(t instanceof l)n=Pt(\"\\x3c!----\\x3e\"),o=n.ownerDocument.importNode(t,!0),o.nodeType===ii&&\"BODY\"===o.nodeName||\"HTML\"===o.nodeName?n=o:n.appendChild(o);else{if(!tt&&!Y&&!$&&-1===t.indexOf(\"<\"))return x&&it?x.createHTML(t):t;if(n=Pt(t),!n)return tt?null:it?C:\"\"}n&&Q&&Ot(n.firstChild);const u=Mt(st?t:n);for(;a=u.nextNode();)Wt(a),zt(a),a.content instanceof s&&qt(a.content);if(st)return t;if(tt){if(et)for(c=R.call(n.ownerDocument);n.firstChild;)c.appendChild(n.firstChild);else c=n;return(W.shadowroot||W.shadowrootmode)&&(c=T.call(r,c,!0)),c}let h=$?n.outerHTML:n.innerHTML;return $&&_[\"!doctype\"]&&n.ownerDocument&&n.ownerDocument.doctype&&n.ownerDocument.doctype.name&&ke(Qe,n.ownerDocument.doctype.name)&&(h=\"<!DOCTYPE \"+n.ownerDocument.doctype.name+\">\\n\"+h),Y&&me([L,D,N],(t=>{h=Ce(h,t,\" \")})),x&&it?x.createHTML(h):h},i.setConfig=function(){Dt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),Z=!0},i.clearConfig=function(){Tt=null,Z=!1},i.isValidAttribute=function(t,e,i){Tt||Dt({});const n=kt(t),r=kt(e);return Ut(n,r,i)},i.addHook=function(t,e){\"function\"==typeof e&&be(w[t],e)},i.removeHook=function(t,e){if(void 0!==e){const i=pe(w[t],e);return-1===i?void 0:ve(w[t],i,1)[0]}return fe(w[t])},i.removeHooks=function(t){w[t]=[]},i.removeAllHooks=function(){w={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},i}();li.addHook(\"uponSanitizeAttribute\",(function(t,e){/^data-trix-/.test(e.attrName)&&(e.forceKeepAttr=!0)}));const ci=\"style href src width height language class\".split(\" \"),ui=\"javascript:\".split(\" \"),hi=\"script iframe form noscript\".split(\" \");class di extends q{static setHTML(t,e,i){const n=new this(e,i).sanitize(),r=n.getHTML?n.getHTML():n.outerHTML;t.innerHTML=r}static sanitize(t,e){const i=new this(t,e);return i.sanitize(),i}constructor(t){let{allowedAttributes:e,forbiddenProtocols:i,forbiddenElements:n,purifyOptions:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(...arguments),this.allowedAttributes=e||ci,this.forbiddenProtocols=i||ui,this.forbiddenElements=n||hi,this.purifyOptions=r||{},this.body=gi(t)}sanitize(){this.sanitizeElements(),this.normalizeListElementNesting();const t=Object.assign({},l,this.purifyOptions);return li.setConfig(t),this.body=li.sanitize(this.body),this.body}getHTML(){return this.body.innerHTML}getBody(){return this.body}sanitizeElements(){const t=R(this.body),e=[];for(;t.nextNode();){const i=t.currentNode;switch(i.nodeType){case Node.ELEMENT_NODE:this.elementIsRemovable(i)?e.push(i):this.sanitizeElement(i);break;case Node.COMMENT_NODE:e.push(i)}}return e.forEach((t=>S(t))),this.body}sanitizeElement(t){return t.hasAttribute(\"href\")&&this.forbiddenProtocols.includes(t.protocol)&&t.removeAttribute(\"href\"),Array.from(t.attributes).forEach((e=>{let{name:i}=e;this.allowedAttributes.includes(i)||0===i.indexOf(\"data-trix\")||t.removeAttribute(i)})),t}normalizeListElementNesting(){return Array.from(this.body.querySelectorAll(\"ul,ol\")).forEach((t=>{const e=t.previousElementSibling;e&&\"li\"===k(e)&&e.appendChild(t)})),this.body}elementIsRemovable(t){if((null==t?void 0:t.nodeType)===Node.ELEMENT_NODE)return this.elementIsForbidden(t)||this.elementIsntSerializable(t)}elementIsForbidden(t){return this.forbiddenElements.includes(k(t))}elementIsntSerializable(t){return\"false\"===t.getAttribute(\"data-trix-serialize\")&&!P(t)}}const gi=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";t=t.replace(/<\\/html[^>]*>[^]*$/i,\"</html>\");const e=document.implementation.createHTMLDocument(\"\");return e.documentElement.innerHTML=t,Array.from(e.head.querySelectorAll(\"style\")).forEach((t=>{e.body.appendChild(t)})),e.body},{css:mi}=z;class pi extends ie{constructor(){super(...arguments),this.attachment=this.object,this.attachment.uploadProgressDelegate=this,this.attachmentPiece=this.options.piece}createContentNodes(){return[]}createNodes(){let t;const e=t=T({tagName:\"figure\",className:this.getClassName(),data:this.getData(),editable:!1}),i=this.getHref();return i&&(t=T({tagName:\"a\",editable:!1,attributes:{href:i,tabindex:-1}}),e.appendChild(t)),this.attachment.hasContent()?di.setHTML(t,this.attachment.getContent()):this.createContentNodes().forEach((e=>{t.appendChild(e)})),t.appendChild(this.createCaptionElement()),this.attachment.isPending()&&(this.progressElement=T({tagName:\"progress\",attributes:{class:mi.attachmentProgress,value:this.attachment.getUploadProgress(),max:100},data:{trixMutable:!0,trixStoreKey:[\"progressElement\",this.attachment.id].join(\"/\")}}),e.appendChild(this.progressElement)),[fi(\"left\"),e,fi(\"right\")]}createCaptionElement(){const t=T({tagName:\"figcaption\",className:mi.attachmentCaption}),e=this.attachmentPiece.getCaption();if(e)t.classList.add(\"\".concat(mi.attachmentCaption,\"--edited\")),t.textContent=e;else{let e,i;const n=this.getCaptionConfig();if(n.name&&(e=this.attachment.getFilename()),n.size&&(i=this.attachment.getFormattedFilesize()),e){const i=T({tagName:\"span\",className:mi.attachmentName,textContent:e});t.appendChild(i)}if(i){e&&t.appendChild(document.createTextNode(\" \"));const n=T({tagName:\"span\",className:mi.attachmentSize,textContent:i});t.appendChild(n)}}return t}getClassName(){const t=[mi.attachment,\"\".concat(mi.attachment,\"--\").concat(this.attachment.getType())],e=this.attachment.getExtension();return e&&t.push(\"\".concat(mi.attachment,\"--\").concat(e)),t.join(\" \")}getData(){const t={trixAttachment:JSON.stringify(this.attachment),trixContentType:this.attachment.getContentType(),trixId:this.attachment.id},{attributes:e}=this.attachmentPiece;return e.isEmpty()||(t.trixAttributes=JSON.stringify(e)),this.attachment.isPending()&&(t.trixSerialize=!1),t}getHref(){if(!bi(this.attachment.getContent(),\"a\"))return this.attachment.getHref()}getCaptionConfig(){var t;const e=this.attachment.getType(),n=kt(null===(t=i[e])||void 0===t?void 0:t.caption);return\"file\"===e&&(n.name=!0),n}findProgressElement(){var t;return null===(t=this.findElement())||void 0===t?void 0:t.querySelector(\"progress\")}attachmentDidChangeUploadProgress(){const t=this.attachment.getUploadProgress(),e=this.findProgressElement();e&&(e.value=t)}}const fi=t=>T({tagName:\"span\",textContent:d,data:{trixCursorTarget:t,trixSerialize:!1}}),bi=function(t,e){const i=T(\"div\");return di.setHTML(i,t||\"\"),i.querySelector(e)};class vi extends pi{constructor(){super(...arguments),this.attachment.previewDelegate=this}createContentNodes(){return this.image=T({tagName:\"img\",attributes:{src:\"\"},data:{trixMutable:!0}}),this.refresh(this.image),[this.image]}createCaptionElement(){const t=super.createCaptionElement(...arguments);return t.textContent||t.setAttribute(\"data-trix-placeholder\",c.captionPlaceholder),t}refresh(t){var e;t||(t=null===(e=this.findElement())||void 0===e?void 0:e.querySelector(\"img\"));if(t)return this.updateAttributesForImage(t)}updateAttributesForImage(t){const e=this.attachment.getURL(),i=this.attachment.getPreviewURL();if(t.src=i||e,i===e)t.removeAttribute(\"data-trix-serialized-attributes\");else{const i=JSON.stringify({src:e});t.setAttribute(\"data-trix-serialized-attributes\",i)}const n=this.attachment.getWidth(),r=this.attachment.getHeight();null!=n&&(t.width=n),null!=r&&(t.height=r);const o=[\"imageElement\",this.attachment.id,t.src,t.width,t.height].join(\"/\");t.dataset.trixStoreKey=o}attachmentDidChangeAttributes(){return this.refresh(this.image),this.refresh()}}class Ai extends ie{constructor(){super(...arguments),this.piece=this.object,this.attributes=this.piece.getAttributes(),this.textConfig=this.options.textConfig,this.context=this.options.context,this.piece.attachment?this.attachment=this.piece.attachment:this.string=this.piece.toString()}createNodes(){let t=this.attachment?this.createAttachmentNodes():this.createStringNodes();const e=this.createElement();if(e){const i=function(t){for(;null!==(e=t)&&void 0!==e&&e.firstElementChild;){var e;t=t.firstElementChild}return t}(e);Array.from(t).forEach((t=>{i.appendChild(t)})),t=[e]}return t}createAttachmentNodes(){const t=this.attachment.isPreviewable()?vi:pi;return this.createChildView(t,this.piece.attachment,{piece:this.piece}).getNodes()}createStringNodes(){var t;if(null!==(t=this.textConfig)&&void 0!==t&&t.plaintext)return[document.createTextNode(this.string)];{const t=[],e=this.string.split(\"\\n\");for(let i=0;i<e.length;i++){const n=e[i];if(i>0){const e=T(\"br\");t.push(e)}if(n.length){const e=document.createTextNode(this.preserveSpaces(n));t.push(e)}}return t}}createElement(){let t,e,i;const n={};for(e in this.attributes){i=this.attributes[e];const o=ft(e);if(o){if(o.tagName){var r;const e=T(o.tagName);r?(r.appendChild(e),r=e):t=r=e}if(o.styleProperty&&(n[o.styleProperty]=i),o.style)for(e in o.style)i=o.style[e],n[e]=i}}if(Object.keys(n).length)for(e in t||(t=T(\"span\")),n)i=n[e],t.style[e]=i;return t}createContainerElement(){for(const t in this.attributes){const e=this.attributes[t],i=ft(t);if(i&&i.groupTagName){const n={};return n[t]=e,T(i.groupTagName,n)}}}preserveSpaces(t){return this.context.isLast&&(t=t.replace(/\\ $/,g)),t=t.replace(/(\\S)\\ {3}(\\S)/g,\"$1 \".concat(g,\" $2\")).replace(/\\ {2}/g,\"\".concat(g,\" \")).replace(/\\ {2}/g,\" \".concat(g)),(this.context.isFirst||this.context.followsWhitespace)&&(t=t.replace(/^\\ /,g)),t}}class yi extends ie{constructor(){super(...arguments),this.text=this.object,this.textConfig=this.options.textConfig}createNodes(){const t=[],e=$t.groupObjects(this.getPieces()),i=e.length-1;for(let r=0;r<e.length;r++){const o=e[r],s={};0===r&&(s.isFirst=!0),r===i&&(s.isLast=!0),xi(n)&&(s.followsWhitespace=!0);const a=this.findOrCreateCachedChildView(Ai,o,{textConfig:this.textConfig,context:s});t.push(...Array.from(a.getNodes()||[]));var n=o}return t}getPieces(){return Array.from(this.text.getPieces()).filter((t=>!t.hasAttribute(\"blockBreak\")))}}const xi=t=>/\\s$/.test(null==t?void 0:t.toString()),{css:Ci}=z;class Ei extends ie{constructor(){super(...arguments),this.block=this.object,this.attributes=this.block.getAttributes()}createNodes(){const t=[document.createComment(\"block\")];if(this.block.isEmpty())t.push(T(\"br\"));else{var e;const i=null===(e=mt(this.block.getLastAttribute()))||void 0===e?void 0:e.text,n=this.findOrCreateCachedChildView(yi,this.block.text,{textConfig:i});t.push(...Array.from(n.getNodes()||[])),this.shouldAddExtraNewlineElement()&&t.push(T(\"br\"))}if(this.attributes.length)return t;{let e;const{tagName:i}=n.default;this.block.isRTL()&&(e={dir:\"rtl\"});const r=T({tagName:i,attributes:e});return t.forEach((t=>r.appendChild(t))),[r]}}createContainerElement(t){const e={};let i;const n=this.attributes[t],{tagName:r,htmlAttributes:o=[]}=mt(n);if(0===t&&this.block.isRTL()&&Object.assign(e,{dir:\"rtl\"}),\"attachmentGallery\"===n){const t=this.block.getBlockBreakPosition();i=\"\".concat(Ci.attachmentGallery,\" \").concat(Ci.attachmentGallery,\"--\").concat(t)}return Object.entries(this.block.htmlAttributes).forEach((t=>{let[i,n]=t;o.includes(i)&&(e[i]=n)})),T({tagName:r,className:i,attributes:e})}shouldAddExtraNewlineElement(){return/\\n\\n$/.test(this.block.toString())}}class Si extends ie{static render(t){const e=T(\"div\"),i=new this(t,{element:e});return i.render(),i.sync(),e}constructor(){super(...arguments),this.element=this.options.element,this.elementStore=new Qt,this.setDocument(this.object)}setDocument(t){t.isEqualTo(this.document)||(this.document=this.object=t)}render(){if(this.childViews=[],this.shadowElement=T(\"div\"),!this.document.isEmpty()){const t=$t.groupObjects(this.document.getBlocks(),{asTree:!0});Array.from(t).forEach((t=>{const e=this.findOrCreateCachedChildView(Ei,t);Array.from(e.getNodes()).map((t=>this.shadowElement.appendChild(t)))}))}}isSynced(){return ki(this.shadowElement,this.element)}sync(){const t=this.createDocumentFragmentForSync();for(;this.element.lastChild;)this.element.removeChild(this.element.lastChild);return this.element.appendChild(t),this.didSync()}didSync(){return this.elementStore.reset(Ri(this.element)),Rt((()=>this.garbageCollectCachedViews()))}createDocumentFragmentForSync(){const t=document.createDocumentFragment();return Array.from(this.shadowElement.childNodes).forEach((e=>{t.appendChild(e.cloneNode(!0))})),Array.from(Ri(t)).forEach((t=>{const e=this.elementStore.remove(t);e&&t.parentNode.replaceChild(e,t)})),t}}const Ri=t=>t.querySelectorAll(\"[data-trix-store-key]\"),ki=(t,e)=>Ti(t.innerHTML)===Ti(e.innerHTML),Ti=t=>t.replace(/&nbsp;/g,\" \");function wi(t){var e,i;function n(e,i){try{var o=t[e](i),s=o.value,a=s instanceof Li;Promise.resolve(a?s.v:s).then((function(i){if(a){var l=\"return\"===e?\"return\":\"next\";if(!s.k||i.done)return n(l,i);i=t[l](i).value}r(o.done?\"return\":\"normal\",i)}),(function(t){n(\"throw\",t)}))}catch(t){r(\"throw\",t)}}function r(t,r){switch(t){case\"return\":e.resolve({value:r,done:!0});break;case\"throw\":e.reject(r);break;default:e.resolve({value:r,done:!1})}(e=e.next)?n(e.key,e.arg):i=null}this._invoke=function(t,r){return new Promise((function(o,s){var a={key:t,arg:r,resolve:o,reject:s,next:null};i?i=i.next=a:(e=i=a,n(t,r))}))},\"function\"!=typeof t.return&&(this.return=void 0)}function Li(t,e){this.v=t,this.k=e}function Di(t,e,i){return(e=Ni(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Ni(t){var e=function(t,e){if(\"object\"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var n=i.call(t,e||\"default\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===e?String:Number)(t)}(t,\"string\");return\"symbol\"==typeof e?e:String(e)}wi.prototype[\"function\"==typeof Symbol&&Symbol.asyncIterator||\"@@asyncIterator\"]=function(){return this},wi.prototype.next=function(t){return this._invoke(\"next\",t)},wi.prototype.throw=function(t){return this._invoke(\"throw\",t)},wi.prototype.return=function(t){return this._invoke(\"return\",t)};function Ii(t,e){return Pi(t,Fi(t,e,\"get\"))}function Oi(t,e,i){return Mi(t,Fi(t,e,\"set\"),i),i}function Fi(t,e,i){if(!e.has(t))throw new TypeError(\"attempted to \"+i+\" private field on non-instance\");return e.get(t)}function Pi(t,e){return e.get?e.get.call(t):e.value}function Mi(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw new TypeError(\"attempted to set read only private field\");e.value=i}}function Bi(t,e,i){if(!e.has(t))throw new TypeError(\"attempted to get private field on non-instance\");return i}function _i(t,e){if(e.has(t))throw new TypeError(\"Cannot initialize the same private elements twice on an object\")}function ji(t,e,i){_i(t,e),e.set(t,i)}class Wi extends rt{static registerType(t,e){e.type=t,this.types[t]=e}static fromJSON(t){const e=this.types[t.type];if(e)return e.fromJSON(t)}constructor(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(...arguments),this.attributes=Ht.box(e)}copyWithAttributes(t){return new this.constructor(this.getValue(),t)}copyWithAdditionalAttributes(t){return this.copyWithAttributes(this.attributes.merge(t))}copyWithoutAttribute(t){return this.copyWithAttributes(this.attributes.remove(t))}copy(){return this.copyWithAttributes(this.attributes)}getAttribute(t){return this.attributes.get(t)}getAttributesHash(){return this.attributes}getAttributes(){return this.attributes.toObject()}hasAttribute(t){return this.attributes.has(t)}hasSameStringValueAsPiece(t){return t&&this.toString()===t.toString()}hasSameAttributesAsPiece(t){return t&&(this.attributes===t.attributes||this.attributes.isEqualTo(t.attributes))}isBlockBreak(){return!1}isEqualTo(t){return super.isEqualTo(...arguments)||this.hasSameConstructorAs(t)&&this.hasSameStringValueAsPiece(t)&&this.hasSameAttributesAsPiece(t)}isEmpty(){return 0===this.length}isSerializable(){return!0}toJSON(){return{type:this.constructor.type,attributes:this.getAttributes()}}contentsForInspection(){return{type:this.constructor.type,attributes:this.attributes.inspect()}}canBeGrouped(){return this.hasAttribute(\"href\")}canBeGroupedWith(t){return this.getAttribute(\"href\")===t.getAttribute(\"href\")}getLength(){return this.length}canBeConsolidatedWith(t){return!1}}Di(Wi,\"types\",{});class Ui extends ee{constructor(t){super(...arguments),this.url=t}perform(t){const e=new Image;e.onload=()=>(e.width=this.width=e.naturalWidth,e.height=this.height=e.naturalHeight,t(!0,e)),e.onerror=()=>t(!1),e.src=this.url}}class Vi extends rt{static attachmentForFile(t){const e=new this(this.attributesForFile(t));return e.setFile(t),e}static attributesForFile(t){return new Ht({filename:t.name,filesize:t.size,contentType:t.type})}static fromJSON(t){return new this(t)}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t),this.releaseFile=this.releaseFile.bind(this),this.attributes=Ht.box(t),this.didChangeAttributes()}getAttribute(t){return this.attributes.get(t)}hasAttribute(t){return this.attributes.has(t)}getAttributes(){return this.attributes.toObject()}setAttributes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const e=this.attributes.merge(t);var i,n,r,o;if(!this.attributes.isEqualTo(e))return this.attributes=e,this.didChangeAttributes(),null===(i=this.previewDelegate)||void 0===i||null===(n=i.attachmentDidChangeAttributes)||void 0===n||n.call(i,this),null===(r=this.delegate)||void 0===r||null===(o=r.attachmentDidChangeAttributes)||void 0===o?void 0:o.call(r,this)}didChangeAttributes(){if(this.isPreviewable())return this.preloadURL()}isPending(){return null!=this.file&&!(this.getURL()||this.getHref())}isPreviewable(){return this.attributes.has(\"previewable\")?this.attributes.get(\"previewable\"):Vi.previewablePattern.test(this.getContentType())}getType(){return this.hasContent()?\"content\":this.isPreviewable()?\"preview\":\"file\"}getURL(){return this.attributes.get(\"url\")}getHref(){return this.attributes.get(\"href\")}getFilename(){return this.attributes.get(\"filename\")||\"\"}getFilesize(){return this.attributes.get(\"filesize\")}getFormattedFilesize(){const t=this.attributes.get(\"filesize\");return\"number\"==typeof t?h.formatter(t):\"\"}getExtension(){var t;return null===(t=this.getFilename().match(/\\.(\\w+)$/))||void 0===t?void 0:t[1].toLowerCase()}getContentType(){return this.attributes.get(\"contentType\")}hasContent(){return this.attributes.has(\"content\")}getContent(){return this.attributes.get(\"content\")}getWidth(){return this.attributes.get(\"width\")}getHeight(){return this.attributes.get(\"height\")}getFile(){return this.file}setFile(t){if(this.file=t,this.isPreviewable())return this.preloadFile()}releaseFile(){this.releasePreloadedFile(),this.file=null}getUploadProgress(){return null!=this.uploadProgress?this.uploadProgress:0}setUploadProgress(t){var e,i;if(this.uploadProgress!==t)return this.uploadProgress=t,null===(e=this.uploadProgressDelegate)||void 0===e||null===(i=e.attachmentDidChangeUploadProgress)||void 0===i?void 0:i.call(e,this)}toJSON(){return this.getAttributes()}getCacheKey(){return[super.getCacheKey(...arguments),this.attributes.getCacheKey(),this.getPreviewURL()].join(\"/\")}getPreviewURL(){return this.previewURL||this.preloadingURL}setPreviewURL(t){var e,i,n,r;if(t!==this.getPreviewURL())return this.previewURL=t,null===(e=this.previewDelegate)||void 0===e||null===(i=e.attachmentDidChangeAttributes)||void 0===i||i.call(e,this),null===(n=this.delegate)||void 0===n||null===(r=n.attachmentDidChangePreviewURL)||void 0===r?void 0:r.call(n,this)}preloadURL(){return this.preload(this.getURL(),this.releaseFile)}preloadFile(){if(this.file)return this.fileObjectURL=URL.createObjectURL(this.file),this.preload(this.fileObjectURL)}releasePreloadedFile(){this.fileObjectURL&&(URL.revokeObjectURL(this.fileObjectURL),this.fileObjectURL=null)}preload(t,e){if(t&&t!==this.getPreviewURL()){this.preloadingURL=t;return new Ui(t).then((i=>{let{width:n,height:r}=i;return this.getWidth()&&this.getHeight()||this.setAttributes({width:n,height:r}),this.preloadingURL=null,this.setPreviewURL(t),null==e?void 0:e()})).catch((()=>(this.preloadingURL=null,null==e?void 0:e())))}}}Di(Vi,\"previewablePattern\",/^image(\\/(gif|png|webp|jpe?g)|$)/);class zi extends Wi{static fromJSON(t){return new this(Vi.fromJSON(t.attachment),t.attributes)}constructor(t){super(...arguments),this.attachment=t,this.length=1,this.ensureAttachmentExclusivelyHasAttribute(\"href\"),this.attachment.hasContent()||this.removeProhibitedAttributes()}ensureAttachmentExclusivelyHasAttribute(t){this.hasAttribute(t)&&(this.attachment.hasAttribute(t)||this.attachment.setAttributes(this.attributes.slice([t])),this.attributes=this.attributes.remove(t))}removeProhibitedAttributes(){const t=this.attributes.slice(zi.permittedAttributes);t.isEqualTo(this.attributes)||(this.attributes=t)}getValue(){return this.attachment}isSerializable(){return!this.attachment.isPending()}getCaption(){return this.attributes.get(\"caption\")||\"\"}isEqualTo(t){var e;return super.isEqualTo(t)&&this.attachment.id===(null==t||null===(e=t.attachment)||void 0===e?void 0:e.id)}toString(){return\"￼\"}toJSON(){const t=super.toJSON(...arguments);return t.attachment=this.attachment,t}getCacheKey(){return[super.getCacheKey(...arguments),this.attachment.getCacheKey()].join(\"/\")}toConsole(){return JSON.stringify(this.toString())}}Di(zi,\"permittedAttributes\",[\"caption\",\"presentation\"]),Wi.registerType(\"attachment\",zi);class qi extends Wi{static fromJSON(t){return new this(t.string,t.attributes)}constructor(t){super(...arguments),this.string=(t=>t.replace(/\\r\\n?/g,\"\\n\"))(t),this.length=this.string.length}getValue(){return this.string}toString(){return this.string.toString()}isBlockBreak(){return\"\\n\"===this.toString()&&!0===this.getAttribute(\"blockBreak\")}toJSON(){const t=super.toJSON(...arguments);return t.string=this.string,t}canBeConsolidatedWith(t){return t&&this.hasSameConstructorAs(t)&&this.hasSameAttributesAsPiece(t)}consolidateWith(t){return new this.constructor(this.toString()+t.toString(),this.attributes)}splitAtOffset(t){let e,i;return 0===t?(e=null,i=this):t===this.length?(e=this,i=null):(e=new this.constructor(this.string.slice(0,t),this.attributes),i=new this.constructor(this.string.slice(t),this.attributes)),[e,i]}toConsole(){let{string:t}=this;return t.length>15&&(t=t.slice(0,14)+\"…\"),JSON.stringify(t.toString())}}Wi.registerType(\"string\",qi);class Hi extends rt{static box(t){return t instanceof this?t:new this(t)}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(...arguments),this.objects=t.slice(0),this.length=this.objects.length}indexOf(t){return this.objects.indexOf(t)}splice(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return new this.constructor(st(this.objects,...e))}eachObject(t){return this.objects.map(((e,i)=>t(e,i)))}insertObjectAtIndex(t,e){return this.splice(e,0,t)}insertSplittableListAtIndex(t,e){return this.splice(e,0,...t.objects)}insertSplittableListAtPosition(t,e){const[i,n]=this.splitObjectAtPosition(e);return new this.constructor(i).insertSplittableListAtIndex(t,n)}editObjectAtIndex(t,e){return this.replaceObjectAtIndex(e(this.objects[t]),t)}replaceObjectAtIndex(t,e){return this.splice(e,1,t)}removeObjectAtIndex(t){return this.splice(t,1)}getObjectAtIndex(t){return this.objects[t]}getSplittableListInRange(t){const[e,i,n]=this.splitObjectsAtRange(t);return new this.constructor(e.slice(i,n+1))}selectSplittableList(t){const e=this.objects.filter((e=>t(e)));return new this.constructor(e)}removeObjectsInRange(t){const[e,i,n]=this.splitObjectsAtRange(t);return new this.constructor(e).splice(i,n-i+1)}transformObjectsInRange(t,e){const[i,n,r]=this.splitObjectsAtRange(t),o=i.map(((t,i)=>n<=i&&i<=r?e(t):t));return new this.constructor(o)}splitObjectsAtRange(t){let e,[i,n,r]=this.splitObjectAtPosition(Ki(t));return[i,e]=new this.constructor(i).splitObjectAtPosition(Gi(t)+r),[i,n,e-1]}getObjectAtPosition(t){const{index:e}=this.findIndexAndOffsetAtPosition(t);return this.objects[e]}splitObjectAtPosition(t){let e,i;const{index:n,offset:r}=this.findIndexAndOffsetAtPosition(t),o=this.objects.slice(0);if(null!=n)if(0===r)e=n,i=0;else{const t=this.getObjectAtIndex(n),[s,a]=t.splitAtOffset(r);o.splice(n,1,s,a),e=n+1,i=s.getLength()-r}else e=o.length,i=0;return[o,e,i]}consolidate(){const t=[];let e=this.objects[0];return this.objects.slice(1).forEach((i=>{var n,r;null!==(n=(r=e).canBeConsolidatedWith)&&void 0!==n&&n.call(r,i)?e=e.consolidateWith(i):(t.push(e),e=i)})),e&&t.push(e),new this.constructor(t)}consolidateFromIndexToIndex(t,e){const i=this.objects.slice(0).slice(t,e+1),n=new this.constructor(i).consolidate().toArray();return this.splice(t,i.length,...n)}findIndexAndOffsetAtPosition(t){let e,i=0;for(e=0;e<this.objects.length;e++){const n=i+this.objects[e].getLength();if(i<=t&&t<n)return{index:e,offset:t-i};i=n}return{index:null,offset:null}}findPositionAtIndexAndOffset(t,e){let i=0;for(let n=0;n<this.objects.length;n++){const r=this.objects[n];if(n<t)i+=r.getLength();else if(n===t){i+=e;break}}return i}getEndPosition(){return null==this.endPosition&&(this.endPosition=0,this.objects.forEach((t=>this.endPosition+=t.getLength()))),this.endPosition}toString(){return this.objects.join(\"\")}toArray(){return this.objects.slice(0)}toJSON(){return this.toArray()}isEqualTo(t){return super.isEqualTo(...arguments)||Ji(this.objects,null==t?void 0:t.objects)}contentsForInspection(){return{objects:\"[\".concat(this.objects.map((t=>t.inspect())).join(\", \"),\"]\")}}}const Ji=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t.length!==e.length)return!1;let i=!0;for(let n=0;n<t.length;n++){const r=t[n];i&&!r.isEqualTo(e[n])&&(i=!1)}return i},Ki=t=>t[0],Gi=t=>t[1];class Yi extends rt{static textForAttachmentWithAttributes(t,e){return new this([new zi(t,e)])}static textForStringWithAttributes(t,e){return new this([new qi(t,e)])}static fromJSON(t){return new this(Array.from(t).map((t=>Wi.fromJSON(t))))}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(...arguments);const e=t.filter((t=>!t.isEmpty()));this.pieceList=new Hi(e)}copy(){return this.copyWithPieceList(this.pieceList)}copyWithPieceList(t){return new this.constructor(t.consolidate().toArray())}copyUsingObjectMap(t){const e=this.getPieces().map((e=>t.find(e)||e));return new this.constructor(e)}appendText(t){return this.insertTextAtPosition(t,this.getLength())}insertTextAtPosition(t,e){return this.copyWithPieceList(this.pieceList.insertSplittableListAtPosition(t.pieceList,e))}removeTextAtRange(t){return this.copyWithPieceList(this.pieceList.removeObjectsInRange(t))}replaceTextAtRange(t,e){return this.removeTextAtRange(e).insertTextAtPosition(t,e[0])}moveTextFromRangeToPosition(t,e){if(t[0]<=e&&e<=t[1])return;const i=this.getTextAtRange(t),n=i.getLength();return t[0]<e&&(e-=n),this.removeTextAtRange(t).insertTextAtPosition(i,e)}addAttributeAtRange(t,e,i){const n={};return n[t]=e,this.addAttributesAtRange(n,i)}addAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(e=>e.copyWithAdditionalAttributes(t))))}removeAttributeAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(e=>e.copyWithoutAttribute(t))))}setAttributesAtRange(t,e){return this.copyWithPieceList(this.pieceList.transformObjectsInRange(e,(e=>e.copyWithAttributes(t))))}getAttributesAtPosition(t){var e;return(null===(e=this.pieceList.getObjectAtPosition(t))||void 0===e?void 0:e.getAttributes())||{}}getCommonAttributes(){const t=Array.from(this.pieceList.toArray()).map((t=>t.getAttributes()));return Ht.fromCommonAttributesOfObjects(t).toObject()}getCommonAttributesAtRange(t){return this.getTextAtRange(t).getCommonAttributes()||{}}getExpandedRangeForAttributeAtOffset(t,e){let i,n=i=e;const r=this.getLength();for(;n>0&&this.getCommonAttributesAtRange([n-1,i])[t];)n--;for(;i<r&&this.getCommonAttributesAtRange([e,i+1])[t];)i++;return[n,i]}getTextAtRange(t){return this.copyWithPieceList(this.pieceList.getSplittableListInRange(t))}getStringAtRange(t){return this.pieceList.getSplittableListInRange(t).toString()}getStringAtPosition(t){return this.getStringAtRange([t,t+1])}startsWithString(t){return this.getStringAtRange([0,t.length])===t}endsWithString(t){const e=this.getLength();return this.getStringAtRange([e-t.length,e])===t}getAttachmentPieces(){return this.pieceList.toArray().filter((t=>!!t.attachment))}getAttachments(){return this.getAttachmentPieces().map((t=>t.attachment))}getAttachmentAndPositionById(t){let e=0;for(const n of this.pieceList.toArray()){var i;if((null===(i=n.attachment)||void 0===i?void 0:i.id)===t)return{attachment:n.attachment,position:e};e+=n.length}return{attachment:null,position:null}}getAttachmentById(t){const{attachment:e}=this.getAttachmentAndPositionById(t);return e}getRangeOfAttachment(t){const e=this.getAttachmentAndPositionById(t.id),i=e.position;if(t=e.attachment)return[i,i+1]}updateAttributesForAttachment(t,e){const i=this.getRangeOfAttachment(e);return i?this.addAttributesAtRange(t,i):this}getLength(){return this.pieceList.getEndPosition()}isEmpty(){return 0===this.getLength()}isEqualTo(t){var e;return super.isEqualTo(t)||(null==t||null===(e=t.pieceList)||void 0===e?void 0:e.isEqualTo(this.pieceList))}isBlockBreak(){return 1===this.getLength()&&this.pieceList.getObjectAtIndex(0).isBlockBreak()}eachPiece(t){return this.pieceList.eachObject(t)}getPieces(){return this.pieceList.toArray()}getPieceAtPosition(t){return this.pieceList.getObjectAtPosition(t)}contentsForInspection(){return{pieceList:this.pieceList.inspect()}}toSerializableText(){const t=this.pieceList.selectSplittableList((t=>t.isSerializable()));return this.copyWithPieceList(t)}toString(){return this.pieceList.toString()}toJSON(){return this.pieceList.toJSON()}toConsole(){return JSON.stringify(this.pieceList.toArray().map((t=>JSON.parse(t.toConsole()))))}getDirection(){return lt(this.toString())}isRTL(){return\"rtl\"===this.getDirection()}}class Xi extends rt{static fromJSON(t){return new this(Yi.fromJSON(t.text),t.attributes,t.htmlAttributes)}constructor(t,e,i){super(...arguments),this.text=$i(t||new Yi),this.attributes=e||[],this.htmlAttributes=i||{}}isEmpty(){return this.text.isBlockBreak()}isEqualTo(t){return!!super.isEqualTo(t)||this.text.isEqualTo(null==t?void 0:t.text)&&ot(this.attributes,null==t?void 0:t.attributes)&&Tt(this.htmlAttributes,null==t?void 0:t.htmlAttributes)}copyWithText(t){return new Xi(t,this.attributes,this.htmlAttributes)}copyWithoutText(){return this.copyWithText(null)}copyWithAttributes(t){return new Xi(this.text,t,this.htmlAttributes)}copyWithoutAttributes(){return this.copyWithAttributes(null)}copyUsingObjectMap(t){const e=t.find(this.text);return e?this.copyWithText(e):this.copyWithText(this.text.copyUsingObjectMap(t))}addAttribute(t){const e=this.attributes.concat(rn(t));return this.copyWithAttributes(e)}addHTMLAttribute(t,e){const i=Object.assign({},this.htmlAttributes,{[t]:e});return new Xi(this.text,this.attributes,i)}removeAttribute(t){const{listAttribute:e}=mt(t),i=sn(sn(this.attributes,t),e);return this.copyWithAttributes(i)}removeLastAttribute(){return this.removeAttribute(this.getLastAttribute())}getLastAttribute(){return on(this.attributes)}getAttributes(){return this.attributes.slice(0)}getAttributeLevel(){return this.attributes.length}getAttributeAtLevel(t){return this.attributes[t-1]}hasAttribute(t){return this.attributes.includes(t)}hasAttributes(){return this.getAttributeLevel()>0}getLastNestableAttribute(){return on(this.getNestableAttributes())}getNestableAttributes(){return this.attributes.filter((t=>mt(t).nestable))}getNestingLevel(){return this.getNestableAttributes().length}decreaseNestingLevel(){const t=this.getLastNestableAttribute();return t?this.removeAttribute(t):this}increaseNestingLevel(){const t=this.getLastNestableAttribute();if(t){const e=this.attributes.lastIndexOf(t),i=st(this.attributes,e+1,0,...rn(t));return this.copyWithAttributes(i)}return this}getListItemAttributes(){return this.attributes.filter((t=>mt(t).listAttribute))}isListItem(){var t;return null===(t=mt(this.getLastAttribute()))||void 0===t?void 0:t.listAttribute}isTerminalBlock(){var t;return null===(t=mt(this.getLastAttribute()))||void 0===t?void 0:t.terminal}breaksOnReturn(){var t;return null===(t=mt(this.getLastAttribute()))||void 0===t?void 0:t.breakOnReturn}findLineBreakInDirectionFromPosition(t,e){const i=this.toString();let n;switch(t){case\"forward\":n=i.indexOf(\"\\n\",e);break;case\"backward\":n=i.slice(0,e).lastIndexOf(\"\\n\")}if(-1!==n)return n}contentsForInspection(){return{text:this.text.inspect(),attributes:this.attributes}}toString(){return this.text.toString()}toJSON(){return{text:this.text,attributes:this.attributes,htmlAttributes:this.htmlAttributes}}getDirection(){return this.text.getDirection()}isRTL(){return this.text.isRTL()}getLength(){return this.text.getLength()}canBeConsolidatedWith(t){return!this.hasAttributes()&&!t.hasAttributes()&&this.getDirection()===t.getDirection()}consolidateWith(t){const e=Yi.textForStringWithAttributes(\"\\n\"),i=this.getTextWithoutBlockBreak().appendText(e);return this.copyWithText(i.appendText(t.text))}splitAtOffset(t){let e,i;return 0===t?(e=null,i=this):t===this.getLength()?(e=this,i=null):(e=this.copyWithText(this.text.getTextAtRange([0,t])),i=this.copyWithText(this.text.getTextAtRange([t,this.getLength()]))),[e,i]}getBlockBreakPosition(){return this.text.getLength()-1}getTextWithoutBlockBreak(){return en(this.text)?this.text.getTextAtRange([0,this.getBlockBreakPosition()]):this.text.copy()}canBeGrouped(t){return this.attributes[t]}canBeGroupedWith(t,e){const i=t.getAttributes(),r=i[e],o=this.attributes[e];return o===r&&!(!1===mt(o).group&&!(()=>{if(!dt){dt=[];for(const t in n){const{listAttribute:e}=n[t];null!=e&&dt.push(e)}}return dt})().includes(i[e+1]))&&(this.getDirection()===t.getDirection()||t.isEmpty())}}const $i=function(t){return t=Zi(t),t=tn(t)},Zi=function(t){let e=!1;const i=t.getPieces();let n=i.slice(0,i.length-1);const r=i[i.length-1];return r?(n=n.map((t=>t.isBlockBreak()?(e=!0,nn(t)):t)),e?new Yi([...n,r]):t):t},Qi=Yi.textForStringWithAttributes(\"\\n\",{blockBreak:!0}),tn=function(t){return en(t)?t:t.appendText(Qi)},en=function(t){const e=t.getLength();if(0===e)return!1;return t.getTextAtRange([e-1,e]).isBlockBreak()},nn=t=>t.copyWithoutAttribute(\"blockBreak\"),rn=function(t){const{listAttribute:e}=mt(t);return e?[e,t]:[t]},on=t=>t.slice(-1)[0],sn=function(t,e){const i=t.lastIndexOf(e);return-1===i?t:st(t,i,1)};class an extends rt{static fromJSON(t){return new this(Array.from(t).map((t=>Xi.fromJSON(t))))}static fromString(t,e){const i=Yi.textForStringWithAttributes(t,e);return new this([new Xi(i)])}constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(...arguments),0===t.length&&(t=[new Xi]),this.blockList=Hi.box(t)}isEmpty(){const t=this.getBlockAtIndex(0);return 1===this.blockList.length&&t.isEmpty()&&!t.hasAttributes()}copy(){const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).consolidateBlocks?this.blockList.consolidate().toArray():this.blockList.toArray();return new this.constructor(t)}copyUsingObjectsFromDocument(t){const e=new Zt(t.getObjects());return this.copyUsingObjectMap(e)}copyUsingObjectMap(t){const e=this.getBlocks().map((e=>t.find(e)||e.copyUsingObjectMap(t)));return new this.constructor(e)}copyWithBaseBlockAttributes(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=this.getBlocks().map((e=>{const i=t.concat(e.getAttributes());return e.copyWithAttributes(i)}));return new this.constructor(e)}replaceBlock(t,e){const i=this.blockList.indexOf(t);return-1===i?this:new this.constructor(this.blockList.replaceObjectAtIndex(e,i))}insertDocumentAtRange(t,e){const{blockList:i}=t;e=wt(e);let[n]=e;const{index:r,offset:o}=this.locationFromPosition(n);let s=this;const a=this.getBlockAtPosition(n);return Lt(e)&&a.isEmpty()&&!a.hasAttributes()?s=new this.constructor(s.blockList.removeObjectAtIndex(r)):a.getBlockBreakPosition()===o&&n++,s=s.removeTextAtRange(e),new this.constructor(s.blockList.insertSplittableListAtPosition(i,n))}mergeDocumentAtRange(t,e){let i,n;e=wt(e);const[r]=e,o=this.locationFromPosition(r),s=this.getBlockAtIndex(o.index).getAttributes(),a=t.getBaseBlockAttributes(),l=s.slice(-a.length);if(ot(a,l)){const e=s.slice(0,-a.length);i=t.copyWithBaseBlockAttributes(e)}else i=t.copy({consolidateBlocks:!0}).copyWithBaseBlockAttributes(s);const c=i.getBlockCount(),u=i.getBlockAtIndex(0);if(ot(s,u.getAttributes())){const t=u.getTextWithoutBlockBreak();if(n=this.insertTextAtRange(t,e),c>1){i=new this.constructor(i.getBlocks().slice(1));const e=r+t.getLength();n=n.insertDocumentAtRange(i,e)}}else n=this.insertDocumentAtRange(i,e);return n}insertTextAtRange(t,e){e=wt(e);const[i]=e,{index:n,offset:r}=this.locationFromPosition(i),o=this.removeTextAtRange(e);return new this.constructor(o.blockList.editObjectAtIndex(n,(e=>e.copyWithText(e.text.insertTextAtPosition(t,r)))))}removeTextAtRange(t){let e;t=wt(t);const[i,n]=t;if(Lt(t))return this;const[r,o]=Array.from(this.locationRangeFromRange(t)),s=r.index,a=r.offset,l=this.getBlockAtIndex(s),c=o.index,u=o.offset,h=this.getBlockAtIndex(c);if(n-i==1&&l.getBlockBreakPosition()===a&&h.getBlockBreakPosition()!==u&&\"\\n\"===h.text.getStringAtPosition(u))e=this.blockList.editObjectAtIndex(c,(t=>t.copyWithText(t.text.removeTextAtRange([u,u+1]))));else{let t;const i=l.text.getTextAtRange([0,a]),n=h.text.getTextAtRange([u,h.getLength()]),r=i.appendText(n);t=s!==c&&0===a&&l.getAttributeLevel()>=h.getAttributeLevel()?h.copyWithText(r):l.copyWithText(r);const o=c+1-s;e=this.blockList.splice(s,o,t)}return new this.constructor(e)}moveTextFromRangeToPosition(t,e){let i;t=wt(t);const[n,r]=t;if(n<=e&&e<=r)return this;let o=this.getDocumentAtRange(t),s=this.removeTextAtRange(t);const a=n<e;a&&(e-=o.getLength());const[l,...c]=o.getBlocks();return 0===c.length?(i=l.getTextWithoutBlockBreak(),a&&(e+=1)):i=l.text,s=s.insertTextAtRange(i,e),0===c.length?s:(o=new this.constructor(c),e+=i.getLength(),s.insertDocumentAtRange(o,e))}addAttributeAtRange(t,e,i){let{blockList:n}=this;return this.eachBlockAtRange(i,((i,r,o)=>n=n.editObjectAtIndex(o,(function(){return mt(t)?i.addAttribute(t,e):r[0]===r[1]?i:i.copyWithText(i.text.addAttributeAtRange(t,e,r))})))),new this.constructor(n)}addAttribute(t,e){let{blockList:i}=this;return this.eachBlock(((n,r)=>i=i.editObjectAtIndex(r,(()=>n.addAttribute(t,e))))),new this.constructor(i)}removeAttributeAtRange(t,e){let{blockList:i}=this;return this.eachBlockAtRange(e,(function(e,n,r){mt(t)?i=i.editObjectAtIndex(r,(()=>e.removeAttribute(t))):n[0]!==n[1]&&(i=i.editObjectAtIndex(r,(()=>e.copyWithText(e.text.removeAttributeAtRange(t,n)))))})),new this.constructor(i)}updateAttributesForAttachment(t,e){const i=this.getRangeOfAttachment(e),[n]=Array.from(i),{index:r}=this.locationFromPosition(n),o=this.getTextAtIndex(r);return new this.constructor(this.blockList.editObjectAtIndex(r,(i=>i.copyWithText(o.updateAttributesForAttachment(t,e)))))}removeAttributeForAttachment(t,e){const i=this.getRangeOfAttachment(e);return this.removeAttributeAtRange(t,i)}setHTMLAttributeAtPosition(t,e,i){const n=this.getBlockAtPosition(t),r=n.addHTMLAttribute(e,i);return this.replaceBlock(n,r)}insertBlockBreakAtRange(t){let e;t=wt(t);const[i]=t,{offset:n}=this.locationFromPosition(i),r=this.removeTextAtRange(t);return 0===n&&(e=[new Xi]),new this.constructor(r.blockList.insertSplittableListAtPosition(new Hi(e),i))}applyBlockAttributeAtRange(t,e,i){const n=this.expandRangeToLineBreaksAndSplitBlocks(i);let r=n.document;i=n.range;const o=mt(t);if(o.listAttribute){r=r.removeLastListAttributeAtRange(i,{exceptAttributeName:t});const e=r.convertLineBreaksToBlockBreaksInRange(i);r=e.document,i=e.range}else r=o.exclusive?r.removeBlockAttributesAtRange(i):o.terminal?r.removeLastTerminalAttributeAtRange(i):r.consolidateBlocksAtRange(i);return r.addAttributeAtRange(t,e,i)}removeLastListAttributeAtRange(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{blockList:i}=this;return this.eachBlockAtRange(t,(function(t,n,r){const o=t.getLastAttribute();o&&mt(o).listAttribute&&o!==e.exceptAttributeName&&(i=i.editObjectAtIndex(r,(()=>t.removeAttribute(o))))})),new this.constructor(i)}removeLastTerminalAttributeAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,(function(t,i,n){const r=t.getLastAttribute();r&&mt(r).terminal&&(e=e.editObjectAtIndex(n,(()=>t.removeAttribute(r))))})),new this.constructor(e)}removeBlockAttributesAtRange(t){let{blockList:e}=this;return this.eachBlockAtRange(t,(function(t,i,n){t.hasAttributes()&&(e=e.editObjectAtIndex(n,(()=>t.copyWithoutAttributes())))})),new this.constructor(e)}expandRangeToLineBreaksAndSplitBlocks(t){let e;t=wt(t);let[i,n]=t;const r=this.locationFromPosition(i),o=this.locationFromPosition(n);let s=this;const a=s.getBlockAtIndex(r.index);if(r.offset=a.findLineBreakInDirectionFromPosition(\"backward\",r.offset),null!=r.offset&&(e=s.positionFromLocation(r),s=s.insertBlockBreakAtRange([e,e+1]),o.index+=1,o.offset-=s.getBlockAtIndex(r.index).getLength(),r.index+=1),r.offset=0,0===o.offset&&o.index>r.index)o.index-=1,o.offset=s.getBlockAtIndex(o.index).getBlockBreakPosition();else{const t=s.getBlockAtIndex(o.index);\"\\n\"===t.text.getStringAtRange([o.offset-1,o.offset])?o.offset-=1:o.offset=t.findLineBreakInDirectionFromPosition(\"forward\",o.offset),o.offset!==t.getBlockBreakPosition()&&(e=s.positionFromLocation(o),s=s.insertBlockBreakAtRange([e,e+1]))}return i=s.positionFromLocation(r),n=s.positionFromLocation(o),{document:s,range:t=wt([i,n])}}convertLineBreaksToBlockBreaksInRange(t){t=wt(t);let[e]=t;const i=this.getStringAtRange(t).slice(0,-1);let n=this;return i.replace(/.*?\\n/g,(function(t){e+=t.length,n=n.insertBlockBreakAtRange([e-1,e])})),{document:n,range:t}}consolidateBlocksAtRange(t){t=wt(t);const[e,i]=t,n=this.locationFromPosition(e).index,r=this.locationFromPosition(i).index;return new this.constructor(this.blockList.consolidateFromIndexToIndex(n,r))}getDocumentAtRange(t){t=wt(t);const e=this.blockList.getSplittableListInRange(t).toArray();return new this.constructor(e)}getStringAtRange(t){let e;const i=t=wt(t);return i[i.length-1]!==this.getLength()&&(e=-1),this.getDocumentAtRange(t).toString().slice(0,e)}getBlockAtIndex(t){return this.blockList.getObjectAtIndex(t)}getBlockAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getBlockAtIndex(e)}getTextAtIndex(t){var e;return null===(e=this.getBlockAtIndex(t))||void 0===e?void 0:e.text}getTextAtPosition(t){const{index:e}=this.locationFromPosition(t);return this.getTextAtIndex(e)}getPieceAtPosition(t){const{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getPieceAtPosition(i)}getCharacterAtPosition(t){const{index:e,offset:i}=this.locationFromPosition(t);return this.getTextAtIndex(e).getStringAtRange([i,i+1])}getLength(){return this.blockList.getEndPosition()}getBlocks(){return this.blockList.toArray()}getBlockCount(){return this.blockList.length}getEditCount(){return this.editCount}eachBlock(t){return this.blockList.eachObject(t)}eachBlockAtRange(t,e){let i,n;t=wt(t);const[r,o]=t,s=this.locationFromPosition(r),a=this.locationFromPosition(o);if(s.index===a.index)return i=this.getBlockAtIndex(s.index),n=[s.offset,a.offset],e(i,n,s.index);for(let t=s.index;t<=a.index;t++)if(i=this.getBlockAtIndex(t),i){switch(t){case s.index:n=[s.offset,i.text.getLength()];break;case a.index:n=[0,a.offset];break;default:n=[0,i.text.getLength()]}e(i,n,t)}}getCommonAttributesAtRange(t){t=wt(t);const[e]=t;if(Lt(t))return this.getCommonAttributesAtPosition(e);{const e=[],i=[];return this.eachBlockAtRange(t,(function(t,n){if(n[0]!==n[1])return e.push(t.text.getCommonAttributesAtRange(n)),i.push(ln(t))})),Ht.fromCommonAttributesOfObjects(e).merge(Ht.fromCommonAttributesOfObjects(i)).toObject()}}getCommonAttributesAtPosition(t){let e,i;const{index:n,offset:r}=this.locationFromPosition(t),o=this.getBlockAtIndex(n);if(!o)return{};const s=ln(o),a=o.text.getAttributesAtPosition(r),l=o.text.getAttributesAtPosition(r-1),c=Object.keys(W).filter((t=>W[t].inheritable));for(e in l)i=l[e],(i===a[e]||c.includes(e))&&(s[e]=i);return s}getRangeOfCommonAttributeAtPosition(t,e){const{index:i,offset:n}=this.locationFromPosition(e),r=this.getTextAtIndex(i),[o,s]=Array.from(r.getExpandedRangeForAttributeAtOffset(t,n)),a=this.positionFromLocation({index:i,offset:o}),l=this.positionFromLocation({index:i,offset:s});return wt([a,l])}getBaseBlockAttributes(){let t=this.getBlockAtIndex(0).getAttributes();for(let e=1;e<this.getBlockCount();e++){const i=this.getBlockAtIndex(e).getAttributes(),n=Math.min(t.length,i.length);t=(()=>{const e=[];for(let r=0;r<n&&i[r]===t[r];r++)e.push(i[r]);return e})()}return t}getAttachmentById(t){for(const e of this.getAttachments())if(e.id===t)return e}getAttachmentPieces(){let t=[];return this.blockList.eachObject((e=>{let{text:i}=e;return t=t.concat(i.getAttachmentPieces())})),t}getAttachments(){return this.getAttachmentPieces().map((t=>t.attachment))}getRangeOfAttachment(t){let e=0;const i=this.blockList.toArray();for(let n=0;n<i.length;n++){const{text:r}=i[n],o=r.getRangeOfAttachment(t);if(o)return wt([e+o[0],e+o[1]]);e+=r.getLength()}}getLocationRangeOfAttachment(t){const e=this.getRangeOfAttachment(t);return this.locationRangeFromRange(e)}getAttachmentPieceForAttachment(t){for(const e of this.getAttachmentPieces())if(e.attachment===t)return e}findRangesForBlockAttribute(t){let e=0;const i=[];return this.getBlocks().forEach((n=>{const r=n.getLength();n.hasAttribute(t)&&i.push([e,e+r]),e+=r})),i}findRangesForTextAttribute(t){let{withValue:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=0,n=[];const r=[];return this.getPieces().forEach((o=>{const s=o.getLength();(function(i){return e?i.getAttribute(t)===e:i.hasAttribute(t)})(o)&&(n[1]===i?n[1]=i+s:r.push(n=[i,i+s])),i+=s})),r}locationFromPosition(t){const e=this.blockList.findIndexAndOffsetAtPosition(Math.max(0,t));if(null!=e.index)return e;{const t=this.getBlocks();return{index:t.length-1,offset:t[t.length-1].getLength()}}}positionFromLocation(t){return this.blockList.findPositionAtIndexAndOffset(t.index,t.offset)}locationRangeFromPosition(t){return wt(this.locationFromPosition(t))}locationRangeFromRange(t){if(!(t=wt(t)))return;const[e,i]=Array.from(t),n=this.locationFromPosition(e),r=this.locationFromPosition(i);return wt([n,r])}rangeFromLocationRange(t){let e;t=wt(t);const i=this.positionFromLocation(t[0]);return Lt(t)||(e=this.positionFromLocation(t[1])),wt([i,e])}isEqualTo(t){return this.blockList.isEqualTo(null==t?void 0:t.blockList)}getTexts(){return this.getBlocks().map((t=>t.text))}getPieces(){const t=[];return Array.from(this.getTexts()).forEach((e=>{t.push(...Array.from(e.getPieces()||[]))})),t}getObjects(){return this.getBlocks().concat(this.getTexts()).concat(this.getPieces())}toSerializableDocument(){const t=[];return this.blockList.eachObject((e=>t.push(e.copyWithText(e.text.toSerializableText())))),new this.constructor(t)}toString(){return this.blockList.toString()}toJSON(){return this.blockList.toJSON()}toConsole(){return JSON.stringify(this.blockList.toArray().map((t=>JSON.parse(t.text.toConsole()))))}}const ln=function(t){const e={},i=t.getLastAttribute();return i&&(e[i]=!0),e},cn=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{string:t=Wt(t),attributes:e,type:\"string\"}},un=(t,e)=>{try{return JSON.parse(t.getAttribute(\"data-trix-\".concat(e)))}catch(t){return{}}};class hn extends q{static parse(t,e){const i=new this(t,e);return i.parse(),i}constructor(t){let{referenceElement:e,purifyOptions:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(...arguments),this.html=t,this.referenceElement=e,this.purifyOptions=i,this.blocks=[],this.blockElements=[],this.processedElements=[]}getDocument(){return an.fromJSON(this.blocks)}parse(){try{this.createHiddenContainer(),di.setHTML(this.containerElement,this.html,{purifyOptions:this.purifyOptions});const t=R(this.containerElement,{usingFilter:pn});for(;t.nextNode();)this.processNode(t.currentNode);return this.translateBlockElementMarginsToNewlines()}finally{this.removeHiddenContainer()}}createHiddenContainer(){return this.referenceElement?(this.containerElement=this.referenceElement.cloneNode(!1),this.containerElement.removeAttribute(\"id\"),this.containerElement.setAttribute(\"data-trix-internal\",\"\"),this.containerElement.style.display=\"none\",this.referenceElement.parentNode.insertBefore(this.containerElement,this.referenceElement.nextSibling)):(this.containerElement=T({tagName:\"div\",style:{display:\"none\"}}),document.body.appendChild(this.containerElement))}removeHiddenContainer(){return S(this.containerElement)}processNode(t){switch(t.nodeType){case Node.TEXT_NODE:if(!this.isInsignificantTextNode(t))return this.appendBlockForTextNode(t),this.processTextNode(t);break;case Node.ELEMENT_NODE:return this.appendBlockForElement(t),this.processElement(t)}}appendBlockForTextNode(t){const e=t.parentNode;if(e===this.currentBlockElement&&this.isBlockElement(t.previousSibling))return this.appendStringWithAttributes(\"\\n\");if(e===this.containerElement||this.isBlockElement(e)){var i;const t=this.getBlockAttributes(e),n=this.getBlockHTMLAttributes(e);ot(t,null===(i=this.currentBlock)||void 0===i?void 0:i.attributes)||(this.currentBlock=this.appendBlockForAttributesWithElement(t,e,n),this.currentBlockElement=e)}}appendBlockForElement(t){const e=this.isBlockElement(t),i=C(this.currentBlockElement,t);if(e&&!this.isBlockElement(t.firstChild)){if(!this.isInsignificantTextNode(t.firstChild)||!this.isBlockElement(t.firstElementChild)){const e=this.getBlockAttributes(t),n=this.getBlockHTMLAttributes(t);if(t.firstChild){if(i&&ot(e,this.currentBlock.attributes))return this.appendStringWithAttributes(\"\\n\");this.currentBlock=this.appendBlockForAttributesWithElement(e,t,n),this.currentBlockElement=t}}}else if(this.currentBlockElement&&!i&&!e){const e=this.findParentBlockElement(t);if(e)return this.appendBlockForElement(e);this.currentBlock=this.appendEmptyBlock(),this.currentBlockElement=null}}findParentBlockElement(t){let{parentElement:e}=t;for(;e&&e!==this.containerElement;){if(this.isBlockElement(e)&&this.blockElements.includes(e))return e;e=e.parentElement}return null}processTextNode(t){let e=t.data;var i;dn(t.parentNode)||(e=Vt(e),vn(null===(i=t.previousSibling)||void 0===i?void 0:i.textContent)&&(e=fn(e)));return this.appendStringWithAttributes(e,this.getTextAttributes(t.parentNode))}processElement(t){let e;if(P(t)){if(e=un(t,\"attachment\"),Object.keys(e).length){const i=this.getTextAttributes(t);this.appendAttachmentWithAttributes(e,i),t.innerHTML=\"\"}return this.processedElements.push(t)}switch(k(t)){case\"br\":return this.isExtraBR(t)||this.isBlockElement(t.nextSibling)||this.appendStringWithAttributes(\"\\n\",this.getTextAttributes(t)),this.processedElements.push(t);case\"img\":e={url:t.getAttribute(\"src\"),contentType:\"image\"};const i=(t=>{const e=t.getAttribute(\"width\"),i=t.getAttribute(\"height\"),n={};return e&&(n.width=parseInt(e,10)),i&&(n.height=parseInt(i,10)),n})(t);for(const t in i){const n=i[t];e[t]=n}return this.appendAttachmentWithAttributes(e,this.getTextAttributes(t)),this.processedElements.push(t);case\"tr\":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(j.tableRowSeparator);break;case\"td\":if(this.needsTableSeparator(t))return this.appendStringWithAttributes(j.tableCellSeparator)}}appendBlockForAttributesWithElement(t,e){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.blockElements.push(e);const n=function(){return{text:[],attributes:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},htmlAttributes:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}}(t,i);return this.blocks.push(n),n}appendEmptyBlock(){return this.appendBlockForAttributesWithElement([],null)}appendStringWithAttributes(t,e){return this.appendPiece(cn(t,e))}appendAttachmentWithAttributes(t,e){return this.appendPiece(function(t){return{attachment:t,attributes:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},type:\"attachment\"}}(t,e))}appendPiece(t){return 0===this.blocks.length&&this.appendEmptyBlock(),this.blocks[this.blocks.length-1].text.push(t)}appendStringToTextAtIndex(t,e){const{text:i}=this.blocks[e],n=i[i.length-1];if(\"string\"!==(null==n?void 0:n.type))return i.push(cn(t));n.string+=t}prependStringToTextAtIndex(t,e){const{text:i}=this.blocks[e],n=i[0];if(\"string\"!==(null==n?void 0:n.type))return i.unshift(cn(t));n.string=t+n.string}getTextAttributes(t){let e;const i={};for(const n in W){const r=W[n];if(r.tagName&&y(t,{matchingSelector:r.tagName,untilNode:this.containerElement}))i[n]=!0;else if(r.parser){if(e=r.parser(t),e){let o=!1;for(const i of this.findBlockElementAncestors(t))if(r.parser(i)===e){o=!0;break}o||(i[n]=e)}}else r.styleProperty&&(e=t.style[r.styleProperty],e&&(i[n]=e))}if(P(t)){const n=un(t,\"attributes\");for(const t in n)e=n[t],i[t]=e}return i}getBlockAttributes(t){const e=[];for(;t&&t!==this.containerElement;){for(const r in n){const o=n[r];var i;if(!1!==o.parse)if(k(t)===o.tagName)(null!==(i=o.test)&&void 0!==i&&i.call(o,t)||!o.test)&&(e.push(r),o.listAttribute&&e.push(o.listAttribute))}t=t.parentNode}return e.reverse()}getBlockHTMLAttributes(t){const e={},i=Object.values(n).find((e=>e.tagName===k(t)));return((null==i?void 0:i.htmlAttributes)||[]).forEach((i=>{t.hasAttribute(i)&&(e[i]=t.getAttribute(i))})),e}findBlockElementAncestors(t){const e=[];for(;t&&t!==this.containerElement;){const i=k(t);L().includes(i)&&e.push(t),t=t.parentNode}return e}isBlockElement(t){if((null==t?void 0:t.nodeType)===Node.ELEMENT_NODE&&!P(t)&&!y(t,{matchingSelector:\"td\",untilNode:this.containerElement}))return L().includes(k(t))||\"block\"===window.getComputedStyle(t).display}isInsignificantTextNode(t){if((null==t?void 0:t.nodeType)!==Node.TEXT_NODE)return;if(!bn(t.data))return;const{parentNode:e,previousSibling:i,nextSibling:n}=t;return gn(e.previousSibling)&&!this.isBlockElement(e.previousSibling)||dn(e)?void 0:!i||this.isBlockElement(i)||!n||this.isBlockElement(n)}isExtraBR(t){return\"br\"===k(t)&&this.isBlockElement(t.parentNode)&&t.parentNode.lastChild===t}needsTableSeparator(t){if(j.removeBlankTableCells){var e;const i=null===(e=t.previousSibling)||void 0===e?void 0:e.textContent;return i&&/\\S/.test(i)}return t.previousSibling}translateBlockElementMarginsToNewlines(){const t=this.getMarginOfDefaultBlockElement();for(let e=0;e<this.blocks.length;e++){const i=this.getMarginOfBlockElementAtIndex(e);i&&(i.top>2*t.top&&this.prependStringToTextAtIndex(\"\\n\",e),i.bottom>2*t.bottom&&this.appendStringToTextAtIndex(\"\\n\",e))}}getMarginOfBlockElementAtIndex(t){const e=this.blockElements[t];if(e&&e.textContent&&!L().includes(k(e))&&!this.processedElements.includes(e))return mn(e)}getMarginOfDefaultBlockElement(){const t=T(n.default.tagName);return this.containerElement.appendChild(t),mn(t)}}const dn=function(t){const{whiteSpace:e}=window.getComputedStyle(t);return[\"pre\",\"pre-wrap\",\"pre-line\"].includes(e)},gn=t=>t&&!vn(t.textContent),mn=function(t){const e=window.getComputedStyle(t);if(\"block\"===e.display)return{top:parseInt(e.marginTop),bottom:parseInt(e.marginBottom)}},pn=function(t){return\"style\"===k(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},fn=t=>t.replace(new RegExp(\"^\".concat(Ut.source,\"+\")),\"\"),bn=t=>new RegExp(\"^\".concat(Ut.source,\"*$\")).test(t),vn=t=>/\\s$/.test(t),An=[\"contenteditable\",\"data-trix-id\",\"data-trix-store-key\",\"data-trix-mutable\",\"data-trix-placeholder\",\"tabindex\"],yn=\"data-trix-serialized-attributes\",xn=\"[\".concat(yn,\"]\"),Cn=new RegExp(\"\\x3c!--block--\\x3e\",\"g\"),En={\"application/json\":function(t){let e;if(t instanceof an)e=t;else{if(!(t instanceof HTMLElement))throw new Error(\"unserializable object\");e=hn.parse(t.innerHTML).getDocument()}return e.toSerializableDocument().toJSONString()},\"text/html\":function(t){let e;if(t instanceof an)e=Si.render(t);else{if(!(t instanceof HTMLElement))throw new Error(\"unserializable object\");e=t.cloneNode(!0)}return Array.from(e.querySelectorAll(\"[data-trix-serialize=false]\")).forEach((t=>{S(t)})),An.forEach((t=>{Array.from(e.querySelectorAll(\"[\".concat(t,\"]\"))).forEach((e=>{e.removeAttribute(t)}))})),Array.from(e.querySelectorAll(xn)).forEach((t=>{try{const e=JSON.parse(t.getAttribute(yn));t.removeAttribute(yn);for(const i in e){const n=e[i];t.setAttribute(i,n)}}catch(t){}})),e.innerHTML.replace(Cn,\"\")}};var Sn=Object.freeze({__proto__:null});class Rn extends q{constructor(t,e){super(...arguments),this.attachmentManager=t,this.attachment=e,this.id=this.attachment.id,this.file=this.attachment.file}remove(){return this.attachmentManager.requestRemovalOfAttachment(this.attachment)}}Rn.proxyMethod(\"attachment.getAttribute\"),Rn.proxyMethod(\"attachment.hasAttribute\"),Rn.proxyMethod(\"attachment.setAttribute\"),Rn.proxyMethod(\"attachment.getAttributes\"),Rn.proxyMethod(\"attachment.setAttributes\"),Rn.proxyMethod(\"attachment.isPending\"),Rn.proxyMethod(\"attachment.isPreviewable\"),Rn.proxyMethod(\"attachment.getURL\"),Rn.proxyMethod(\"attachment.getHref\"),Rn.proxyMethod(\"attachment.getFilename\"),Rn.proxyMethod(\"attachment.getFilesize\"),Rn.proxyMethod(\"attachment.getFormattedFilesize\"),Rn.proxyMethod(\"attachment.getExtension\"),Rn.proxyMethod(\"attachment.getContentType\"),Rn.proxyMethod(\"attachment.getFile\"),Rn.proxyMethod(\"attachment.setFile\"),Rn.proxyMethod(\"attachment.releaseFile\"),Rn.proxyMethod(\"attachment.getUploadProgress\"),Rn.proxyMethod(\"attachment.setUploadProgress\");class kn extends q{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];super(...arguments),this.managedAttachments={},Array.from(t).forEach((t=>{this.manageAttachment(t)}))}getAttachments(){const t=[];for(const e in this.managedAttachments){const i=this.managedAttachments[e];t.push(i)}return t}manageAttachment(t){return this.managedAttachments[t.id]||(this.managedAttachments[t.id]=new Rn(this,t)),this.managedAttachments[t.id]}attachmentIsManaged(t){return t.id in this.managedAttachments}requestRemovalOfAttachment(t){var e,i;if(this.attachmentIsManaged(t))return null===(e=this.delegate)||void 0===e||null===(i=e.attachmentManagerDidRequestRemovalOfAttachment)||void 0===i?void 0:i.call(e,t)}unmanageAttachment(t){const e=this.managedAttachments[t.id];return delete this.managedAttachments[t.id],e}}class Tn{constructor(t){this.composition=t,this.document=this.composition.document;const e=this.composition.getSelectedRange();this.startPosition=e[0],this.endPosition=e[1],this.startLocation=this.document.locationFromPosition(this.startPosition),this.endLocation=this.document.locationFromPosition(this.endPosition),this.block=this.document.getBlockAtIndex(this.endLocation.index),this.breaksOnReturn=this.block.breaksOnReturn(),this.previousCharacter=this.block.text.getStringAtPosition(this.endLocation.offset-1),this.nextCharacter=this.block.text.getStringAtPosition(this.endLocation.offset)}shouldInsertBlockBreak(){return this.block.hasAttributes()&&this.block.isListItem()&&!this.block.isEmpty()?0!==this.startLocation.offset:this.breaksOnReturn&&\"\\n\"!==this.nextCharacter}shouldBreakFormattedBlock(){return this.block.hasAttributes()&&!this.block.isListItem()&&(this.breaksOnReturn&&\"\\n\"===this.nextCharacter||\"\\n\"===this.previousCharacter)}shouldDecreaseListLevel(){return this.block.hasAttributes()&&this.block.isListItem()&&this.block.isEmpty()}shouldPrependListItem(){return this.block.isListItem()&&0===this.startLocation.offset&&!this.block.isEmpty()}shouldRemoveLastBlockAttribute(){return this.block.hasAttributes()&&!this.block.isListItem()&&this.block.isEmpty()}}class wn extends q{constructor(){super(...arguments),this.document=new an,this.attachments=[],this.currentAttributes={},this.revision=0}setDocument(t){var e,i;if(!t.isEqualTo(this.document))return this.document=t,this.refreshAttachments(),this.revision++,null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidChangeDocument)||void 0===i?void 0:i.call(e,t)}getSnapshot(){return{document:this.document,selectedRange:this.getSelectedRange()}}loadSnapshot(t){var e,i,n,r;let{document:o,selectedRange:s}=t;return null===(e=this.delegate)||void 0===e||null===(i=e.compositionWillLoadSnapshot)||void 0===i||i.call(e),this.setDocument(null!=o?o:new an),this.setSelection(null!=s?s:[0,0]),null===(n=this.delegate)||void 0===n||null===(r=n.compositionDidLoadSnapshot)||void 0===r?void 0:r.call(n)}insertText(t){let{updatePosition:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{updatePosition:!0};const i=this.getSelectedRange();this.setDocument(this.document.insertTextAtRange(t,i));const n=i[0],r=n+t.getLength();return e&&this.setSelection(r),this.notifyDelegateOfInsertionAtRange([n,r])}insertBlock(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Xi;const e=new an([t]);return this.insertDocument(e)}insertDocument(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new an;const e=this.getSelectedRange();this.setDocument(this.document.insertDocumentAtRange(t,e));const i=e[0],n=i+t.getLength();return this.setSelection(n),this.notifyDelegateOfInsertionAtRange([i,n])}insertString(t,e){const i=this.getCurrentTextAttributes(),n=Yi.textForStringWithAttributes(t,i);return this.insertText(n,e)}insertBlockBreak(){const t=this.getSelectedRange();this.setDocument(this.document.insertBlockBreakAtRange(t));const e=t[0],i=e+1;return this.setSelection(i),this.notifyDelegateOfInsertionAtRange([e,i])}insertLineBreak(){const t=new Tn(this);if(t.shouldDecreaseListLevel())return this.decreaseListLevel(),this.setSelection(t.startPosition);if(t.shouldPrependListItem()){const e=new an([t.block.copyWithoutText()]);return this.insertDocument(e)}return t.shouldInsertBlockBreak()?this.insertBlockBreak():t.shouldRemoveLastBlockAttribute()?this.removeLastBlockAttribute():t.shouldBreakFormattedBlock()?this.breakFormattedBlock(t):this.insertString(\"\\n\")}insertHTML(t){const e=hn.parse(t,{purifyOptions:{SAFE_FOR_XML:!0}}).getDocument(),i=this.getSelectedRange();this.setDocument(this.document.mergeDocumentAtRange(e,i));const n=i[0],r=n+e.getLength()-1;return this.setSelection(r),this.notifyDelegateOfInsertionAtRange([n,r])}replaceHTML(t){const e=hn.parse(t).getDocument().copyUsingObjectsFromDocument(this.document),i=this.getLocationRange({strict:!1}),n=this.document.rangeFromLocationRange(i);return this.setDocument(e),this.setSelection(n)}insertFile(t){return this.insertFiles([t])}insertFiles(t){const e=[];return Array.from(t).forEach((t=>{var i;if(null!==(i=this.delegate)&&void 0!==i&&i.compositionShouldAcceptFile(t)){const i=Vi.attachmentForFile(t);e.push(i)}})),this.insertAttachments(e)}insertAttachment(t){return this.insertAttachments([t])}insertAttachments(t){let e=new Yi;return Array.from(t).forEach((t=>{var n;const r=t.getType(),o=null===(n=i[r])||void 0===n?void 0:n.presentation,s=this.getCurrentTextAttributes();o&&(s.presentation=o);const a=Yi.textForAttachmentWithAttributes(t,s);e=e.appendText(a)})),this.insertText(e)}shouldManageDeletingInDirection(t){const e=this.getLocationRange();if(Lt(e)){if(\"backward\"===t&&0===e[0].offset)return!0;if(this.shouldManageMovingCursorInDirection(t))return!0}else if(e[0].index!==e[1].index)return!0;return!1}deleteInDirection(t){let e,i,n,{length:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=this.getLocationRange();let s=this.getSelectedRange();const a=Lt(s);if(a?i=\"backward\"===t&&0===o[0].offset:n=o[0].index!==o[1].index,i&&this.canDecreaseBlockAttributeLevel()){const t=this.getBlock();if(t.isListItem()?this.decreaseListLevel():this.decreaseBlockAttributeLevel(),this.setSelection(s[0]),t.isEmpty())return!1}return a&&(s=this.getExpandedRangeInDirection(t,{length:r}),\"backward\"===t&&(e=this.getAttachmentAtRange(s))),e?(this.editAttachment(e),!1):(this.setDocument(this.document.removeTextAtRange(s)),this.setSelection(s[0]),!i&&!n&&void 0)}moveTextFromRange(t){const[e]=Array.from(this.getSelectedRange());return this.setDocument(this.document.moveTextFromRangeToPosition(t,e)),this.setSelection(e)}removeAttachment(t){const e=this.document.getRangeOfAttachment(t);if(e)return this.stopEditingAttachment(),this.setDocument(this.document.removeTextAtRange(e)),this.setSelection(e[0])}removeLastBlockAttribute(){const[t,e]=Array.from(this.getSelectedRange()),i=this.document.getBlockAtPosition(e);return this.removeCurrentAttribute(i.getLastAttribute()),this.setSelection(t)}insertPlaceholder(){return this.placeholderPosition=this.getPosition(),this.insertString(\" \")}selectPlaceholder(){if(null!=this.placeholderPosition)return this.setSelectedRange([this.placeholderPosition,this.placeholderPosition+1]),this.getSelectedRange()}forgetPlaceholder(){this.placeholderPosition=null}hasCurrentAttribute(t){const e=this.currentAttributes[t];return null!=e&&!1!==e}toggleCurrentAttribute(t){const e=!this.currentAttributes[t];return e?this.setCurrentAttribute(t,e):this.removeCurrentAttribute(t)}canSetCurrentAttribute(t){return mt(t)?this.canSetCurrentBlockAttribute(t):this.canSetCurrentTextAttribute(t)}canSetCurrentTextAttribute(t){const e=this.getSelectedDocument();if(e){for(const t of Array.from(e.getAttachments()))if(!t.hasContent())return!1;return!0}}canSetCurrentBlockAttribute(t){const e=this.getBlock();if(e)return!e.isTerminalBlock()}setCurrentAttribute(t,e){return mt(t)?this.setBlockAttribute(t,e):(this.setTextAttribute(t,e),this.currentAttributes[t]=e,this.notifyDelegateOfCurrentAttributesChange())}setHTMLAtributeAtPosition(t,e,i){var n;const r=this.document.getBlockAtPosition(t),o=null===(n=mt(r.getLastAttribute()))||void 0===n?void 0:n.htmlAttributes;if(r&&null!=o&&o.includes(e)){const n=this.document.setHTMLAttributeAtPosition(t,e,i);this.setDocument(n)}}setTextAttribute(t,e){const i=this.getSelectedRange();if(!i)return;const[n,r]=Array.from(i);if(n!==r)return this.setDocument(this.document.addAttributeAtRange(t,e,i));if(\"href\"===t){const t=Yi.textForStringWithAttributes(e,{href:e});return this.insertText(t)}}setBlockAttribute(t,e){const i=this.getSelectedRange();if(this.canSetCurrentAttribute(t))return this.setDocument(this.document.applyBlockAttributeAtRange(t,e,i)),this.setSelection(i)}removeCurrentAttribute(t){return mt(t)?(this.removeBlockAttribute(t),this.updateCurrentAttributes()):(this.removeTextAttribute(t),delete this.currentAttributes[t],this.notifyDelegateOfCurrentAttributesChange())}removeTextAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}removeBlockAttribute(t){const e=this.getSelectedRange();if(e)return this.setDocument(this.document.removeAttributeAtRange(t,e))}canDecreaseNestingLevel(){var t;return(null===(t=this.getBlock())||void 0===t?void 0:t.getNestingLevel())>0}canIncreaseNestingLevel(){var t;const e=this.getBlock();if(e){if(null===(t=mt(e.getLastNestableAttribute()))||void 0===t||!t.listAttribute)return e.getNestingLevel()>0;{const t=this.getPreviousBlock();if(t)return function(){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return ot((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(0,t.length),t)}(t.getListItemAttributes(),e.getListItemAttributes())}}}decreaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.decreaseNestingLevel()))}increaseNestingLevel(){const t=this.getBlock();if(t)return this.setDocument(this.document.replaceBlock(t,t.increaseNestingLevel()))}canDecreaseBlockAttributeLevel(){var t;return(null===(t=this.getBlock())||void 0===t?void 0:t.getAttributeLevel())>0}decreaseBlockAttributeLevel(){var t;const e=null===(t=this.getBlock())||void 0===t?void 0:t.getLastAttribute();if(e)return this.removeCurrentAttribute(e)}decreaseListLevel(){let[t]=Array.from(this.getSelectedRange());const{index:e}=this.document.locationFromPosition(t);let i=e;const n=this.getBlock().getAttributeLevel();let r=this.document.getBlockAtIndex(i+1);for(;r&&r.isListItem()&&!(r.getAttributeLevel()<=n);)i++,r=this.document.getBlockAtIndex(i+1);t=this.document.positionFromLocation({index:e,offset:0});const o=this.document.positionFromLocation({index:i,offset:0});return this.setDocument(this.document.removeLastListAttributeAtRange([t,o]))}updateCurrentAttributes(){const t=this.getSelectedRange({ignoreLock:!0});if(t){const e=this.document.getCommonAttributesAtRange(t);if(Array.from(gt()).forEach((t=>{e[t]||this.canSetCurrentAttribute(t)||(e[t]=!1)})),!Tt(e,this.currentAttributes))return this.currentAttributes=e,this.notifyDelegateOfCurrentAttributesChange()}}getCurrentAttributes(){return m.call({},this.currentAttributes)}getCurrentTextAttributes(){const t={};for(const e in this.currentAttributes){const i=this.currentAttributes[e];!1!==i&&ft(e)&&(t[e]=i)}return t}freezeSelection(){return this.setCurrentAttribute(\"frozen\",!0)}thawSelection(){return this.removeCurrentAttribute(\"frozen\")}hasFrozenSelection(){return this.hasCurrentAttribute(\"frozen\")}setSelection(t){var e;const i=this.document.locationRangeFromRange(t);return null===(e=this.delegate)||void 0===e?void 0:e.compositionDidRequestChangingSelectionToLocationRange(i)}getSelectedRange(){const t=this.getLocationRange();if(t)return this.document.rangeFromLocationRange(t)}setSelectedRange(t){const e=this.document.locationRangeFromRange(t);return this.getSelectionManager().setLocationRange(e)}getPosition(){const t=this.getLocationRange();if(t)return this.document.positionFromLocation(t[0])}getLocationRange(t){return this.targetLocationRange?this.targetLocationRange:this.getSelectionManager().getLocationRange(t)||wt({index:0,offset:0})}withTargetLocationRange(t,e){let i;this.targetLocationRange=t;try{i=e()}finally{this.targetLocationRange=null}return i}withTargetRange(t,e){const i=this.document.locationRangeFromRange(t);return this.withTargetLocationRange(i,e)}withTargetDOMRange(t,e){const i=this.createLocationRangeFromDOMRange(t,{strict:!1});return this.withTargetLocationRange(i,e)}getExpandedRangeInDirection(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[i,n]=Array.from(this.getSelectedRange());return\"backward\"===t?e?i-=e:i=this.translateUTF16PositionFromOffset(i,-1):e?n+=e:n=this.translateUTF16PositionFromOffset(n,1),wt([i,n])}shouldManageMovingCursorInDirection(t){if(this.editingAttachment)return!0;const e=this.getExpandedRangeInDirection(t);return null!=this.getAttachmentAtRange(e)}moveCursorInDirection(t){let e,i;if(this.editingAttachment)i=this.document.getRangeOfAttachment(this.editingAttachment);else{const n=this.getSelectedRange();i=this.getExpandedRangeInDirection(t),e=!Dt(n,i)}if(\"backward\"===t?this.setSelectedRange(i[0]):this.setSelectedRange(i[1]),e){const t=this.getAttachmentAtRange(i);if(t)return this.editAttachment(t)}}expandSelectionInDirection(t){let{length:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=this.getExpandedRangeInDirection(t,{length:e});return this.setSelectedRange(i)}expandSelectionForEditing(){if(this.hasCurrentAttribute(\"href\"))return this.expandSelectionAroundCommonAttribute(\"href\")}expandSelectionAroundCommonAttribute(t){const e=this.getPosition(),i=this.document.getRangeOfCommonAttributeAtPosition(t,e);return this.setSelectedRange(i)}selectionContainsAttachments(){var t;return(null===(t=this.getSelectedAttachments())||void 0===t?void 0:t.length)>0}selectionIsInCursorTarget(){return this.editingAttachment||this.positionIsCursorTarget(this.getPosition())}positionIsCursorTarget(t){const e=this.document.locationFromPosition(t);if(e)return this.locationIsCursorTarget(e)}positionIsBlockBreak(t){var e;return null===(e=this.document.getPieceAtPosition(t))||void 0===e?void 0:e.isBlockBreak()}getSelectedDocument(){const t=this.getSelectedRange();if(t)return this.document.getDocumentAtRange(t)}getSelectedAttachments(){var t;return null===(t=this.getSelectedDocument())||void 0===t?void 0:t.getAttachments()}getAttachments(){return this.attachments.slice(0)}refreshAttachments(){const t=this.document.getAttachments(),{added:e,removed:i}=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const i=[],n=[],r=new Set;t.forEach((t=>{r.add(t)}));const o=new Set;return e.forEach((t=>{o.add(t),r.has(t)||i.push(t)})),t.forEach((t=>{o.has(t)||n.push(t)})),{added:i,removed:n}}(this.attachments,t);return this.attachments=t,Array.from(i).forEach((t=>{var e,i;t.delegate=null,null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidRemoveAttachment)||void 0===i||i.call(e,t)})),(()=>{const t=[];return Array.from(e).forEach((e=>{var i,n;e.delegate=this,t.push(null===(i=this.delegate)||void 0===i||null===(n=i.compositionDidAddAttachment)||void 0===n?void 0:n.call(i,e))})),t})()}attachmentDidChangeAttributes(t){var e,i;return this.revision++,null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidEditAttachment)||void 0===i?void 0:i.call(e,t)}attachmentDidChangePreviewURL(t){var e,i;return this.revision++,null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidChangeAttachmentPreviewURL)||void 0===i?void 0:i.call(e,t)}editAttachment(t,e){var i,n;if(t!==this.editingAttachment)return this.stopEditingAttachment(),this.editingAttachment=t,null===(i=this.delegate)||void 0===i||null===(n=i.compositionDidStartEditingAttachment)||void 0===n?void 0:n.call(i,this.editingAttachment,e)}stopEditingAttachment(){var t,e;this.editingAttachment&&(null===(t=this.delegate)||void 0===t||null===(e=t.compositionDidStopEditingAttachment)||void 0===e||e.call(t,this.editingAttachment),this.editingAttachment=null)}updateAttributesForAttachment(t,e){return this.setDocument(this.document.updateAttributesForAttachment(t,e))}removeAttributeForAttachment(t,e){return this.setDocument(this.document.removeAttributeForAttachment(t,e))}breakFormattedBlock(t){let{document:e}=t;const{block:i}=t;let n=t.startPosition,r=[n-1,n];i.getBlockBreakPosition()===t.startLocation.offset?(i.breaksOnReturn()&&\"\\n\"===t.nextCharacter?n+=1:e=e.removeTextAtRange(r),r=[n,n]):\"\\n\"===t.nextCharacter?\"\\n\"===t.previousCharacter?r=[n-1,n+1]:(r=[n,n+1],n+=1):t.startLocation.offset-1!=0&&(n+=1);const o=new an([i.removeLastAttribute().copyWithoutText()]);return this.setDocument(e.insertDocumentAtRange(o,r)),this.setSelection(n)}getPreviousBlock(){const t=this.getLocationRange();if(t){const{index:e}=t[0];if(e>0)return this.document.getBlockAtIndex(e-1)}}getBlock(){const t=this.getLocationRange();if(t)return this.document.getBlockAtIndex(t[0].index)}getAttachmentAtRange(t){const e=this.document.getDocumentAtRange(t);if(e.toString()===\"\".concat(\"￼\",\"\\n\"))return e.getAttachments()[0]}notifyDelegateOfCurrentAttributesChange(){var t,e;return null===(t=this.delegate)||void 0===t||null===(e=t.compositionDidChangeCurrentAttributes)||void 0===e?void 0:e.call(t,this.currentAttributes)}notifyDelegateOfInsertionAtRange(t){var e,i;return null===(e=this.delegate)||void 0===e||null===(i=e.compositionDidPerformInsertionAtRange)||void 0===i?void 0:i.call(e,t)}translateUTF16PositionFromOffset(t,e){const i=this.document.toUTF16String(),n=i.offsetFromUCS2Offset(t);return i.offsetToUCS2Offset(n+e)}}wn.proxyMethod(\"getSelectionManager().getPointRange\"),wn.proxyMethod(\"getSelectionManager().setLocationRangeFromPointRange\"),wn.proxyMethod(\"getSelectionManager().createLocationRangeFromDOMRange\"),wn.proxyMethod(\"getSelectionManager().locationIsCursorTarget\"),wn.proxyMethod(\"getSelectionManager().selectionIsExpanded\"),wn.proxyMethod(\"delegate?.getSelectionManager\");class Ln extends q{constructor(t){super(...arguments),this.composition=t,this.undoEntries=[],this.redoEntries=[]}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.undoEntries.slice(-1)[0];if(!i||!Dn(n,t,e)){const i=this.createEntry({description:t,context:e});this.undoEntries.push(i),this.redoEntries=[]}}undo(){const t=this.undoEntries.pop();if(t){const e=this.createEntry(t);return this.redoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}redo(){const t=this.redoEntries.pop();if(t){const e=this.createEntry(t);return this.undoEntries.push(e),this.composition.loadSnapshot(t.snapshot)}}canUndo(){return this.undoEntries.length>0}canRedo(){return this.redoEntries.length>0}createEntry(){let{description:t,context:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{description:null==t?void 0:t.toString(),context:JSON.stringify(e),snapshot:this.composition.getSnapshot()}}}const Dn=(t,e,i)=>(null==t?void 0:t.description)===(null==e?void 0:e.toString())&&(null==t?void 0:t.context)===JSON.stringify(i),Nn=\"attachmentGallery\";class In{constructor(t){this.document=t.document,this.selectedRange=t.selectedRange}perform(){return this.removeBlockAttribute(),this.applyBlockAttribute()}getSnapshot(){return{document:this.document,selectedRange:this.selectedRange}}removeBlockAttribute(){return this.findRangesOfBlocks().map((t=>this.document=this.document.removeAttributeAtRange(Nn,t)))}applyBlockAttribute(){let t=0;this.findRangesOfPieces().forEach((e=>{e[1]-e[0]>1&&(e[0]+=t,e[1]+=t,\"\\n\"!==this.document.getCharacterAtPosition(e[1])&&(this.document=this.document.insertBlockBreakAtRange(e[1]),e[1]<this.selectedRange[1]&&this.moveSelectedRangeForward(),e[1]++,t++),0!==e[0]&&\"\\n\"!==this.document.getCharacterAtPosition(e[0]-1)&&(this.document=this.document.insertBlockBreakAtRange(e[0]),e[0]<this.selectedRange[0]&&this.moveSelectedRangeForward(),e[0]++,t++),this.document=this.document.applyBlockAttributeAtRange(Nn,!0,e))}))}findRangesOfBlocks(){return this.document.findRangesForBlockAttribute(Nn)}findRangesOfPieces(){return this.document.findRangesForTextAttribute(\"presentation\",{withValue:\"gallery\"})}moveSelectedRangeForward(){this.selectedRange[0]+=1,this.selectedRange[1]+=1}}const On=function(t){const e=new In(t);return e.perform(),e.getSnapshot()},Fn=[On];class Pn{constructor(t,e,i){this.insertFiles=this.insertFiles.bind(this),this.composition=t,this.selectionManager=e,this.element=i,this.undoManager=new Ln(this.composition),this.filters=Fn.slice(0)}loadDocument(t){return this.loadSnapshot({document:t,selectedRange:[0,0]})}loadHTML(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";const e=hn.parse(t,{referenceElement:this.element}).getDocument();return this.loadDocument(e)}loadJSON(t){let{document:e,selectedRange:i}=t;return e=an.fromJSON(e),this.loadSnapshot({document:e,selectedRange:i})}loadSnapshot(t){return this.undoManager=new Ln(this.composition),this.composition.loadSnapshot(t)}getDocument(){return this.composition.document}getSelectedDocument(){return this.composition.getSelectedDocument()}getSnapshot(){return this.composition.getSnapshot()}toJSON(){return this.getSnapshot()}deleteInDirection(t){return this.composition.deleteInDirection(t)}insertAttachment(t){return this.composition.insertAttachment(t)}insertAttachments(t){return this.composition.insertAttachments(t)}insertDocument(t){return this.composition.insertDocument(t)}insertFile(t){return this.composition.insertFile(t)}insertFiles(t){return this.composition.insertFiles(t)}insertHTML(t){return this.composition.insertHTML(t)}insertString(t){return this.composition.insertString(t)}insertText(t){return this.composition.insertText(t)}insertLineBreak(){return this.composition.insertLineBreak()}getSelectedRange(){return this.composition.getSelectedRange()}getPosition(){return this.composition.getPosition()}getClientRectAtPosition(t){const e=this.getDocument().locationRangeFromRange([t,t+1]);return this.selectionManager.getClientRectAtLocationRange(e)}expandSelectionInDirection(t){return this.composition.expandSelectionInDirection(t)}moveCursorInDirection(t){return this.composition.moveCursorInDirection(t)}setSelectedRange(t){return this.composition.setSelectedRange(t)}activateAttribute(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.composition.setCurrentAttribute(t,e)}attributeIsActive(t){return this.composition.hasCurrentAttribute(t)}canActivateAttribute(t){return this.composition.canSetCurrentAttribute(t)}deactivateAttribute(t){return this.composition.removeCurrentAttribute(t)}setHTMLAtributeAtPosition(t,e,i){this.composition.setHTMLAtributeAtPosition(t,e,i)}canDecreaseNestingLevel(){return this.composition.canDecreaseNestingLevel()}canIncreaseNestingLevel(){return this.composition.canIncreaseNestingLevel()}decreaseNestingLevel(){if(this.canDecreaseNestingLevel())return this.composition.decreaseNestingLevel()}increaseNestingLevel(){if(this.canIncreaseNestingLevel())return this.composition.increaseNestingLevel()}canRedo(){return this.undoManager.canRedo()}canUndo(){return this.undoManager.canUndo()}recordUndoEntry(t){let{context:e,consolidatable:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.undoManager.recordUndoEntry(t,{context:e,consolidatable:i})}redo(){if(this.canRedo())return this.undoManager.redo()}undo(){if(this.canUndo())return this.undoManager.undo()}}class Mn{constructor(t){this.element=t}findLocationFromContainerAndOffset(t,e){let{strict:i}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{strict:!0},n=0,r=!1;const o={index:0,offset:0},s=this.findAttachmentElementParentForNode(t);s&&(t=s.parentNode,e=E(s));const a=R(this.element,{usingFilter:Wn});for(;a.nextNode();){const s=a.currentNode;if(s===t&&B(t)){F(s)||(o.offset+=e);break}if(s.parentNode===t){if(n++===e)break}else if(!C(t,s)&&n>0)break;N(s,{strict:i})?(r&&o.index++,o.offset=0,r=!0):o.offset+=Bn(s)}return o}findContainerAndOffsetFromLocation(t){let e,i;if(0===t.index&&0===t.offset){for(e=this.element,i=0;e.firstChild;)if(e=e.firstChild,D(e)){i=1;break}return[e,i]}let[n,r]=this.findNodeAndOffsetFromLocation(t);if(n){if(B(n))0===Bn(n)?(e=n.parentNode.parentNode,i=E(n.parentNode),F(n,{name:\"right\"})&&i++):(e=n,i=t.offset-r);else{if(e=n.parentNode,!N(n.previousSibling)&&!D(e))for(;n===e.lastChild&&(n=e,e=e.parentNode,!D(e)););i=E(n),0!==t.offset&&i++}return[e,i]}}findNodeAndOffsetFromLocation(t){let e,i,n=0;for(const r of this.getSignificantNodesForIndex(t.index)){const o=Bn(r);if(t.offset<=n+o)if(B(r)){if(e=r,i=n,t.offset===i&&F(e))break}else e||(e=r,i=n);if(n+=o,n>t.offset)break}return[e,i]}findAttachmentElementParentForNode(t){for(;t&&t!==this.element;){if(P(t))return t;t=t.parentNode}}getSignificantNodesForIndex(t){const e=[],i=R(this.element,{usingFilter:_n});let n=!1;for(;i.nextNode();){const o=i.currentNode;var r;if(I(o)){if(null!=r?r++:r=0,r===t)n=!0;else if(n)break}else n&&e.push(o)}return e}}const Bn=function(t){if(t.nodeType===Node.TEXT_NODE){if(F(t))return 0;return t.textContent.length}return\"br\"===k(t)||P(t)?1:0},_n=function(t){return jn(t)===NodeFilter.FILTER_ACCEPT?Wn(t):NodeFilter.FILTER_REJECT},jn=function(t){return M(t)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT},Wn=function(t){return P(t.parentNode)?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT};class Un{createDOMRangeFromPoint(t){let e,{x:i,y:n}=t;if(document.caretPositionFromPoint){const{offsetNode:t,offset:r}=document.caretPositionFromPoint(i,n);return e=document.createRange(),e.setStart(t,r),e}if(document.caretRangeFromPoint)return document.caretRangeFromPoint(i,n);if(document.body.createTextRange){const t=Mt();try{const t=document.body.createTextRange();t.moveToPoint(i,n),t.select()}catch(t){}return e=Mt(),Bt(t),e}}getClientRectsForDOMRange(t){const e=Array.from(t.getClientRects());return[e[0],e[e.length-1]]}}class Vn extends q{constructor(t){super(...arguments),this.didMouseDown=this.didMouseDown.bind(this),this.selectionDidChange=this.selectionDidChange.bind(this),this.element=t,this.locationMapper=new Mn(this.element),this.pointMapper=new Un,this.lockCount=0,b(\"mousedown\",{onElement:this.element,withCallback:this.didMouseDown})}getLocationRange(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!1===t.strict?this.createLocationRangeFromDOMRange(Mt()):t.ignoreLock?this.currentLocationRange:this.lockedLocationRange?this.lockedLocationRange:this.currentLocationRange}setLocationRange(t){if(this.lockedLocationRange)return;t=wt(t);const e=this.createDOMRangeFromLocationRange(t);e&&(Bt(e),this.updateCurrentLocationRange(t))}setLocationRangeFromPointRange(t){t=wt(t);const e=this.getLocationAtPoint(t[0]),i=this.getLocationAtPoint(t[1]);this.setLocationRange([e,i])}getClientRectAtLocationRange(t){const e=this.createDOMRangeFromLocationRange(t);if(e)return this.getClientRectsForDOMRange(e)[1]}locationIsCursorTarget(t){const e=Array.from(this.findNodeAndOffsetFromLocation(t))[0];return F(e)}lock(){0==this.lockCount++&&(this.updateCurrentLocationRange(),this.lockedLocationRange=this.getLocationRange())}unlock(){if(0==--this.lockCount){const{lockedLocationRange:t}=this;if(this.lockedLocationRange=null,null!=t)return this.setLocationRange(t)}}clearSelection(){var t;return null===(t=Pt())||void 0===t?void 0:t.removeAllRanges()}selectionIsCollapsed(){var t;return!0===(null===(t=Mt())||void 0===t?void 0:t.collapsed)}selectionIsExpanded(){return!this.selectionIsCollapsed()}createLocationRangeFromDOMRange(t,e){if(null==t||!this.domRangeWithinElement(t))return;const i=this.findLocationFromContainerAndOffset(t.startContainer,t.startOffset,e);if(!i)return;const n=t.collapsed?void 0:this.findLocationFromContainerAndOffset(t.endContainer,t.endOffset,e);return wt([i,n])}didMouseDown(){return this.pauseTemporarily()}pauseTemporarily(){let t;this.paused=!0;const e=()=>{if(this.paused=!1,clearTimeout(i),Array.from(t).forEach((t=>{t.destroy()})),C(document,this.element))return this.selectionDidChange()},i=setTimeout(e,200);t=[\"mousemove\",\"keydown\"].map((t=>b(t,{onElement:document,withCallback:e})))}selectionDidChange(){if(!this.paused&&!x(this.element))return this.updateCurrentLocationRange()}updateCurrentLocationRange(t){var e,i;if((null!=t?t:t=this.createLocationRangeFromDOMRange(Mt()))&&!Dt(t,this.currentLocationRange))return this.currentLocationRange=t,null===(e=this.delegate)||void 0===e||null===(i=e.locationRangeDidChange)||void 0===i?void 0:i.call(e,this.currentLocationRange.slice(0))}createDOMRangeFromLocationRange(t){const e=this.findContainerAndOffsetFromLocation(t[0]),i=Lt(t)?e:this.findContainerAndOffsetFromLocation(t[1])||e;if(null!=e&&null!=i){const t=document.createRange();return t.setStart(...Array.from(e||[])),t.setEnd(...Array.from(i||[])),t}}getLocationAtPoint(t){const e=this.createDOMRangeFromPoint(t);var i;if(e)return null===(i=this.createLocationRangeFromDOMRange(e))||void 0===i?void 0:i[0]}domRangeWithinElement(t){return t.collapsed?C(this.element,t.startContainer):C(this.element,t.startContainer)&&C(this.element,t.endContainer)}}Vn.proxyMethod(\"locationMapper.findLocationFromContainerAndOffset\"),Vn.proxyMethod(\"locationMapper.findContainerAndOffsetFromLocation\"),Vn.proxyMethod(\"locationMapper.findNodeAndOffsetFromLocation\"),Vn.proxyMethod(\"pointMapper.createDOMRangeFromPoint\"),Vn.proxyMethod(\"pointMapper.getClientRectsForDOMRange\");var zn=Object.freeze({__proto__:null,Attachment:Vi,AttachmentManager:kn,AttachmentPiece:zi,Block:Xi,Composition:wn,Document:an,Editor:Pn,HTMLParser:hn,HTMLSanitizer:di,LineBreakInsertion:Tn,LocationMapper:Mn,ManagedAttachment:Rn,Piece:Wi,PointMapper:Un,SelectionManager:Vn,SplittableList:Hi,StringPiece:qi,Text:Yi,UndoManager:Ln}),qn=Object.freeze({__proto__:null,ObjectView:ie,AttachmentView:pi,BlockView:Ei,DocumentView:Si,PieceView:Ai,PreviewableAttachmentView:vi,TextView:yi});const{lang:Hn,css:Jn,keyNames:Kn}=z,Gn=function(t){return function(){const e=t.apply(this,arguments);e.do(),this.undos||(this.undos=[]),this.undos.push(e.undo)}};class Yn extends q{constructor(t,e,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(...arguments),Di(this,\"makeElementMutable\",Gn((()=>({do:()=>{this.element.dataset.trixMutable=!0},undo:()=>delete this.element.dataset.trixMutable})))),Di(this,\"addToolbar\",Gn((()=>{const t=T({tagName:\"div\",className:Jn.attachmentToolbar,data:{trixMutable:!0},childNodes:T({tagName:\"div\",className:\"trix-button-row\",childNodes:T({tagName:\"span\",className:\"trix-button-group trix-button-group--actions\",childNodes:T({tagName:\"button\",className:\"trix-button trix-button--remove\",textContent:Hn.remove,attributes:{title:Hn.remove},data:{trixAction:\"remove\"}})})})});return this.attachment.isPreviewable()&&t.appendChild(T({tagName:\"div\",className:Jn.attachmentMetadataContainer,childNodes:T({tagName:\"span\",className:Jn.attachmentMetadata,childNodes:[T({tagName:\"span\",className:Jn.attachmentName,textContent:this.attachment.getFilename(),attributes:{title:this.attachment.getFilename()}}),T({tagName:\"span\",className:Jn.attachmentSize,textContent:this.attachment.getFormattedFilesize()})]})})),b(\"click\",{onElement:t,withCallback:this.didClickToolbar}),b(\"click\",{onElement:t,matchingSelector:\"[data-trix-action]\",withCallback:this.didClickActionButton}),v(\"trix-attachment-before-toolbar\",{onElement:this.element,attributes:{toolbar:t,attachment:this.attachment}}),{do:()=>this.element.appendChild(t),undo:()=>S(t)}}))),Di(this,\"installCaptionEditor\",Gn((()=>{const t=T({tagName:\"textarea\",className:Jn.attachmentCaptionEditor,attributes:{placeholder:Hn.captionPlaceholder},data:{trixMutable:!0}});t.value=this.attachmentPiece.getCaption();const e=t.cloneNode();e.classList.add(\"trix-autoresize-clone\"),e.tabIndex=-1;const i=function(){e.value=t.value,t.style.height=e.scrollHeight+\"px\"};b(\"input\",{onElement:t,withCallback:i}),b(\"input\",{onElement:t,withCallback:this.didInputCaption}),b(\"keydown\",{onElement:t,withCallback:this.didKeyDownCaption}),b(\"change\",{onElement:t,withCallback:this.didChangeCaption}),b(\"blur\",{onElement:t,withCallback:this.didBlurCaption});const n=this.element.querySelector(\"figcaption\"),r=n.cloneNode();return{do:()=>{if(n.style.display=\"none\",r.appendChild(t),r.appendChild(e),r.classList.add(\"\".concat(Jn.attachmentCaption,\"--editing\")),n.parentElement.insertBefore(r,n),i(),this.options.editCaption)return Rt((()=>t.focus()))},undo(){S(r),n.style.display=null}}}))),this.didClickToolbar=this.didClickToolbar.bind(this),this.didClickActionButton=this.didClickActionButton.bind(this),this.didKeyDownCaption=this.didKeyDownCaption.bind(this),this.didInputCaption=this.didInputCaption.bind(this),this.didChangeCaption=this.didChangeCaption.bind(this),this.didBlurCaption=this.didBlurCaption.bind(this),this.attachmentPiece=t,this.element=e,this.container=i,this.options=n,this.attachment=this.attachmentPiece.attachment,\"a\"===k(this.element)&&(this.element=this.element.firstChild),this.install()}install(){this.makeElementMutable(),this.addToolbar(),this.attachment.isPreviewable()&&this.installCaptionEditor()}uninstall(){var t;let e=this.undos.pop();for(this.savePendingCaption();e;)e(),e=this.undos.pop();null===(t=this.delegate)||void 0===t||t.didUninstallAttachmentEditor(this)}savePendingCaption(){if(null!=this.pendingCaption){const r=this.pendingCaption;var t,e,i,n;if(this.pendingCaption=null,r)null===(t=this.delegate)||void 0===t||null===(e=t.attachmentEditorDidRequestUpdatingAttributesForAttachment)||void 0===e||e.call(t,{caption:r},this.attachment);else null===(i=this.delegate)||void 0===i||null===(n=i.attachmentEditorDidRequestRemovingAttributeForAttachment)||void 0===n||n.call(i,\"caption\",this.attachment)}}didClickToolbar(t){return t.preventDefault(),t.stopPropagation()}didClickActionButton(t){var e;if(\"remove\"===t.target.getAttribute(\"data-trix-action\"))return null===(e=this.delegate)||void 0===e?void 0:e.attachmentEditorDidRequestRemovalOfAttachment(this.attachment)}didKeyDownCaption(t){var e,i;if(\"return\"===Kn[t.keyCode])return t.preventDefault(),this.savePendingCaption(),null===(e=this.delegate)||void 0===e||null===(i=e.attachmentEditorDidRequestDeselectingAttachment)||void 0===i?void 0:i.call(e,this.attachment)}didInputCaption(t){this.pendingCaption=t.target.value.replace(/\\s/g,\" \").trim()}didChangeCaption(t){return this.savePendingCaption()}didBlurCaption(t){return this.savePendingCaption()}}class Xn extends q{constructor(t,i){super(...arguments),this.didFocus=this.didFocus.bind(this),this.didBlur=this.didBlur.bind(this),this.didClickAttachment=this.didClickAttachment.bind(this),this.element=t,this.composition=i,this.documentView=new Si(this.composition.document,{element:this.element}),b(\"focus\",{onElement:this.element,withCallback:this.didFocus}),b(\"blur\",{onElement:this.element,withCallback:this.didBlur}),b(\"click\",{onElement:this.element,matchingSelector:\"a[contenteditable=false]\",preventDefault:!0}),b(\"mousedown\",{onElement:this.element,matchingSelector:e,withCallback:this.didClickAttachment}),b(\"click\",{onElement:this.element,matchingSelector:\"a\".concat(e),preventDefault:!0})}didFocus(t){var e;const i=()=>{var t,e;if(!this.focused)return this.focused=!0,null===(t=this.delegate)||void 0===t||null===(e=t.compositionControllerDidFocus)||void 0===e?void 0:e.call(t)};return(null===(e=this.blurPromise)||void 0===e?void 0:e.then(i))||i()}didBlur(t){this.blurPromise=new Promise((t=>Rt((()=>{var e,i;x(this.element)||(this.focused=null,null===(e=this.delegate)||void 0===e||null===(i=e.compositionControllerDidBlur)||void 0===i||i.call(e));return this.blurPromise=null,t()}))))}didClickAttachment(t,e){var i,n;const r=this.findAttachmentForElement(e),o=!!y(t.target,{matchingSelector:\"figcaption\"});return null===(i=this.delegate)||void 0===i||null===(n=i.compositionControllerDidSelectAttachment)||void 0===n?void 0:n.call(i,r,{editCaption:o})}getSerializableElement(){return this.isEditingAttachment()?this.documentView.shadowElement:this.element}render(){var t,e,i,n,r,o;(this.revision!==this.composition.revision&&(this.documentView.setDocument(this.composition.document),this.documentView.render(),this.revision=this.composition.revision),this.canSyncDocumentView()&&!this.documentView.isSynced())&&(null===(i=this.delegate)||void 0===i||null===(n=i.compositionControllerWillSyncDocumentView)||void 0===n||n.call(i),this.documentView.sync(),null===(r=this.delegate)||void 0===r||null===(o=r.compositionControllerDidSyncDocumentView)||void 0===o||o.call(r));return null===(t=this.delegate)||void 0===t||null===(e=t.compositionControllerDidRender)||void 0===e?void 0:e.call(t)}rerenderViewForObject(t){return this.invalidateViewForObject(t),this.render()}invalidateViewForObject(t){return this.documentView.invalidateViewForObject(t)}isViewCachingEnabled(){return this.documentView.isViewCachingEnabled()}enableViewCaching(){return this.documentView.enableViewCaching()}disableViewCaching(){return this.documentView.disableViewCaching()}refreshViewCache(){return this.documentView.garbageCollectCachedViews()}isEditingAttachment(){return!!this.attachmentEditor}installAttachmentEditorForAttachment(t,e){var i;if((null===(i=this.attachmentEditor)||void 0===i?void 0:i.attachment)===t)return;const n=this.documentView.findElementForObject(t);if(!n)return;this.uninstallAttachmentEditor();const r=this.composition.document.getAttachmentPieceForAttachment(t);this.attachmentEditor=new Yn(r,n,this.element,e),this.attachmentEditor.delegate=this}uninstallAttachmentEditor(){var t;return null===(t=this.attachmentEditor)||void 0===t?void 0:t.uninstall()}didUninstallAttachmentEditor(){return this.attachmentEditor=null,this.render()}attachmentEditorDidRequestUpdatingAttributesForAttachment(t,e){var i,n;return null===(i=this.delegate)||void 0===i||null===(n=i.compositionControllerWillUpdateAttachment)||void 0===n||n.call(i,e),this.composition.updateAttributesForAttachment(t,e)}attachmentEditorDidRequestRemovingAttributeForAttachment(t,e){var i,n;return null===(i=this.delegate)||void 0===i||null===(n=i.compositionControllerWillUpdateAttachment)||void 0===n||n.call(i,e),this.composition.removeAttributeForAttachment(t,e)}attachmentEditorDidRequestRemovalOfAttachment(t){var e,i;return null===(e=this.delegate)||void 0===e||null===(i=e.compositionControllerDidRequestRemovalOfAttachment)||void 0===i?void 0:i.call(e,t)}attachmentEditorDidRequestDeselectingAttachment(t){var e,i;return null===(e=this.delegate)||void 0===e||null===(i=e.compositionControllerDidRequestDeselectingAttachment)||void 0===i?void 0:i.call(e,t)}canSyncDocumentView(){return!this.isEditingAttachment()}findAttachmentForElement(t){return this.composition.document.getAttachmentById(parseInt(t.dataset.trixId,10))}}class $n extends q{}const Zn=\"data-trix-mutable\",Qn=\"[\".concat(Zn,\"]\"),tr={attributes:!0,childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0};class er extends q{constructor(t){super(t),this.didMutate=this.didMutate.bind(this),this.element=t,this.observer=new window.MutationObserver(this.didMutate),this.start()}start(){return this.reset(),this.observer.observe(this.element,tr)}stop(){return this.observer.disconnect()}didMutate(t){var e,i;if(this.mutations.push(...Array.from(this.findSignificantMutations(t)||[])),this.mutations.length)return null===(e=this.delegate)||void 0===e||null===(i=e.elementDidMutate)||void 0===i||i.call(e,this.getMutationSummary()),this.reset()}reset(){this.mutations=[]}findSignificantMutations(t){return t.filter((t=>this.mutationIsSignificant(t)))}mutationIsSignificant(t){if(this.nodeIsMutable(t.target))return!1;for(const e of Array.from(this.nodesModifiedByMutation(t)))if(this.nodeIsSignificant(e))return!0;return!1}nodeIsSignificant(t){return t!==this.element&&!this.nodeIsMutable(t)&&!M(t)}nodeIsMutable(t){return y(t,{matchingSelector:Qn})}nodesModifiedByMutation(t){const e=[];switch(t.type){case\"attributes\":t.attributeName!==Zn&&e.push(t.target);break;case\"characterData\":e.push(t.target.parentNode),e.push(t.target);break;case\"childList\":e.push(...Array.from(t.addedNodes||[])),e.push(...Array.from(t.removedNodes||[]))}return e}getMutationSummary(){return this.getTextMutationSummary()}getTextMutationSummary(){const{additions:t,deletions:e}=this.getTextChangesFromCharacterData(),i=this.getTextChangesFromChildList();Array.from(i.additions).forEach((e=>{Array.from(t).includes(e)||t.push(e)})),e.push(...Array.from(i.deletions||[]));const n={},r=t.join(\"\");r&&(n.textAdded=r);const o=e.join(\"\");return o&&(n.textDeleted=o),n}getMutationsByType(t){return Array.from(this.mutations).filter((e=>e.type===t))}getTextChangesFromChildList(){let t,e;const i=[],n=[];Array.from(this.getMutationsByType(\"childList\")).forEach((t=>{i.push(...Array.from(t.addedNodes||[])),n.push(...Array.from(t.removedNodes||[]))}));0===i.length&&1===n.length&&I(n[0])?(t=[],e=[\"\\n\"]):(t=ir(i),e=ir(n));const r=t.filter(((t,i)=>t!==e[i])).map(Wt),o=e.filter(((e,i)=>e!==t[i])).map(Wt);return{additions:r,deletions:o}}getTextChangesFromCharacterData(){let t,e;const i=this.getMutationsByType(\"characterData\");if(i.length){const n=i[0],r=i[i.length-1],o=function(t,e){let i,n;return t=$.box(t),(e=$.box(e)).length<t.length?[n,i]=zt(t,e):[i,n]=zt(e,t),{added:i,removed:n}}(Wt(n.oldValue),Wt(r.target.data));t=o.added,e=o.removed}return{additions:t?[t]:[],deletions:e?[e]:[]}}}const ir=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const e=[];for(const i of Array.from(t))switch(i.nodeType){case Node.TEXT_NODE:e.push(i.data);break;case Node.ELEMENT_NODE:\"br\"===k(i)?e.push(\"\\n\"):e.push(...Array.from(ir(i.childNodes)||[]))}return e};class nr extends ee{constructor(t){super(...arguments),this.file=t}perform(t){const e=new FileReader;return e.onerror=()=>t(!1),e.onload=()=>{e.onerror=null;try{e.abort()}catch(t){}return t(!0,this.file)},e.readAsArrayBuffer(this.file)}}class rr{constructor(t){this.element=t}shouldIgnore(t){return!!a.samsungAndroid&&(this.previousEvent=this.event,this.event=t,this.checkSamsungKeyboardBuggyModeStart(),this.checkSamsungKeyboardBuggyModeEnd(),this.buggyMode)}checkSamsungKeyboardBuggyModeStart(){this.insertingLongTextAfterUnidentifiedChar()&&or(this.element.innerText,this.event.data)&&(this.buggyMode=!0,this.event.preventDefault())}checkSamsungKeyboardBuggyModeEnd(){this.buggyMode&&\"insertText\"!==this.event.inputType&&(this.buggyMode=!1)}insertingLongTextAfterUnidentifiedChar(){var t;return this.isBeforeInputInsertText()&&this.previousEventWasUnidentifiedKeydown()&&(null===(t=this.event.data)||void 0===t?void 0:t.length)>50}isBeforeInputInsertText(){return\"beforeinput\"===this.event.type&&\"insertText\"===this.event.inputType}previousEventWasUnidentifiedKeydown(){var t,e;return\"keydown\"===(null===(t=this.previousEvent)||void 0===t?void 0:t.type)&&\"Unidentified\"===(null===(e=this.previousEvent)||void 0===e?void 0:e.key)}}const or=(t,e)=>ar(t)===ar(e),sr=new RegExp(\"(\".concat(\"￼\",\"|\").concat(d,\"|\").concat(g,\"|\\\\s)+\"),\"g\"),ar=t=>t.replace(sr,\" \").trim();class lr extends q{constructor(t){super(...arguments),this.element=t,this.mutationObserver=new er(this.element),this.mutationObserver.delegate=this,this.flakyKeyboardDetector=new rr(this.element);for(const t in this.constructor.events)b(t,{onElement:this.element,withCallback:this.handlerFor(t)})}elementDidMutate(t){}editorWillSyncDocumentView(){return this.mutationObserver.stop()}editorDidSyncDocumentView(){return this.mutationObserver.start()}requestRender(){var t,e;return null===(t=this.delegate)||void 0===t||null===(e=t.inputControllerDidRequestRender)||void 0===e?void 0:e.call(t)}requestReparse(){var t,e;return null===(t=this.delegate)||void 0===t||null===(e=t.inputControllerDidRequestReparse)||void 0===e||e.call(t),this.requestRender()}attachFiles(t){const e=Array.from(t).map((t=>new nr(t)));return Promise.all(e).then((t=>{this.handleInput((function(){var e,i;return null===(e=this.delegate)||void 0===e||e.inputControllerWillAttachFiles(),null===(i=this.responder)||void 0===i||i.insertFiles(t),this.requestRender()}))}))}handlerFor(t){return e=>{e.defaultPrevented||this.handleInput((()=>{if(!x(this.element)){if(this.flakyKeyboardDetector.shouldIgnore(e))return;this.eventName=t,this.constructor.events[t].call(this,e)}}))}}handleInput(t){try{var e;null===(e=this.delegate)||void 0===e||e.inputControllerWillHandleInput(),t.call(this)}finally{var i;null===(i=this.delegate)||void 0===i||i.inputControllerDidHandleInput()}}createLinkHTML(t,e){const i=document.createElement(\"a\");return i.href=t,i.textContent=e||t,i.outerHTML}}var cr;Di(lr,\"events\",{});const{browser:ur,keyNames:hr}=z;let dr=0;class gr extends lr{constructor(){super(...arguments),this.resetInputSummary()}setInputSummary(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.inputSummary.eventName=this.eventName;for(const e in t){const i=t[e];this.inputSummary[e]=i}return this.inputSummary}resetInputSummary(){this.inputSummary={}}reset(){return this.resetInputSummary(),Ft.reset()}elementDidMutate(t){var e,i;return this.isComposing()?null===(e=this.delegate)||void 0===e||null===(i=e.inputControllerDidAllowUnhandledInput)||void 0===i?void 0:i.call(e):this.handleInput((function(){return this.mutationIsSignificant(t)&&(this.mutationIsExpected(t)?this.requestRender():this.requestReparse()),this.reset()}))}mutationIsExpected(t){let{textAdded:e,textDeleted:i}=t;if(this.inputSummary.preferDocument)return!0;const n=null!=e?e===this.inputSummary.textAdded:!this.inputSummary.textAdded,r=null!=i?this.inputSummary.didDelete:!this.inputSummary.didDelete,o=[\"\\n\",\" \\n\"].includes(e)&&!n,s=\"\\n\"===i&&!r;if(o&&!s||s&&!o){const t=this.getSelectedRange();if(t){var a;const i=o?e.replace(/\\n$/,\"\").length||-1:(null==e?void 0:e.length)||1;if(null!==(a=this.responder)&&void 0!==a&&a.positionIsBlockBreak(t[1]+i))return!0}}return n&&r}mutationIsSignificant(t){var e;const i=Object.keys(t).length>0,n=\"\"===(null===(e=this.compositionInput)||void 0===e?void 0:e.getEndData());return i||!n}getCompositionInput(){if(this.isComposing())return this.compositionInput;this.compositionInput=new vr(this)}isComposing(){return this.compositionInput&&!this.compositionInput.isEnded()}deleteInDirection(t,e){var i;return!1!==(null===(i=this.responder)||void 0===i?void 0:i.deleteInDirection(t))?this.setInputSummary({didDelete:!0}):e?(e.preventDefault(),this.requestRender()):void 0}serializeSelectionToDataTransfer(t){var e;if(!function(t){if(null==t||!t.setData)return!1;for(const e in Ct){const i=Ct[e];try{if(t.setData(e,i),!t.getData(e)===i)return!1}catch(t){return!1}}return!0}(t))return;const i=null===(e=this.responder)||void 0===e?void 0:e.getSelectedDocument().toSerializableDocument();return t.setData(\"application/x-trix-document\",JSON.stringify(i)),t.setData(\"text/html\",Si.render(i).innerHTML),t.setData(\"text/plain\",i.toString().replace(/\\n$/,\"\")),!0}canAcceptDataTransfer(t){const e={};return Array.from((null==t?void 0:t.types)||[]).forEach((t=>{e[t]=!0})),e.Files||e[\"application/x-trix-document\"]||e[\"text/html\"]||e[\"text/plain\"]}getPastedHTMLUsingHiddenElement(t){const e=this.getSelectedRange(),i={position:\"absolute\",left:\"\".concat(window.pageXOffset,\"px\"),top:\"\".concat(window.pageYOffset,\"px\"),opacity:0},n=T({style:i,tagName:\"div\",editable:!0});return document.body.appendChild(n),n.focus(),requestAnimationFrame((()=>{const i=n.innerHTML;return S(n),this.setSelectedRange(e),t(i)}))}}Di(gr,\"events\",{keydown(t){this.isComposing()||this.resetInputSummary(),this.inputSummary.didInput=!0;const e=hr[t.keyCode];if(e){var i;let n=this.keys;[\"ctrl\",\"alt\",\"shift\",\"meta\"].forEach((e=>{var i;t[\"\".concat(e,\"Key\")]&&(\"ctrl\"===e&&(e=\"control\"),n=null===(i=n)||void 0===i?void 0:i[e])})),null!=(null===(i=n)||void 0===i?void 0:i[e])&&(this.setInputSummary({keyName:e}),Ft.reset(),n[e].call(this,t))}if(St(t)){const e=String.fromCharCode(t.keyCode).toLowerCase();if(e){var n;const i=[\"alt\",\"shift\"].map((e=>{if(t[\"\".concat(e,\"Key\")])return e})).filter((t=>t));i.push(e),null!==(n=this.delegate)&&void 0!==n&&n.inputControllerDidReceiveKeyboardCommand(i)&&t.preventDefault()}}},keypress(t){if(null!=this.inputSummary.eventName)return;if(t.metaKey)return;if(t.ctrlKey&&!t.altKey)return;const e=fr(t);var i,n;return e?(null===(i=this.delegate)||void 0===i||i.inputControllerWillPerformTyping(),null===(n=this.responder)||void 0===n||n.insertString(e),this.setInputSummary({textAdded:e,didDelete:this.selectionIsExpanded()})):void 0},textInput(t){const{data:e}=t,{textAdded:i}=this.inputSummary;if(i&&i!==e&&i.toUpperCase()===e){var n;const t=this.getSelectedRange();return this.setSelectedRange([t[0],t[1]+i.length]),null===(n=this.responder)||void 0===n||n.insertString(e),this.setInputSummary({textAdded:e}),this.setSelectedRange(t)}},dragenter(t){t.preventDefault()},dragstart(t){var e,i;return this.serializeSelectionToDataTransfer(t.dataTransfer),this.draggedRange=this.getSelectedRange(),null===(e=this.delegate)||void 0===e||null===(i=e.inputControllerDidStartDrag)||void 0===i?void 0:i.call(e)},dragover(t){if(this.draggedRange||this.canAcceptDataTransfer(t.dataTransfer)){t.preventDefault();const n={x:t.clientX,y:t.clientY};var e,i;if(!Tt(n,this.draggingPoint))return this.draggingPoint=n,null===(e=this.delegate)||void 0===e||null===(i=e.inputControllerDidReceiveDragOverPoint)||void 0===i?void 0:i.call(e,this.draggingPoint)}},dragend(t){var e,i;null===(e=this.delegate)||void 0===e||null===(i=e.inputControllerDidCancelDrag)||void 0===i||i.call(e),this.draggedRange=null,this.draggingPoint=null},drop(t){var e,i;t.preventDefault();const n=null===(e=t.dataTransfer)||void 0===e?void 0:e.files,r=t.dataTransfer.getData(\"application/x-trix-document\"),o={x:t.clientX,y:t.clientY};if(null===(i=this.responder)||void 0===i||i.setLocationRangeFromPointRange(o),null!=n&&n.length)this.attachFiles(n);else if(this.draggedRange){var s,a;null===(s=this.delegate)||void 0===s||s.inputControllerWillMoveText(),null===(a=this.responder)||void 0===a||a.moveTextFromRange(this.draggedRange),this.draggedRange=null,this.requestRender()}else if(r){var l;const t=an.fromJSONString(r);null===(l=this.responder)||void 0===l||l.insertDocument(t),this.requestRender()}this.draggedRange=null,this.draggingPoint=null},cut(t){var e,i;if(null!==(e=this.responder)&&void 0!==e&&e.selectionIsExpanded()&&(this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault(),null===(i=this.delegate)||void 0===i||i.inputControllerWillCutText(),this.deleteInDirection(\"backward\"),t.defaultPrevented))return this.requestRender()},copy(t){var e;null!==(e=this.responder)&&void 0!==e&&e.selectionIsExpanded()&&this.serializeSelectionToDataTransfer(t.clipboardData)&&t.preventDefault()},paste(t){const e=t.clipboardData||t.testClipboardData,i={clipboard:e};if(!e||br(t))return void this.getPastedHTMLUsingHiddenElement((t=>{var e,n,r;return i.type=\"text/html\",i.html=t,null===(e=this.delegate)||void 0===e||e.inputControllerWillPaste(i),null===(n=this.responder)||void 0===n||n.insertHTML(i.html),this.requestRender(),null===(r=this.delegate)||void 0===r?void 0:r.inputControllerDidPaste(i)}));const n=e.getData(\"URL\"),r=e.getData(\"text/html\"),o=e.getData(\"public.url-name\");if(n){var s,a,l;let t;i.type=\"text/html\",t=o?Vt(o).trim():n,i.html=this.createLinkHTML(n,t),null===(s=this.delegate)||void 0===s||s.inputControllerWillPaste(i),this.setInputSummary({textAdded:t,didDelete:this.selectionIsExpanded()}),null===(a=this.responder)||void 0===a||a.insertHTML(i.html),this.requestRender(),null===(l=this.delegate)||void 0===l||l.inputControllerDidPaste(i)}else if(Et(e)){var c,u,h;i.type=\"text/plain\",i.string=e.getData(\"text/plain\"),null===(c=this.delegate)||void 0===c||c.inputControllerWillPaste(i),this.setInputSummary({textAdded:i.string,didDelete:this.selectionIsExpanded()}),null===(u=this.responder)||void 0===u||u.insertString(i.string),this.requestRender(),null===(h=this.delegate)||void 0===h||h.inputControllerDidPaste(i)}else if(r){var d,g,m;i.type=\"text/html\",i.html=r,null===(d=this.delegate)||void 0===d||d.inputControllerWillPaste(i),null===(g=this.responder)||void 0===g||g.insertHTML(i.html),this.requestRender(),null===(m=this.delegate)||void 0===m||m.inputControllerDidPaste(i)}else if(Array.from(e.types).includes(\"Files\")){var p,f;const t=null===(p=e.items)||void 0===p||null===(p=p[0])||void 0===p||null===(f=p.getAsFile)||void 0===f?void 0:f.call(p);if(t){var b,v,A;const e=mr(t);!t.name&&e&&(t.name=\"pasted-file-\".concat(++dr,\".\").concat(e)),i.type=\"File\",i.file=t,null===(b=this.delegate)||void 0===b||b.inputControllerWillAttachFiles(),null===(v=this.responder)||void 0===v||v.insertFile(i.file),this.requestRender(),null===(A=this.delegate)||void 0===A||A.inputControllerDidPaste(i)}}t.preventDefault()},compositionstart(t){return this.getCompositionInput().start(t.data)},compositionupdate(t){return this.getCompositionInput().update(t.data)},compositionend(t){return this.getCompositionInput().end(t.data)},beforeinput(t){this.inputSummary.didInput=!0},input(t){return this.inputSummary.didInput=!0,t.stopPropagation()}}),Di(gr,\"keys\",{backspace(t){var e;return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),this.deleteInDirection(\"backward\",t)},delete(t){var e;return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),this.deleteInDirection(\"forward\",t)},return(t){var e,i;return this.setInputSummary({preferDocument:!0}),null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i?void 0:i.insertLineBreak()},tab(t){var e,i;null!==(e=this.responder)&&void 0!==e&&e.canIncreaseNestingLevel()&&(null===(i=this.responder)||void 0===i||i.increaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),null===(e=this.responder)||void 0===e?void 0:e.moveCursorInDirection(\"backward\")},right(t){var e;if(this.selectionIsInCursorTarget())return t.preventDefault(),null===(e=this.responder)||void 0===e?void 0:e.moveCursorInDirection(\"forward\")},control:{d(t){var e;return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),this.deleteInDirection(\"forward\",t)},h(t){var e;return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),this.deleteInDirection(\"backward\",t)},o(t){var e,i;return t.preventDefault(),null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i||i.insertString(\"\\n\",{updatePosition:!1}),this.requestRender()}},shift:{return(t){var e,i;null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i||i.insertString(\"\\n\"),this.requestRender(),t.preventDefault()},tab(t){var e,i;null!==(e=this.responder)&&void 0!==e&&e.canDecreaseNestingLevel()&&(null===(i=this.responder)||void 0===i||i.decreaseNestingLevel(),this.requestRender(),t.preventDefault())},left(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection(\"backward\")},right(t){if(this.selectionIsInCursorTarget())return t.preventDefault(),this.expandSelectionInDirection(\"forward\")}},alt:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),null===(e=this.delegate)||void 0===e?void 0:e.inputControllerWillPerformTyping()}},meta:{backspace(t){var e;return this.setInputSummary({preferDocument:!1}),null===(e=this.delegate)||void 0===e?void 0:e.inputControllerWillPerformTyping()}}}),gr.proxyMethod(\"responder?.getSelectedRange\"),gr.proxyMethod(\"responder?.setSelectedRange\"),gr.proxyMethod(\"responder?.expandSelectionInDirection\"),gr.proxyMethod(\"responder?.selectionIsInCursorTarget\"),gr.proxyMethod(\"responder?.selectionIsExpanded\");const mr=t=>{var e;return null===(e=t.type)||void 0===e||null===(e=e.match(/\\/(\\w+)$/))||void 0===e?void 0:e[1]},pr=!(null===(cr=\" \".codePointAt)||void 0===cr||!cr.call(\" \",0)),fr=function(t){if(t.key&&pr&&t.key.codePointAt(0)===t.keyCode)return t.key;{let e;if(null===t.which?e=t.keyCode:0!==t.which&&0!==t.charCode&&(e=t.charCode),null!=e&&\"escape\"!==hr[e])return $.fromCodepoints([e]).toString()}},br=function(t){const e=t.clipboardData;if(e){if(e.types.includes(\"text/html\")){for(const t of e.types){const i=/^CorePasteboardFlavorType/.test(t),n=/^dyn\\./.test(t)&&e.getData(t);if(i||n)return!0}return!1}{const t=e.types.includes(\"com.apple.webarchive\"),i=e.types.includes(\"com.apple.flat-rtfd\");return t||i}}};class vr extends q{constructor(t){super(...arguments),this.inputController=t,this.responder=this.inputController.responder,this.delegate=this.inputController.delegate,this.inputSummary=this.inputController.inputSummary,this.data={}}start(t){if(this.data.start=t,this.isSignificant()){var e,i;if(\"keypress\"===this.inputSummary.eventName&&this.inputSummary.textAdded)null===(i=this.responder)||void 0===i||i.deleteInDirection(\"left\");this.selectionIsExpanded()||(this.insertPlaceholder(),this.requestRender()),this.range=null===(e=this.responder)||void 0===e?void 0:e.getSelectedRange()}}update(t){if(this.data.update=t,this.isSignificant()){const t=this.selectPlaceholder();t&&(this.forgetPlaceholder(),this.range=t)}}end(t){return this.data.end=t,this.isSignificant()?(this.forgetPlaceholder(),this.canApplyToDocument()?(this.setInputSummary({preferDocument:!0,didInput:!1}),null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i||i.setSelectedRange(this.range),null===(n=this.responder)||void 0===n||n.insertString(this.data.end),null===(r=this.responder)||void 0===r?void 0:r.setSelectedRange(this.range[0]+this.data.end.length)):null!=this.data.start||null!=this.data.update?(this.requestReparse(),this.inputController.reset()):void 0):this.inputController.reset();var e,i,n,r}getEndData(){return this.data.end}isEnded(){return null!=this.getEndData()}isSignificant(){return!ur.composesExistingText||this.inputSummary.didInput}canApplyToDocument(){var t,e;return 0===(null===(t=this.data.start)||void 0===t?void 0:t.length)&&(null===(e=this.data.end)||void 0===e?void 0:e.length)>0&&this.range}}vr.proxyMethod(\"inputController.setInputSummary\"),vr.proxyMethod(\"inputController.requestRender\"),vr.proxyMethod(\"inputController.requestReparse\"),vr.proxyMethod(\"responder?.selectionIsExpanded\"),vr.proxyMethod(\"responder?.insertPlaceholder\"),vr.proxyMethod(\"responder?.selectPlaceholder\"),vr.proxyMethod(\"responder?.forgetPlaceholder\");class Ar extends lr{constructor(){super(...arguments),this.render=this.render.bind(this)}elementDidMutate(){return this.scheduledRender?this.composing?null===(t=this.delegate)||void 0===t||null===(e=t.inputControllerDidAllowUnhandledInput)||void 0===e?void 0:e.call(t):void 0:this.reparse();var t,e}scheduleRender(){return this.scheduledRender?this.scheduledRender:this.scheduledRender=requestAnimationFrame(this.render)}render(){var t,e;(cancelAnimationFrame(this.scheduledRender),this.scheduledRender=null,this.composing)||(null===(e=this.delegate)||void 0===e||e.render());null===(t=this.afterRender)||void 0===t||t.call(this),this.afterRender=null}reparse(){var t;return null===(t=this.delegate)||void 0===t?void 0:t.reparse()}insertString(){var t;let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\",i=arguments.length>1?arguments[1]:void 0;return null===(t=this.delegate)||void 0===t||t.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertString(e,i)}))}toggleAttributeIfSupported(t){var e;if(gt().includes(t))return null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformFormatting(t),this.withTargetDOMRange((function(){var e;return null===(e=this.responder)||void 0===e?void 0:e.toggleCurrentAttribute(t)}))}activateAttributeIfSupported(t,e){var i;if(gt().includes(t))return null===(i=this.delegate)||void 0===i||i.inputControllerWillPerformFormatting(t),this.withTargetDOMRange((function(){var i;return null===(i=this.responder)||void 0===i?void 0:i.setCurrentAttribute(t,e)}))}deleteInDirection(t){let{recordUndoEntry:e}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{recordUndoEntry:!0};var i;e&&(null===(i=this.delegate)||void 0===i||i.inputControllerWillPerformTyping());const n=()=>{var e;return null===(e=this.responder)||void 0===e?void 0:e.deleteInDirection(t)},r=this.getTargetDOMRange({minLength:this.composing?1:2});return r?this.withTargetDOMRange(r,n):n()}withTargetDOMRange(t,e){var i;return\"function\"==typeof t&&(e=t,t=this.getTargetDOMRange()),t?null===(i=this.responder)||void 0===i?void 0:i.withTargetDOMRange(t,e.bind(this)):(Ft.reset(),e.call(this))}getTargetDOMRange(){var t,e;let{minLength:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{minLength:0};const n=null===(t=(e=this.event).getTargetRanges)||void 0===t?void 0:t.call(e);if(n&&n.length){const t=yr(n[0]);if(0===i||t.toString().length>=i)return t}}withEvent(t,e){let i;this.event=t;try{i=e.call(this)}finally{this.event=null}return i}}Di(Ar,\"events\",{keydown(t){if(St(t)){var e;const i=Rr(t);null!==(e=this.delegate)&&void 0!==e&&e.inputControllerDidReceiveKeyboardCommand(i)&&t.preventDefault()}else{let e=t.key;t.altKey&&(e+=\"+Alt\"),t.shiftKey&&(e+=\"+Shift\");const i=this.constructor.keys[e];if(i)return this.withEvent(t,i)}},paste(t){var e;let i;const n=null===(e=t.clipboardData)||void 0===e?void 0:e.getData(\"URL\");return Er(t)?(t.preventDefault(),this.attachFiles(t.clipboardData.files)):Sr(t)?(t.preventDefault(),i={type:\"text/plain\",string:t.clipboardData.getData(\"text/plain\")},null===(r=this.delegate)||void 0===r||r.inputControllerWillPaste(i),null===(o=this.responder)||void 0===o||o.insertString(i.string),this.render(),null===(s=this.delegate)||void 0===s?void 0:s.inputControllerDidPaste(i)):n?(t.preventDefault(),i={type:\"text/html\",html:this.createLinkHTML(n)},null===(a=this.delegate)||void 0===a||a.inputControllerWillPaste(i),null===(l=this.responder)||void 0===l||l.insertHTML(i.html),this.render(),null===(c=this.delegate)||void 0===c?void 0:c.inputControllerDidPaste(i)):void 0;var r,o,s,a,l,c},beforeinput(t){const e=this.constructor.inputTypes[t.inputType],i=(n=t,!(!/iPhone|iPad/.test(navigator.userAgent)||n.inputType&&\"insertParagraph\"!==n.inputType));var n;e&&(this.withEvent(t,e),i||this.scheduleRender()),i&&this.render()},input(t){Ft.reset()},dragstart(t){var e,i;null!==(e=this.responder)&&void 0!==e&&e.selectionContainsAttachments()&&(t.dataTransfer.setData(\"application/x-trix-dragging\",!0),this.dragging={range:null===(i=this.responder)||void 0===i?void 0:i.getSelectedRange(),point:kr(t)})},dragenter(t){xr(t)&&t.preventDefault()},dragover(t){if(this.dragging){t.preventDefault();const i=kr(t);var e;if(!Tt(i,this.dragging.point))return this.dragging.point=i,null===(e=this.responder)||void 0===e?void 0:e.setLocationRangeFromPointRange(i)}else xr(t)&&t.preventDefault()},drop(t){var e,i;if(this.dragging)return t.preventDefault(),null===(e=this.delegate)||void 0===e||e.inputControllerWillMoveText(),null===(i=this.responder)||void 0===i||i.moveTextFromRange(this.dragging.range),this.dragging=null,this.scheduleRender();if(xr(t)){var n;t.preventDefault();const e=kr(t);return null===(n=this.responder)||void 0===n||n.setLocationRangeFromPointRange(e),this.attachFiles(t.dataTransfer.files)}},dragend(){var t;this.dragging&&(null===(t=this.responder)||void 0===t||t.setSelectedRange(this.dragging.range),this.dragging=null)},compositionend(t){this.composing&&(this.composing=!1,a.recentAndroid||this.scheduleRender())}}),Di(Ar,\"keys\",{ArrowLeft(){var t,e;if(null!==(t=this.responder)&&void 0!==t&&t.shouldManageMovingCursorInDirection(\"backward\"))return this.event.preventDefault(),null===(e=this.responder)||void 0===e?void 0:e.moveCursorInDirection(\"backward\")},ArrowRight(){var t,e;if(null!==(t=this.responder)&&void 0!==t&&t.shouldManageMovingCursorInDirection(\"forward\"))return this.event.preventDefault(),null===(e=this.responder)||void 0===e?void 0:e.moveCursorInDirection(\"forward\")},Backspace(){var t,e,i;if(null!==(t=this.responder)&&void 0!==t&&t.shouldManageDeletingInDirection(\"backward\"))return this.event.preventDefault(),null===(e=this.delegate)||void 0===e||e.inputControllerWillPerformTyping(),null===(i=this.responder)||void 0===i||i.deleteInDirection(\"backward\"),this.render()},Tab(){var t,e;if(null!==(t=this.responder)&&void 0!==t&&t.canIncreaseNestingLevel())return this.event.preventDefault(),null===(e=this.responder)||void 0===e||e.increaseNestingLevel(),this.render()},\"Tab+Shift\"(){var t,e;if(null!==(t=this.responder)&&void 0!==t&&t.canDecreaseNestingLevel())return this.event.preventDefault(),null===(e=this.responder)||void 0===e||e.decreaseNestingLevel(),this.render()}}),Di(Ar,\"inputTypes\",{deleteByComposition(){return this.deleteInDirection(\"backward\",{recordUndoEntry:!1})},deleteByCut(){return this.deleteInDirection(\"backward\")},deleteByDrag(){return this.event.preventDefault(),this.withTargetDOMRange((function(){var t;this.deleteByDragRange=null===(t=this.responder)||void 0===t?void 0:t.getSelectedRange()}))},deleteCompositionText(){return this.deleteInDirection(\"backward\",{recordUndoEntry:!1})},deleteContent(){return this.deleteInDirection(\"backward\")},deleteContentBackward(){return this.deleteInDirection(\"backward\")},deleteContentForward(){return this.deleteInDirection(\"forward\")},deleteEntireSoftLine(){return this.deleteInDirection(\"forward\")},deleteHardLineBackward(){return this.deleteInDirection(\"backward\")},deleteHardLineForward(){return this.deleteInDirection(\"forward\")},deleteSoftLineBackward(){return this.deleteInDirection(\"backward\")},deleteSoftLineForward(){return this.deleteInDirection(\"forward\")},deleteWordBackward(){return this.deleteInDirection(\"backward\")},deleteWordForward(){return this.deleteInDirection(\"forward\")},formatBackColor(){return this.activateAttributeIfSupported(\"backgroundColor\",this.event.data)},formatBold(){return this.toggleAttributeIfSupported(\"bold\")},formatFontColor(){return this.activateAttributeIfSupported(\"color\",this.event.data)},formatFontName(){return this.activateAttributeIfSupported(\"font\",this.event.data)},formatIndent(){var t;if(null!==(t=this.responder)&&void 0!==t&&t.canIncreaseNestingLevel())return this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.increaseNestingLevel()}))},formatItalic(){return this.toggleAttributeIfSupported(\"italic\")},formatJustifyCenter(){return this.toggleAttributeIfSupported(\"justifyCenter\")},formatJustifyFull(){return this.toggleAttributeIfSupported(\"justifyFull\")},formatJustifyLeft(){return this.toggleAttributeIfSupported(\"justifyLeft\")},formatJustifyRight(){return this.toggleAttributeIfSupported(\"justifyRight\")},formatOutdent(){var t;if(null!==(t=this.responder)&&void 0!==t&&t.canDecreaseNestingLevel())return this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.decreaseNestingLevel()}))},formatRemove(){this.withTargetDOMRange((function(){for(const i in null===(t=this.responder)||void 0===t?void 0:t.getCurrentAttributes()){var t,e;null===(e=this.responder)||void 0===e||e.removeCurrentAttribute(i)}}))},formatSetBlockTextDirection(){return this.activateAttributeIfSupported(\"blockDir\",this.event.data)},formatSetInlineTextDirection(){return this.activateAttributeIfSupported(\"textDir\",this.event.data)},formatStrikeThrough(){return this.toggleAttributeIfSupported(\"strike\")},formatSubscript(){return this.toggleAttributeIfSupported(\"sub\")},formatSuperscript(){return this.toggleAttributeIfSupported(\"sup\")},formatUnderline(){return this.toggleAttributeIfSupported(\"underline\")},historyRedo(){var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerWillPerformRedo()},historyUndo(){var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerWillPerformUndo()},insertCompositionText(){return this.composing=!0,this.insertString(this.event.data)},insertFromComposition(){return this.composing=!1,this.insertString(this.event.data)},insertFromDrop(){const t=this.deleteByDragRange;var e;if(t)return this.deleteByDragRange=null,null===(e=this.delegate)||void 0===e||e.inputControllerWillMoveText(),this.withTargetDOMRange((function(){var e;return null===(e=this.responder)||void 0===e?void 0:e.moveTextFromRange(t)}))},insertFromPaste(){const{dataTransfer:t}=this.event,e={dataTransfer:t},i=t.getData(\"URL\"),n=t.getData(\"text/html\");if(i){var r;let n;this.event.preventDefault(),e.type=\"text/html\";const o=t.getData(\"public.url-name\");n=o?Vt(o).trim():i,e.html=this.createLinkHTML(i,n),null===(r=this.delegate)||void 0===r||r.inputControllerWillPaste(e),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertHTML(e.html)})),this.afterRender=()=>{var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerDidPaste(e)}}else if(Et(t)){var o;e.type=\"text/plain\",e.string=t.getData(\"text/plain\"),null===(o=this.delegate)||void 0===o||o.inputControllerWillPaste(e),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertString(e.string)})),this.afterRender=()=>{var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerDidPaste(e)}}else if(Cr(this.event)){var s;e.type=\"File\",e.file=t.files[0],null===(s=this.delegate)||void 0===s||s.inputControllerWillPaste(e),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertFile(e.file)})),this.afterRender=()=>{var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerDidPaste(e)}}else if(n){var a;this.event.preventDefault(),e.type=\"text/html\",e.html=n,null===(a=this.delegate)||void 0===a||a.inputControllerWillPaste(e),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertHTML(e.html)})),this.afterRender=()=>{var t;return null===(t=this.delegate)||void 0===t?void 0:t.inputControllerDidPaste(e)}}},insertFromYank(){return this.insertString(this.event.data)},insertLineBreak(){return this.insertString(\"\\n\")},insertLink(){return this.activateAttributeIfSupported(\"href\",this.event.data)},insertOrderedList(){return this.toggleAttributeIfSupported(\"number\")},insertParagraph(){var t;return null===(t=this.delegate)||void 0===t||t.inputControllerWillPerformTyping(),this.withTargetDOMRange((function(){var t;return null===(t=this.responder)||void 0===t?void 0:t.insertLineBreak()}))},insertReplacementText(){const t=this.event.dataTransfer.getData(\"text/plain\"),e=this.event.getTargetRanges()[0];this.withTargetDOMRange(e,(()=>{this.insertString(t,{updatePosition:!1})}))},insertText(){var t;return this.insertString(this.event.data||(null===(t=this.event.dataTransfer)||void 0===t?void 0:t.getData(\"text/plain\")))},insertTranspose(){return this.insertString(this.event.data)},insertUnorderedList(){return this.toggleAttributeIfSupported(\"bullet\")}});const yr=function(t){const e=document.createRange();return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),e},xr=t=>{var e;return Array.from((null===(e=t.dataTransfer)||void 0===e?void 0:e.types)||[]).includes(\"Files\")},Cr=t=>{var e;return(null===(e=t.dataTransfer.files)||void 0===e?void 0:e[0])&&!Er(t)&&!(t=>{let{dataTransfer:e}=t;return e.types.includes(\"Files\")&&e.types.includes(\"text/html\")&&e.getData(\"text/html\").includes(\"urn:schemas-microsoft-com:office:office\")})(t)},Er=function(t){const e=t.clipboardData;if(e){return Array.from(e.types).filter((t=>t.match(/file/i))).length===e.types.length&&e.files.length>=1}},Sr=function(t){const e=t.clipboardData;if(e)return e.types.includes(\"text/plain\")&&1===e.types.length},Rr=function(t){const e=[];return t.altKey&&e.push(\"alt\"),t.shiftKey&&e.push(\"shift\"),e.push(t.key),e},kr=t=>({x:t.clientX,y:t.clientY}),Tr=\"[data-trix-attribute]\",wr=\"[data-trix-action]\",Lr=\"\".concat(Tr,\", \").concat(wr),Dr=\"[data-trix-dialog]\",Nr=\"\".concat(Dr,\"[data-trix-active]\"),Ir=\"\".concat(Dr,\" [data-trix-method]\"),Or=\"\".concat(Dr,\" [data-trix-input]\"),Fr=(t,e)=>(e||(e=Mr(t)),t.querySelector(\"[data-trix-input][name='\".concat(e,\"']\"))),Pr=t=>t.getAttribute(\"data-trix-action\"),Mr=t=>t.getAttribute(\"data-trix-attribute\")||t.getAttribute(\"data-trix-dialog-attribute\");class Br extends q{constructor(t){super(t),this.didClickActionButton=this.didClickActionButton.bind(this),this.didClickAttributeButton=this.didClickAttributeButton.bind(this),this.didClickDialogButton=this.didClickDialogButton.bind(this),this.didKeyDownDialogInput=this.didKeyDownDialogInput.bind(this),this.element=t,this.attributes={},this.actions={},this.resetDialogInputs(),b(\"mousedown\",{onElement:this.element,matchingSelector:wr,withCallback:this.didClickActionButton}),b(\"mousedown\",{onElement:this.element,matchingSelector:Tr,withCallback:this.didClickAttributeButton}),b(\"click\",{onElement:this.element,matchingSelector:Lr,preventDefault:!0}),b(\"click\",{onElement:this.element,matchingSelector:Ir,withCallback:this.didClickDialogButton}),b(\"keydown\",{onElement:this.element,matchingSelector:Or,withCallback:this.didKeyDownDialogInput})}didClickActionButton(t,e){var i;null===(i=this.delegate)||void 0===i||i.toolbarDidClickButton(),t.preventDefault();const n=Pr(e);return this.getDialog(n)?this.toggleDialog(n):null===(r=this.delegate)||void 0===r?void 0:r.toolbarDidInvokeAction(n,e);var r}didClickAttributeButton(t,e){var i;null===(i=this.delegate)||void 0===i||i.toolbarDidClickButton(),t.preventDefault();const n=Mr(e);var r;this.getDialog(n)?this.toggleDialog(n):null===(r=this.delegate)||void 0===r||r.toolbarDidToggleAttribute(n);return this.refreshAttributeButtons()}didClickDialogButton(t,e){const i=y(e,{matchingSelector:Dr});return this[e.getAttribute(\"data-trix-method\")].call(this,i)}didKeyDownDialogInput(t,e){if(13===t.keyCode){t.preventDefault();const i=e.getAttribute(\"name\"),n=this.getDialog(i);this.setAttribute(n)}if(27===t.keyCode)return t.preventDefault(),this.hideDialog()}updateActions(t){return this.actions=t,this.refreshActionButtons()}refreshActionButtons(){return this.eachActionButton(((t,e)=>{t.disabled=!1===this.actions[e]}))}eachActionButton(t){return Array.from(this.element.querySelectorAll(wr)).map((e=>t(e,Pr(e))))}updateAttributes(t){return this.attributes=t,this.refreshAttributeButtons()}refreshAttributeButtons(){return this.eachAttributeButton(((t,e)=>(t.disabled=!1===this.attributes[e],this.attributes[e]||this.dialogIsVisible(e)?(t.setAttribute(\"data-trix-active\",\"\"),t.classList.add(\"trix-active\")):(t.removeAttribute(\"data-trix-active\"),t.classList.remove(\"trix-active\")))))}eachAttributeButton(t){return Array.from(this.element.querySelectorAll(Tr)).map((e=>t(e,Mr(e))))}applyKeyboardCommand(t){const e=JSON.stringify(t.sort());for(const t of Array.from(this.element.querySelectorAll(\"[data-trix-key]\"))){const i=t.getAttribute(\"data-trix-key\").split(\"+\");if(JSON.stringify(i.sort())===e)return v(\"mousedown\",{onElement:t}),!0}return!1}dialogIsVisible(t){const e=this.getDialog(t);if(e)return e.hasAttribute(\"data-trix-active\")}toggleDialog(t){return this.dialogIsVisible(t)?this.hideDialog():this.showDialog(t)}showDialog(t){var e,i;this.hideDialog(),null===(e=this.delegate)||void 0===e||e.toolbarWillShowDialog();const n=this.getDialog(t);n.setAttribute(\"data-trix-active\",\"\"),n.classList.add(\"trix-active\"),Array.from(n.querySelectorAll(\"input[disabled]\")).forEach((t=>{t.removeAttribute(\"disabled\")}));const r=Mr(n);if(r){const e=Fr(n,t);e&&(e.value=this.attributes[r]||\"\",e.select())}return null===(i=this.delegate)||void 0===i?void 0:i.toolbarDidShowDialog(t)}setAttribute(t){var e;const i=Mr(t),n=Fr(t,i);return!n.willValidate||(n.setCustomValidity(\"\"),n.checkValidity()&&this.isSafeAttribute(n))?(null===(e=this.delegate)||void 0===e||e.toolbarDidUpdateAttribute(i,n.value),this.hideDialog()):(n.setCustomValidity(\"Invalid value\"),n.setAttribute(\"data-trix-validate\",\"\"),n.classList.add(\"trix-validate\"),n.focus())}isSafeAttribute(t){return!t.hasAttribute(\"data-trix-validate-href\")||li.isValidAttribute(\"a\",\"href\",t.value)}removeAttribute(t){var e;const i=Mr(t);return null===(e=this.delegate)||void 0===e||e.toolbarDidRemoveAttribute(i),this.hideDialog()}hideDialog(){const t=this.element.querySelector(Nr);var e;if(t)return t.removeAttribute(\"data-trix-active\"),t.classList.remove(\"trix-active\"),this.resetDialogInputs(),null===(e=this.delegate)||void 0===e?void 0:e.toolbarDidHideDialog((t=>t.getAttribute(\"data-trix-dialog\"))(t))}resetDialogInputs(){Array.from(this.element.querySelectorAll(Or)).forEach((t=>{t.setAttribute(\"disabled\",\"disabled\"),t.removeAttribute(\"data-trix-validate\"),t.classList.remove(\"trix-validate\")}))}getDialog(t){return this.element.querySelector(\"[data-trix-dialog=\".concat(t,\"]\"))}}class _r extends $n{constructor(t){let{editorElement:e,document:i,html:n}=t;super(...arguments),this.editorElement=e,this.selectionManager=new Vn(this.editorElement),this.selectionManager.delegate=this,this.composition=new wn,this.composition.delegate=this,this.attachmentManager=new kn(this.composition.getAttachments()),this.attachmentManager.delegate=this,this.inputController=2===_.getLevel()?new Ar(this.editorElement):new gr(this.editorElement),this.inputController.delegate=this,this.inputController.responder=this.composition,this.compositionController=new Xn(this.editorElement,this.composition),this.compositionController.delegate=this,this.toolbarController=new Br(this.editorElement.toolbarElement),this.toolbarController.delegate=this,this.editor=new Pn(this.composition,this.selectionManager,this.editorElement),i?this.editor.loadDocument(i):this.editor.loadHTML(n)}registerSelectionManager(){return Ft.registerSelectionManager(this.selectionManager)}unregisterSelectionManager(){return Ft.unregisterSelectionManager(this.selectionManager)}render(){return this.compositionController.render()}reparse(){return this.composition.replaceHTML(this.editorElement.innerHTML)}compositionDidChangeDocument(t){if(this.notifyEditorElement(\"document-change\"),!this.handlingInput)return this.render()}compositionDidChangeCurrentAttributes(t){return this.currentAttributes=t,this.toolbarController.updateAttributes(this.currentAttributes),this.updateCurrentActions(),this.notifyEditorElement(\"attributes-change\",{attributes:this.currentAttributes})}compositionDidPerformInsertionAtRange(t){this.pasting&&(this.pastedRange=t)}compositionShouldAcceptFile(t){return this.notifyEditorElement(\"file-accept\",{file:t})}compositionDidAddAttachment(t){const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement(\"attachment-add\",{attachment:e})}compositionDidEditAttachment(t){this.compositionController.rerenderViewForObject(t);const e=this.attachmentManager.manageAttachment(t);return this.notifyEditorElement(\"attachment-edit\",{attachment:e}),this.notifyEditorElement(\"change\")}compositionDidChangeAttachmentPreviewURL(t){return this.compositionController.invalidateViewForObject(t),this.notifyEditorElement(\"change\")}compositionDidRemoveAttachment(t){const e=this.attachmentManager.unmanageAttachment(t);return this.notifyEditorElement(\"attachment-remove\",{attachment:e})}compositionDidStartEditingAttachment(t,e){return this.attachmentLocationRange=this.composition.document.getLocationRangeOfAttachment(t),this.compositionController.installAttachmentEditorForAttachment(t,e),this.selectionManager.setLocationRange(this.attachmentLocationRange)}compositionDidStopEditingAttachment(t){this.compositionController.uninstallAttachmentEditor(),this.attachmentLocationRange=null}compositionDidRequestChangingSelectionToLocationRange(t){if(!this.loadingSnapshot||this.isFocused())return this.requestedLocationRange=t,this.compositionRevisionWhenLocationRangeRequested=this.composition.revision,this.handlingInput?void 0:this.render()}compositionWillLoadSnapshot(){this.loadingSnapshot=!0}compositionDidLoadSnapshot(){this.compositionController.refreshViewCache(),this.render(),this.loadingSnapshot=!1}getSelectionManager(){return this.selectionManager}attachmentManagerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}compositionControllerWillSyncDocumentView(){return this.inputController.editorWillSyncDocumentView(),this.selectionManager.lock(),this.selectionManager.clearSelection()}compositionControllerDidSyncDocumentView(){return this.inputController.editorDidSyncDocumentView(),this.selectionManager.unlock(),this.updateCurrentActions(),this.notifyEditorElement(\"sync\")}compositionControllerDidRender(){this.requestedLocationRange&&(this.compositionRevisionWhenLocationRangeRequested===this.composition.revision&&this.selectionManager.setLocationRange(this.requestedLocationRange),this.requestedLocationRange=null,this.compositionRevisionWhenLocationRangeRequested=null),this.renderedCompositionRevision!==this.composition.revision&&(this.runEditorFilters(),this.composition.updateCurrentAttributes(),this.notifyEditorElement(\"render\")),this.renderedCompositionRevision=this.composition.revision}compositionControllerDidFocus(){return this.isFocusedInvisibly()&&this.setLocationRange({index:0,offset:0}),this.toolbarController.hideDialog(),this.notifyEditorElement(\"focus\")}compositionControllerDidBlur(){return this.notifyEditorElement(\"blur\")}compositionControllerDidSelectAttachment(t,e){return this.toolbarController.hideDialog(),this.composition.editAttachment(t,e)}compositionControllerDidRequestDeselectingAttachment(t){const e=this.attachmentLocationRange||this.composition.document.getLocationRangeOfAttachment(t);return this.selectionManager.setLocationRange(e[1])}compositionControllerWillUpdateAttachment(t){return this.editor.recordUndoEntry(\"Edit Attachment\",{context:t.id,consolidatable:!0})}compositionControllerDidRequestRemovalOfAttachment(t){return this.removeAttachment(t)}inputControllerWillHandleInput(){this.handlingInput=!0,this.requestedRender=!1}inputControllerDidRequestRender(){this.requestedRender=!0}inputControllerDidHandleInput(){if(this.handlingInput=!1,this.requestedRender)return this.requestedRender=!1,this.render()}inputControllerDidAllowUnhandledInput(){return this.notifyEditorElement(\"change\")}inputControllerDidRequestReparse(){return this.reparse()}inputControllerWillPerformTyping(){return this.recordTypingUndoEntry()}inputControllerWillPerformFormatting(t){return this.recordFormattingUndoEntry(t)}inputControllerWillCutText(){return this.editor.recordUndoEntry(\"Cut\")}inputControllerWillPaste(t){return this.editor.recordUndoEntry(\"Paste\"),this.pasting=!0,this.notifyEditorElement(\"before-paste\",{paste:t})}inputControllerDidPaste(t){return t.range=this.pastedRange,this.pastedRange=null,this.pasting=null,this.notifyEditorElement(\"paste\",{paste:t})}inputControllerWillMoveText(){return this.editor.recordUndoEntry(\"Move\")}inputControllerWillAttachFiles(){return this.editor.recordUndoEntry(\"Drop Files\")}inputControllerWillPerformUndo(){return this.editor.undo()}inputControllerWillPerformRedo(){return this.editor.redo()}inputControllerDidReceiveKeyboardCommand(t){return this.toolbarController.applyKeyboardCommand(t)}inputControllerDidStartDrag(){this.locationRangeBeforeDrag=this.selectionManager.getLocationRange()}inputControllerDidReceiveDragOverPoint(t){return this.selectionManager.setLocationRangeFromPointRange(t)}inputControllerDidCancelDrag(){this.selectionManager.setLocationRange(this.locationRangeBeforeDrag),this.locationRangeBeforeDrag=null}locationRangeDidChange(t){return this.composition.updateCurrentAttributes(),this.updateCurrentActions(),this.attachmentLocationRange&&!Dt(this.attachmentLocationRange,t)&&this.composition.stopEditingAttachment(),this.notifyEditorElement(\"selection-change\")}toolbarDidClickButton(){if(!this.getLocationRange())return this.setLocationRange({index:0,offset:0})}toolbarDidInvokeAction(t,e){return this.invokeAction(t,e)}toolbarDidToggleAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.toggleCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidUpdateAttribute(t,e){if(this.recordFormattingUndoEntry(t),this.composition.setCurrentAttribute(t,e),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarDidRemoveAttribute(t){if(this.recordFormattingUndoEntry(t),this.composition.removeCurrentAttribute(t),this.render(),!this.selectionFrozen)return this.editorElement.focus()}toolbarWillShowDialog(t){return this.composition.expandSelectionForEditing(),this.freezeSelection()}toolbarDidShowDialog(t){return this.notifyEditorElement(\"toolbar-dialog-show\",{dialogName:t})}toolbarDidHideDialog(t){return this.thawSelection(),this.editorElement.focus(),this.notifyEditorElement(\"toolbar-dialog-hide\",{dialogName:t})}freezeSelection(){if(!this.selectionFrozen)return this.selectionManager.lock(),this.composition.freezeSelection(),this.selectionFrozen=!0,this.render()}thawSelection(){if(this.selectionFrozen)return this.composition.thawSelection(),this.selectionManager.unlock(),this.selectionFrozen=!1,this.render()}canInvokeAction(t){return!!this.actionIsExternal(t)||!(null===(e=this.actions[t])||void 0===e||null===(e=e.test)||void 0===e||!e.call(this));var e}invokeAction(t,e){return this.actionIsExternal(t)?this.notifyEditorElement(\"action-invoke\",{actionName:t,invokingElement:e}):null===(i=this.actions[t])||void 0===i||null===(i=i.perform)||void 0===i?void 0:i.call(this);var i}actionIsExternal(t){return/^x-./.test(t)}getCurrentActions(){const t={};for(const e in this.actions)t[e]=this.canInvokeAction(e);return t}updateCurrentActions(){const t=this.getCurrentActions();if(!Tt(t,this.currentActions))return this.currentActions=t,this.toolbarController.updateActions(this.currentActions),this.notifyEditorElement(\"actions-change\",{actions:this.currentActions})}runEditorFilters(){let t=this.composition.getSnapshot();if(Array.from(this.editor.filters).forEach((e=>{const{document:i,selectedRange:n}=t;t=e.call(this.editor,t)||{},t.document||(t.document=i),t.selectedRange||(t.selectedRange=n)})),e=t,i=this.composition.getSnapshot(),!Dt(e.selectedRange,i.selectedRange)||!e.document.isEqualTo(i.document))return this.composition.loadSnapshot(t);var e,i}updateInputElement(){const t=function(t,e){const i=En[e];if(i)return i(t);throw new Error(\"unknown content type: \".concat(e))}(this.compositionController.getSerializableElement(),\"text/html\");return this.editorElement.setFormValue(t)}notifyEditorElement(t,e){switch(t){case\"document-change\":this.documentChangedSinceLastRender=!0;break;case\"render\":this.documentChangedSinceLastRender&&(this.documentChangedSinceLastRender=!1,this.notifyEditorElement(\"change\"));break;case\"change\":case\"attachment-add\":case\"attachment-edit\":case\"attachment-remove\":this.updateInputElement()}return this.editorElement.notify(t,e)}removeAttachment(t){return this.editor.recordUndoEntry(\"Delete Attachment\"),this.composition.removeAttachment(t),this.render()}recordFormattingUndoEntry(t){const e=mt(t),i=this.selectionManager.getLocationRange();if(e||!Lt(i))return this.editor.recordUndoEntry(\"Formatting\",{context:this.getUndoContext(),consolidatable:!0})}recordTypingUndoEntry(){return this.editor.recordUndoEntry(\"Typing\",{context:this.getUndoContext(this.currentAttributes),consolidatable:!0})}getUndoContext(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return[this.getLocationContext(),this.getTimeContext(),...Array.from(e)]}getLocationContext(){const t=this.selectionManager.getLocationRange();return Lt(t)?t[0].index:t}getTimeContext(){return V.interval>0?Math.floor((new Date).getTime()/V.interval):0}isFocused(){var t;return this.editorElement===(null===(t=this.editorElement.ownerDocument)||void 0===t?void 0:t.activeElement)}isFocusedInvisibly(){return this.isFocused()&&!this.getLocationRange()}get actions(){return this.constructor.actions}}Di(_r,\"actions\",{undo:{test(){return this.editor.canUndo()},perform(){return this.editor.undo()}},redo:{test(){return this.editor.canRedo()},perform(){return this.editor.redo()}},link:{test(){return this.editor.canActivateAttribute(\"href\")}},increaseNestingLevel:{test(){return this.editor.canIncreaseNestingLevel()},perform(){return this.editor.increaseNestingLevel()&&this.render()}},decreaseNestingLevel:{test(){return this.editor.canDecreaseNestingLevel()},perform(){return this.editor.decreaseNestingLevel()&&this.render()}},attachFiles:{test:()=>!0,perform(){return _.pickFiles(this.editor.insertFiles)}}}),_r.proxyMethod(\"getSelectionManager().setLocationRange\"),_r.proxyMethod(\"getSelectionManager().getLocationRange\");var jr=Object.freeze({__proto__:null,AttachmentEditorController:Yn,CompositionController:Xn,Controller:$n,EditorController:_r,InputController:lr,Level0InputController:gr,Level2InputController:Ar,ToolbarController:Br}),Wr=Object.freeze({__proto__:null,MutationObserver:er,SelectionChangeObserver:Ot}),Ur=Object.freeze({__proto__:null,FileVerificationOperation:nr,ImagePreloadOperation:Ui});vt(\"trix-toolbar\",\"%t {\\n  display: block;\\n}\\n\\n%t {\\n  white-space: nowrap;\\n}\\n\\n%t [data-trix-dialog] {\\n  display: none;\\n}\\n\\n%t [data-trix-dialog][data-trix-active] {\\n  display: block;\\n}\\n\\n%t [data-trix-dialog] [data-trix-validate]:invalid {\\n  background-color: #ffdddd;\\n}\");class Vr extends HTMLElement{connectedCallback(){\"\"===this.innerHTML&&(this.innerHTML=U.getDefaultHTML())}}let zr=0;const qr=function(t){if(!t.hasAttribute(\"contenteditable\"))return t.setAttribute(\"contenteditable\",\"\"),function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.times=1,b(t,e)}(\"focus\",{onElement:t,withCallback:()=>Hr(t)})},Hr=function(t){return Jr(t),Kr(t)},Jr=function(t){var e,i;if(null!==(e=(i=document).queryCommandSupported)&&void 0!==e&&e.call(i,\"enableObjectResizing\"))return document.execCommand(\"enableObjectResizing\",!1,!1),b(\"mscontrolselect\",{onElement:t,preventDefault:!0})},Kr=function(t){var e,i;if(null!==(e=(i=document).queryCommandSupported)&&void 0!==e&&e.call(i,\"DefaultParagraphSeparator\")){const{tagName:t}=n.default;if([\"div\",\"p\"].includes(t))return document.execCommand(\"DefaultParagraphSeparator\",!1,t)}},Gr=a.forcesObjectResizing?{display:\"inline\",width:\"auto\"}:{display:\"inline-block\",width:\"1px\"};vt(\"trix-editor\",\"%t {\\n    display: block;\\n}\\n\\n%t:empty::before {\\n    content: attr(placeholder);\\n    color: graytext;\\n    cursor: text;\\n    pointer-events: none;\\n    white-space: pre-line;\\n}\\n\\n%t a[contenteditable=false] {\\n    cursor: text;\\n}\\n\\n%t img {\\n    max-width: 100%;\\n    height: auto;\\n}\\n\\n%t \".concat(e,\" figcaption textarea {\\n    resize: none;\\n}\\n\\n%t \").concat(e,\" figcaption textarea.trix-autoresize-clone {\\n    position: absolute;\\n    left: -9999px;\\n    max-height: 0px;\\n}\\n\\n%t \").concat(e,\" figcaption[data-trix-placeholder]:empty::before {\\n    content: attr(data-trix-placeholder);\\n    color: graytext;\\n}\\n\\n%t [data-trix-cursor-target] {\\n    display: \").concat(Gr.display,\" !important;\\n    width: \").concat(Gr.width,\" !important;\\n    padding: 0 !important;\\n    margin: 0 !important;\\n    border: none !important;\\n}\\n\\n%t [data-trix-cursor-target=left] {\\n    vertical-align: top !important;\\n    margin-left: -1px !important;\\n}\\n\\n%t [data-trix-cursor-target=right] {\\n    vertical-align: bottom !important;\\n    margin-right: -1px !important;\\n}\"));var Yr=new WeakMap,Xr=new WeakSet;class $r{constructor(t){var e,i;_i(e=this,i=Xr),i.add(e),ji(this,Yr,{writable:!0,value:void 0}),this.element=t,Oi(this,Yr,t.attachInternals())}connectedCallback(){Bi(this,Xr,Zr).call(this)}disconnectedCallback(){}get labels(){return Ii(this,Yr).labels}get disabled(){var t;return null===(t=this.element.inputElement)||void 0===t?void 0:t.disabled}set disabled(t){this.element.toggleAttribute(\"disabled\",t)}get required(){return this.element.hasAttribute(\"required\")}set required(t){this.element.toggleAttribute(\"required\",t),Bi(this,Xr,Zr).call(this)}get validity(){return Ii(this,Yr).validity}get validationMessage(){return Ii(this,Yr).validationMessage}get willValidate(){return Ii(this,Yr).willValidate}setFormValue(t){Bi(this,Xr,Zr).call(this)}checkValidity(){return Ii(this,Yr).checkValidity()}reportValidity(){return Ii(this,Yr).reportValidity()}setCustomValidity(t){Bi(this,Xr,Zr).call(this,t)}}function Zr(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"\";const{required:e,value:i}=this.element,n=e&&!i,r=!!t,o=T(\"input\",{required:e}),s=t||o.validationMessage;Ii(this,Yr).setValidity({valueMissing:n,customError:r},s)}var Qr=new WeakMap,to=new WeakMap,eo=new WeakMap;class io{constructor(t){ji(this,Qr,{writable:!0,value:void 0}),ji(this,to,{writable:!0,value:t=>{t.defaultPrevented||t.target===this.element.form&&this.element.reset()}}),ji(this,eo,{writable:!0,value:t=>{if(t.defaultPrevented)return;if(this.element.contains(t.target))return;const e=y(t.target,{matchingSelector:\"label\"});e&&Array.from(this.labels).includes(e)&&this.element.focus()}}),this.element=t}connectedCallback(){Oi(this,Qr,function(t){if(t.hasAttribute(\"aria-label\")||t.hasAttribute(\"aria-labelledby\"))return;const e=function(){const e=Array.from(t.labels).map((e=>{if(!e.contains(t))return e.textContent})).filter((t=>t)),i=e.join(\" \");return i?t.setAttribute(\"aria-label\",i):t.removeAttribute(\"aria-label\")};return e(),b(\"focus\",{onElement:t,withCallback:e})}(this.element)),window.addEventListener(\"reset\",Ii(this,to),!1),window.addEventListener(\"click\",Ii(this,eo),!1)}disconnectedCallback(){var t;null===(t=Ii(this,Qr))||void 0===t||t.destroy(),window.removeEventListener(\"reset\",Ii(this,to),!1),window.removeEventListener(\"click\",Ii(this,eo),!1)}get labels(){const t=[];this.element.id&&this.element.ownerDocument&&t.push(...Array.from(this.element.ownerDocument.querySelectorAll(\"label[for='\".concat(this.element.id,\"']\"))||[]));const e=y(this.element,{matchingSelector:\"label\"});return e&&[this.element,null].includes(e.control)&&t.push(e),t}get disabled(){return console.warn(\"This browser does not support the [disabled] attribute for trix-editor elements.\"),!1}set disabled(t){console.warn(\"This browser does not support the [disabled] attribute for trix-editor elements.\")}get required(){return console.warn(\"This browser does not support the [required] attribute for trix-editor elements.\"),!1}set required(t){console.warn(\"This browser does not support the [required] attribute for trix-editor elements.\")}get validity(){return console.warn(\"This browser does not support the validity property for trix-editor elements.\"),null}get validationMessage(){return console.warn(\"This browser does not support the validationMessage property for trix-editor elements.\"),\"\"}get willValidate(){return console.warn(\"This browser does not support the willValidate property for trix-editor elements.\"),!1}setFormValue(t){}checkValidity(){return console.warn(\"This browser does not support checkValidity() for trix-editor elements.\"),!0}reportValidity(){return console.warn(\"This browser does not support reportValidity() for trix-editor elements.\"),!0}setCustomValidity(t){console.warn(\"This browser does not support setCustomValidity(validationMessage) for trix-editor elements.\")}}var no=new WeakMap;class ro extends HTMLElement{constructor(){super(),ji(this,no,{writable:!0,value:void 0}),Oi(this,no,this.constructor.formAssociated?new $r(this):new io(this))}get trixId(){return this.hasAttribute(\"trix-id\")?this.getAttribute(\"trix-id\"):(this.setAttribute(\"trix-id\",++zr),this.trixId)}get labels(){return Ii(this,no).labels}get disabled(){return Ii(this,no).disabled}set disabled(t){Ii(this,no).disabled=t}get required(){return Ii(this,no).required}set required(t){Ii(this,no).required=t}get validity(){return Ii(this,no).validity}get validationMessage(){return Ii(this,no).validationMessage}get willValidate(){return Ii(this,no).willValidate}get type(){return this.localName}get toolbarElement(){var t;if(this.hasAttribute(\"toolbar\"))return null===(t=this.ownerDocument)||void 0===t?void 0:t.getElementById(this.getAttribute(\"toolbar\"));if(this.parentNode){const t=\"trix-toolbar-\".concat(this.trixId);return this.setAttribute(\"toolbar\",t),this.internalToolbar=T(\"trix-toolbar\",{id:t}),this.parentNode.insertBefore(this.internalToolbar,this),this.internalToolbar}}get form(){var t;return null===(t=this.inputElement)||void 0===t?void 0:t.form}get inputElement(){var t;if(this.hasAttribute(\"input\"))return null===(t=this.ownerDocument)||void 0===t?void 0:t.getElementById(this.getAttribute(\"input\"));if(this.parentNode){const t=\"trix-input-\".concat(this.trixId);this.setAttribute(\"input\",t);const e=T(\"input\",{type:\"hidden\",id:t});return this.parentNode.insertBefore(e,this.nextElementSibling),e}}get editor(){var t;return null===(t=this.editorController)||void 0===t?void 0:t.editor}get name(){var t;return null===(t=this.inputElement)||void 0===t?void 0:t.name}get value(){var t;return null===(t=this.inputElement)||void 0===t?void 0:t.value}set value(t){var e;this.defaultValue=t,null===(e=this.editor)||void 0===e||e.loadHTML(this.defaultValue)}attributeChangedCallback(t,e,i){\"connected\"===t&&this.isConnected&&null!=e&&e!==i&&requestAnimationFrame((()=>this.reconnect()))}notify(t,e){if(this.editorController)return v(\"trix-\".concat(t),{onElement:this,attributes:e})}setFormValue(t){this.inputElement&&(this.inputElement.value=t,Ii(this,no).setFormValue(t))}connectedCallback(){this.hasAttribute(\"data-trix-internal\")||(qr(this),function(t){if(!t.hasAttribute(\"role\"))t.setAttribute(\"role\",\"textbox\")}(this),this.editorController||(v(\"trix-before-initialize\",{onElement:this}),this.editorController=new _r({editorElement:this,html:this.defaultValue=this.value}),requestAnimationFrame((()=>v(\"trix-initialize\",{onElement:this})))),this.editorController.registerSelectionManager(),Ii(this,no).connectedCallback(),this.toggleAttribute(\"connected\",!0),function(t){if(!document.querySelector(\":focus\")&&t.hasAttribute(\"autofocus\")&&document.querySelector(\"[autofocus]\")===t)t.focus()}(this))}disconnectedCallback(){var t;null===(t=this.editorController)||void 0===t||t.unregisterSelectionManager(),Ii(this,no).disconnectedCallback(),this.toggleAttribute(\"connected\",!1)}reconnect(){this.removeInternalToolbar(),this.disconnectedCallback(),this.connectedCallback()}removeInternalToolbar(){var t;null===(t=this.internalToolbar)||void 0===t||t.remove(),this.internalToolbar=null}checkValidity(){return Ii(this,no).checkValidity()}reportValidity(){return Ii(this,no).reportValidity()}setCustomValidity(t){Ii(this,no).setCustomValidity(t)}formDisabledCallback(t){this.inputElement&&(this.inputElement.disabled=t),this.toggleAttribute(\"contenteditable\",!t)}formResetCallback(){this.reset()}reset(){this.value=this.defaultValue}}Di(ro,\"formAssociated\",\"ElementInternals\"in window),Di(ro,\"observedAttributes\",[\"connected\"]);const oo={VERSION:t,config:z,core:Sn,models:zn,views:qn,controllers:jr,observers:Wr,operations:Ur,elements:Object.freeze({__proto__:null,TrixEditorElement:ro,TrixToolbarElement:Vr}),filters:Object.freeze({__proto__:null,Filter:In,attachmentGalleryFilter:On})};Object.assign(oo,zn),window.Trix=oo,setTimeout((function(){customElements.get(\"trix-toolbar\")||customElements.define(\"trix-toolbar\",Vr),customElements.get(\"trix-editor\")||customElements.define(\"trix-editor\",ro)}),0);export{oo as default};\n//# sourceMappingURL=trix.esm.min.js.map\n","import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  static get targets() {\n    return [ \"labels\", \"datasets\" ]\n  }\n\n  async connect() {\n    let Chart = (await import(\"chart.js/auto\")).default\n    this.chart = new Chart(this.element.getContext(\"2d\"), {\n      data: {\n        labels: JSON.parse(this.labelsTarget.textContent),\n        datasets: JSON.parse(this.datasetsTarget.textContent)\n      }\n    })\n  }\n\n  disconnect() {\n    this.chart.destroy()\n  }\n}\n","import { Controller } from \"@hotwired/stimulus\"\n\n/**\n * Refresh actors with unloadable icon images.\n */\nexport default class extends Controller {\n  connect() {\n    // the `error` event does not bubble, so handle it during the\n    // capture phase (`addEventListener(..., true)`).\n    this.element.addEventListener(\"error\", (event) => {\n      let element = event.target\n      if (element.matches(\"img[data-actor-id]\")) {\n        let replacement = document.createElement(\"i\")\n        replacement.dataset.actorId = element.dataset.actorId\n        replacement.className = \"user icon\"\n        element.replaceWith(replacement)\n        let xhr = new XMLHttpRequest()\n        xhr.open(\"POST\", `/remote/actors/${element.dataset.actorId}/refresh`)\n        xhr.setRequestHeader(\"X-CSRF-Token\", Ktistec.csrf)\n        xhr.send()\n      }\n    }, true)\n  }\n}\n","import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  static get targets() {\n    return [ \"input\", \"button\" ]\n  }\n\n  connect() {\n    this._check(null)\n  }\n\n  check(event) {\n    this._check(event)\n  }\n\n  _check(event) {\n    let hasContent = !!this.inputTarget.value\n    this.buttonTargets.forEach(function(target) {\n      let enabled = !target.classList.contains(\"disabled\")\n      if (hasContent != enabled) {\n        hasContent ?\n          target.classList.remove(\"disabled\") :\n          target.classList.add(\"disabled\")\n      }\n    })\n  }\n}\n","/*\nStimulus 3.2.1\nCopyright © 2023 Basecamp, LLC\n */\nclass EventListener {\n    constructor(eventTarget, eventName, eventOptions) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.eventOptions = eventOptions;\n        this.unorderedBindings = new Set();\n    }\n    connect() {\n        this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);\n    }\n    disconnect() {\n        this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);\n    }\n    bindingConnected(binding) {\n        this.unorderedBindings.add(binding);\n    }\n    bindingDisconnected(binding) {\n        this.unorderedBindings.delete(binding);\n    }\n    handleEvent(event) {\n        const extendedEvent = extendEvent(event);\n        for (const binding of this.bindings) {\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    }\n    hasBindings() {\n        return this.unorderedBindings.size > 0;\n    }\n    get bindings() {\n        return Array.from(this.unorderedBindings).sort((left, right) => {\n            const leftIndex = left.index, rightIndex = right.index;\n            return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n        });\n    }\n}\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        const { stopImmediatePropagation } = event;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation() {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation.call(this);\n            },\n        });\n    }\n}\n\nclass Dispatcher {\n    constructor(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map();\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach((eventListener) => eventListener.connect());\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach((eventListener) => eventListener.disconnect());\n        }\n    }\n    get eventListeners() {\n        return Array.from(this.eventListenerMaps.values()).reduce((listeners, map) => listeners.concat(Array.from(map.values())), []);\n    }\n    bindingConnected(binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    }\n    bindingDisconnected(binding, clearEventListeners = false) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n        if (clearEventListeners)\n            this.clearEventListenersForBinding(binding);\n    }\n    handleError(error, message, detail = {}) {\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    clearEventListenersForBinding(binding) {\n        const eventListener = this.fetchEventListenerForBinding(binding);\n        if (!eventListener.hasBindings()) {\n            eventListener.disconnect();\n            this.removeMappedEventListenerFor(binding);\n        }\n    }\n    removeMappedEventListenerFor(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        eventListenerMap.delete(cacheKey);\n        if (eventListenerMap.size == 0)\n            this.eventListenerMaps.delete(eventTarget);\n    }\n    fetchEventListenerForBinding(binding) {\n        const { eventTarget, eventName, eventOptions } = binding;\n        return this.fetchEventListener(eventTarget, eventName, eventOptions);\n    }\n    fetchEventListener(eventTarget, eventName, eventOptions) {\n        const eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        const cacheKey = this.cacheKey(eventName, eventOptions);\n        let eventListener = eventListenerMap.get(cacheKey);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName, eventOptions);\n            eventListenerMap.set(cacheKey, eventListener);\n        }\n        return eventListener;\n    }\n    createEventListener(eventTarget, eventName, eventOptions) {\n        const eventListener = new EventListener(eventTarget, eventName, eventOptions);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    }\n    fetchEventListenerMapForEventTarget(eventTarget) {\n        let eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map();\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    }\n    cacheKey(eventName, eventOptions) {\n        const parts = [eventName];\n        Object.keys(eventOptions)\n            .sort()\n            .forEach((key) => {\n            parts.push(`${eventOptions[key] ? \"\" : \"!\"}${key}`);\n        });\n        return parts.join(\":\");\n    }\n}\n\nconst defaultActionDescriptorFilters = {\n    stop({ event, value }) {\n        if (value)\n            event.stopPropagation();\n        return true;\n    },\n    prevent({ event, value }) {\n        if (value)\n            event.preventDefault();\n        return true;\n    },\n    self({ event, value, element }) {\n        if (value) {\n            return element === event.target;\n        }\n        else {\n            return true;\n        }\n    },\n};\nconst descriptorPattern = /^(?:(?:([^.]+?)\\+)?(.+?)(?:\\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;\nfunction parseActionDescriptorString(descriptorString) {\n    const source = descriptorString.trim();\n    const matches = source.match(descriptorPattern) || [];\n    let eventName = matches[2];\n    let keyFilter = matches[3];\n    if (keyFilter && ![\"keydown\", \"keyup\", \"keypress\"].includes(eventName)) {\n        eventName += `.${keyFilter}`;\n        keyFilter = \"\";\n    }\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName,\n        eventOptions: matches[7] ? parseEventOptions(matches[7]) : {},\n        identifier: matches[5],\n        methodName: matches[6],\n        keyFilter: matches[1] || keyFilter,\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction parseEventOptions(eventOptions) {\n    return eventOptions\n        .split(\":\")\n        .reduce((options, token) => Object.assign(options, { [token.replace(/^!/, \"\")]: !/^!/.test(token) }), {});\n}\nfunction stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n\nfunction camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, (_, char) => char.toUpperCase());\n}\nfunction namespaceCamelize(value) {\n    return camelize(value.replace(/--/g, \"-\").replace(/__/g, \"_\"));\n}\nfunction capitalize(value) {\n    return value.charAt(0).toUpperCase() + value.slice(1);\n}\nfunction dasherize(value) {\n    return value.replace(/([A-Z])/g, (_, char) => `-${char.toLowerCase()}`);\n}\nfunction tokenize(value) {\n    return value.match(/[^\\s]+/g) || [];\n}\n\nfunction isSomething(object) {\n    return object !== null && object !== undefined;\n}\nfunction hasProperty(object, property) {\n    return Object.prototype.hasOwnProperty.call(object, property);\n}\n\nconst allModifiers = [\"meta\", \"ctrl\", \"alt\", \"shift\"];\nclass Action {\n    constructor(element, index, descriptor, schema) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.eventOptions = descriptor.eventOptions || {};\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n        this.keyFilter = descriptor.keyFilter || \"\";\n        this.schema = schema;\n    }\n    static forToken(token, schema) {\n        return new this(token.element, token.index, parseActionDescriptorString(token.content), schema);\n    }\n    toString() {\n        const eventFilter = this.keyFilter ? `.${this.keyFilter}` : \"\";\n        const eventTarget = this.eventTargetName ? `@${this.eventTargetName}` : \"\";\n        return `${this.eventName}${eventFilter}${eventTarget}->${this.identifier}#${this.methodName}`;\n    }\n    shouldIgnoreKeyboardEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = this.keyFilter.split(\"+\");\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        const standardFilter = filters.filter((key) => !allModifiers.includes(key))[0];\n        if (!standardFilter) {\n            return false;\n        }\n        if (!hasProperty(this.keyMappings, standardFilter)) {\n            error(`contains unknown key filter: ${this.keyFilter}`);\n        }\n        return this.keyMappings[standardFilter].toLowerCase() !== event.key.toLowerCase();\n    }\n    shouldIgnoreMouseEvent(event) {\n        if (!this.keyFilter) {\n            return false;\n        }\n        const filters = [this.keyFilter];\n        if (this.keyFilterDissatisfied(event, filters)) {\n            return true;\n        }\n        return false;\n    }\n    get params() {\n        const params = {};\n        const pattern = new RegExp(`^data-${this.identifier}-(.+)-param$`, \"i\");\n        for (const { name, value } of Array.from(this.element.attributes)) {\n            const match = name.match(pattern);\n            const key = match && match[1];\n            if (key) {\n                params[camelize(key)] = typecast(value);\n            }\n        }\n        return params;\n    }\n    get eventTargetName() {\n        return stringifyEventTarget(this.eventTarget);\n    }\n    get keyMappings() {\n        return this.schema.keyMappings;\n    }\n    keyFilterDissatisfied(event, filters) {\n        const [meta, ctrl, alt, shift] = allModifiers.map((modifier) => filters.includes(modifier));\n        return event.metaKey !== meta || event.ctrlKey !== ctrl || event.altKey !== alt || event.shiftKey !== shift;\n    }\n}\nconst defaultEventNames = {\n    a: () => \"click\",\n    button: () => \"click\",\n    form: () => \"submit\",\n    details: () => \"toggle\",\n    input: (e) => (e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"input\"),\n    select: () => \"change\",\n    textarea: () => \"input\",\n};\nfunction getDefaultEventNameForElement(element) {\n    const tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\nfunction typecast(value) {\n    try {\n        return JSON.parse(value);\n    }\n    catch (o_O) {\n        return value;\n    }\n}\n\nclass Binding {\n    constructor(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    get index() {\n        return this.action.index;\n    }\n    get eventTarget() {\n        return this.action.eventTarget;\n    }\n    get eventOptions() {\n        return this.action.eventOptions;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    handleEvent(event) {\n        const actionEvent = this.prepareActionEvent(event);\n        if (this.willBeInvokedByEvent(event) && this.applyEventModifiers(actionEvent)) {\n            this.invokeWithEvent(actionEvent);\n        }\n    }\n    get eventName() {\n        return this.action.eventName;\n    }\n    get method() {\n        const method = this.controller[this.methodName];\n        if (typeof method == \"function\") {\n            return method;\n        }\n        throw new Error(`Action \"${this.action}\" references undefined method \"${this.methodName}\"`);\n    }\n    applyEventModifiers(event) {\n        const { element } = this.action;\n        const { actionDescriptorFilters } = this.context.application;\n        const { controller } = this.context;\n        let passes = true;\n        for (const [name, value] of Object.entries(this.eventOptions)) {\n            if (name in actionDescriptorFilters) {\n                const filter = actionDescriptorFilters[name];\n                passes = passes && filter({ name, value, event, element, controller });\n            }\n            else {\n                continue;\n            }\n        }\n        return passes;\n    }\n    prepareActionEvent(event) {\n        return Object.assign(event, { params: this.action.params });\n    }\n    invokeWithEvent(event) {\n        const { target, currentTarget } = event;\n        try {\n            this.method.call(this.controller, event);\n            this.context.logDebugActivity(this.methodName, { event, target, currentTarget, action: this.methodName });\n        }\n        catch (error) {\n            const { identifier, controller, element, index } = this;\n            const detail = { identifier, controller, element, index, event };\n            this.context.handleError(error, `invoking action \"${this.action}\"`, detail);\n        }\n    }\n    willBeInvokedByEvent(event) {\n        const eventTarget = event.target;\n        if (event instanceof KeyboardEvent && this.action.shouldIgnoreKeyboardEvent(event)) {\n            return false;\n        }\n        if (event instanceof MouseEvent && this.action.shouldIgnoreMouseEvent(event)) {\n            return false;\n        }\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return this.scope.containsElement(this.action.element);\n        }\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    get methodName() {\n        return this.action.methodName;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nclass ElementObserver {\n    constructor(element, delegate) {\n        this.mutationObserverInit = { attributes: true, childList: true, subtree: true };\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.refresh();\n        }\n    }\n    pause(callback) {\n        if (this.started) {\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n        callback();\n        if (!this.started) {\n            this.mutationObserver.observe(this.element, this.mutationObserverInit);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            const matches = new Set(this.matchElementsInTree());\n            for (const element of Array.from(this.elements)) {\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (const element of Array.from(matches)) {\n                this.addElement(element);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    }\n    processAttributeChange(element, attributeName) {\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    }\n    processRemovedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    }\n    processAddedNodes(nodes) {\n        for (const node of Array.from(nodes)) {\n            const element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    }\n    matchElement(element) {\n        return this.delegate.matchElement(element);\n    }\n    matchElementsInTree(tree = this.element) {\n        return this.delegate.matchElementsInTree(tree);\n    }\n    processTree(tree, processor) {\n        for (const element of this.matchElementsInTree(tree)) {\n            processor.call(this, element);\n        }\n    }\n    elementFromNode(node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    }\n    elementIsActive(element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    }\n    addElement(element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    }\n    removeElement(element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    }\n}\n\nclass AttributeObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    get selector() {\n        return `[${this.attributeName}]`;\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    matchElement(element) {\n        return element.hasAttribute(this.attributeName);\n    }\n    matchElementsInTree(tree) {\n        const match = this.matchElement(tree) ? [tree] : [];\n        const matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    }\n    elementMatched(element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementUnmatched(element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    }\n    elementAttributeChanged(element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    }\n}\n\nfunction add(map, key, value) {\n    fetch(map, key).add(value);\n}\nfunction del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nfunction fetch(map, key) {\n    let values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nfunction prune(map, key) {\n    const values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n\nclass Multimap {\n    constructor() {\n        this.valuesByKey = new Map();\n    }\n    get keys() {\n        return Array.from(this.valuesByKey.keys());\n    }\n    get values() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((values, set) => values.concat(Array.from(set)), []);\n    }\n    get size() {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.reduce((size, set) => size + set.size, 0);\n    }\n    add(key, value) {\n        add(this.valuesByKey, key, value);\n    }\n    delete(key, value) {\n        del(this.valuesByKey, key, value);\n    }\n    has(key, value) {\n        const values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    }\n    hasKey(key) {\n        return this.valuesByKey.has(key);\n    }\n    hasValue(value) {\n        const sets = Array.from(this.valuesByKey.values());\n        return sets.some((set) => set.has(value));\n    }\n    getValuesForKey(key) {\n        const values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    }\n    getKeysForValue(value) {\n        return Array.from(this.valuesByKey)\n            .filter(([_key, values]) => values.has(value))\n            .map(([key, _values]) => key);\n    }\n}\n\nclass IndexedMultimap extends Multimap {\n    constructor() {\n        super();\n        this.keysByValue = new Map();\n    }\n    get values() {\n        return Array.from(this.keysByValue.keys());\n    }\n    add(key, value) {\n        super.add(key, value);\n        add(this.keysByValue, value, key);\n    }\n    delete(key, value) {\n        super.delete(key, value);\n        del(this.keysByValue, value, key);\n    }\n    hasValue(value) {\n        return this.keysByValue.has(value);\n    }\n    getKeysForValue(value) {\n        const set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    }\n}\n\nclass SelectorObserver {\n    constructor(element, selector, delegate, details) {\n        this._selector = selector;\n        this.details = details;\n        this.elementObserver = new ElementObserver(element, this);\n        this.delegate = delegate;\n        this.matchesByElement = new Multimap();\n    }\n    get started() {\n        return this.elementObserver.started;\n    }\n    get selector() {\n        return this._selector;\n    }\n    set selector(selector) {\n        this._selector = selector;\n        this.refresh();\n    }\n    start() {\n        this.elementObserver.start();\n    }\n    pause(callback) {\n        this.elementObserver.pause(callback);\n    }\n    stop() {\n        this.elementObserver.stop();\n    }\n    refresh() {\n        this.elementObserver.refresh();\n    }\n    get element() {\n        return this.elementObserver.element;\n    }\n    matchElement(element) {\n        const { selector } = this;\n        if (selector) {\n            const matches = element.matches(selector);\n            if (this.delegate.selectorMatchElement) {\n                return matches && this.delegate.selectorMatchElement(element, this.details);\n            }\n            return matches;\n        }\n        else {\n            return false;\n        }\n    }\n    matchElementsInTree(tree) {\n        const { selector } = this;\n        if (selector) {\n            const match = this.matchElement(tree) ? [tree] : [];\n            const matches = Array.from(tree.querySelectorAll(selector)).filter((match) => this.matchElement(match));\n            return match.concat(matches);\n        }\n        else {\n            return [];\n        }\n    }\n    elementMatched(element) {\n        const { selector } = this;\n        if (selector) {\n            this.selectorMatched(element, selector);\n        }\n    }\n    elementUnmatched(element) {\n        const selectors = this.matchesByElement.getKeysForValue(element);\n        for (const selector of selectors) {\n            this.selectorUnmatched(element, selector);\n        }\n    }\n    elementAttributeChanged(element, _attributeName) {\n        const { selector } = this;\n        if (selector) {\n            const matches = this.matchElement(element);\n            const matchedBefore = this.matchesByElement.has(selector, element);\n            if (matches && !matchedBefore) {\n                this.selectorMatched(element, selector);\n            }\n            else if (!matches && matchedBefore) {\n                this.selectorUnmatched(element, selector);\n            }\n        }\n    }\n    selectorMatched(element, selector) {\n        this.delegate.selectorMatched(element, selector, this.details);\n        this.matchesByElement.add(selector, element);\n    }\n    selectorUnmatched(element, selector) {\n        this.delegate.selectorUnmatched(element, selector, this.details);\n        this.matchesByElement.delete(selector, element);\n    }\n}\n\nclass StringMapObserver {\n    constructor(element, delegate) {\n        this.element = element;\n        this.delegate = delegate;\n        this.started = false;\n        this.stringMap = new Map();\n        this.mutationObserver = new MutationObserver((mutations) => this.processMutations(mutations));\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, attributeOldValue: true });\n            this.refresh();\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    }\n    refresh() {\n        if (this.started) {\n            for (const attributeName of this.knownAttributeNames) {\n                this.refreshAttribute(attributeName, null);\n            }\n        }\n    }\n    processMutations(mutations) {\n        if (this.started) {\n            for (const mutation of mutations) {\n                this.processMutation(mutation);\n            }\n        }\n    }\n    processMutation(mutation) {\n        const attributeName = mutation.attributeName;\n        if (attributeName) {\n            this.refreshAttribute(attributeName, mutation.oldValue);\n        }\n    }\n    refreshAttribute(attributeName, oldValue) {\n        const key = this.delegate.getStringMapKeyForAttribute(attributeName);\n        if (key != null) {\n            if (!this.stringMap.has(attributeName)) {\n                this.stringMapKeyAdded(key, attributeName);\n            }\n            const value = this.element.getAttribute(attributeName);\n            if (this.stringMap.get(attributeName) != value) {\n                this.stringMapValueChanged(value, key, oldValue);\n            }\n            if (value == null) {\n                const oldValue = this.stringMap.get(attributeName);\n                this.stringMap.delete(attributeName);\n                if (oldValue)\n                    this.stringMapKeyRemoved(key, attributeName, oldValue);\n            }\n            else {\n                this.stringMap.set(attributeName, value);\n            }\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        if (this.delegate.stringMapKeyAdded) {\n            this.delegate.stringMapKeyAdded(key, attributeName);\n        }\n    }\n    stringMapValueChanged(value, key, oldValue) {\n        if (this.delegate.stringMapValueChanged) {\n            this.delegate.stringMapValueChanged(value, key, oldValue);\n        }\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        if (this.delegate.stringMapKeyRemoved) {\n            this.delegate.stringMapKeyRemoved(key, attributeName, oldValue);\n        }\n    }\n    get knownAttributeNames() {\n        return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));\n    }\n    get currentAttributeNames() {\n        return Array.from(this.element.attributes).map((attribute) => attribute.name);\n    }\n    get recordedAttributeNames() {\n        return Array.from(this.stringMap.keys());\n    }\n}\n\nclass TokenListObserver {\n    constructor(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap();\n    }\n    get started() {\n        return this.attributeObserver.started;\n    }\n    start() {\n        this.attributeObserver.start();\n    }\n    pause(callback) {\n        this.attributeObserver.pause(callback);\n    }\n    stop() {\n        this.attributeObserver.stop();\n    }\n    refresh() {\n        this.attributeObserver.refresh();\n    }\n    get element() {\n        return this.attributeObserver.element;\n    }\n    get attributeName() {\n        return this.attributeObserver.attributeName;\n    }\n    elementMatchedAttribute(element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    }\n    elementAttributeValueChanged(element) {\n        const [unmatchedTokens, matchedTokens] = this.refreshTokensForElement(element);\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    }\n    elementUnmatchedAttribute(element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    }\n    tokensMatched(tokens) {\n        tokens.forEach((token) => this.tokenMatched(token));\n    }\n    tokensUnmatched(tokens) {\n        tokens.forEach((token) => this.tokenUnmatched(token));\n    }\n    tokenMatched(token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    }\n    tokenUnmatched(token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    }\n    refreshTokensForElement(element) {\n        const previousTokens = this.tokensByElement.getValuesForKey(element);\n        const currentTokens = this.readTokensForElement(element);\n        const firstDifferingIndex = zip(previousTokens, currentTokens).findIndex(([previousToken, currentToken]) => !tokensAreEqual(previousToken, currentToken));\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    }\n    readTokensForElement(element) {\n        const attributeName = this.attributeName;\n        const tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    }\n}\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString\n        .trim()\n        .split(/\\s+/)\n        .filter((content) => content.length)\n        .map((content, index) => ({ element, attributeName, content, index }));\n}\nfunction zip(left, right) {\n    const length = Math.max(left.length, right.length);\n    return Array.from({ length }, (_, index) => [left[index], right[index]]);\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n\nclass ValueListObserver {\n    constructor(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap();\n        this.valuesByTokenByElement = new WeakMap();\n    }\n    get started() {\n        return this.tokenListObserver.started;\n    }\n    start() {\n        this.tokenListObserver.start();\n    }\n    stop() {\n        this.tokenListObserver.stop();\n    }\n    refresh() {\n        this.tokenListObserver.refresh();\n    }\n    get element() {\n        return this.tokenListObserver.element;\n    }\n    get attributeName() {\n        return this.tokenListObserver.attributeName;\n    }\n    tokenMatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    }\n    tokenUnmatched(token) {\n        const { element } = token;\n        const { value } = this.fetchParseResultForToken(token);\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    }\n    fetchParseResultForToken(token) {\n        let parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    }\n    fetchValuesByTokenForElement(element) {\n        let valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map();\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    }\n    parseToken(token) {\n        try {\n            const value = this.delegate.parseValueForToken(token);\n            return { value };\n        }\n        catch (error) {\n            return { error };\n        }\n    }\n}\n\nclass BindingObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map();\n    }\n    start() {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    }\n    stop() {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    }\n    get element() {\n        return this.context.element;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get actionAttribute() {\n        return this.schema.actionAttribute;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get bindings() {\n        return Array.from(this.bindingsByAction.values());\n    }\n    connectAction(action) {\n        const binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    }\n    disconnectAction(action) {\n        const binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    }\n    disconnectAllActions() {\n        this.bindings.forEach((binding) => this.delegate.bindingDisconnected(binding, true));\n        this.bindingsByAction.clear();\n    }\n    parseValueForToken(token) {\n        const action = Action.forToken(token, this.schema);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    }\n    elementMatchedValue(element, action) {\n        this.connectAction(action);\n    }\n    elementUnmatchedValue(element, action) {\n        this.disconnectAction(action);\n    }\n}\n\nclass ValueObserver {\n    constructor(context, receiver) {\n        this.context = context;\n        this.receiver = receiver;\n        this.stringMapObserver = new StringMapObserver(this.element, this);\n        this.valueDescriptorMap = this.controller.valueDescriptorMap;\n    }\n    start() {\n        this.stringMapObserver.start();\n        this.invokeChangedCallbacksForDefaultValues();\n    }\n    stop() {\n        this.stringMapObserver.stop();\n    }\n    get element() {\n        return this.context.element;\n    }\n    get controller() {\n        return this.context.controller;\n    }\n    getStringMapKeyForAttribute(attributeName) {\n        if (attributeName in this.valueDescriptorMap) {\n            return this.valueDescriptorMap[attributeName].name;\n        }\n    }\n    stringMapKeyAdded(key, attributeName) {\n        const descriptor = this.valueDescriptorMap[attributeName];\n        if (!this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), descriptor.writer(descriptor.defaultValue));\n        }\n    }\n    stringMapValueChanged(value, name, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[name];\n        if (value === null)\n            return;\n        if (oldValue === null) {\n            oldValue = descriptor.writer(descriptor.defaultValue);\n        }\n        this.invokeChangedCallback(name, value, oldValue);\n    }\n    stringMapKeyRemoved(key, attributeName, oldValue) {\n        const descriptor = this.valueDescriptorNameMap[key];\n        if (this.hasValue(key)) {\n            this.invokeChangedCallback(key, descriptor.writer(this.receiver[key]), oldValue);\n        }\n        else {\n            this.invokeChangedCallback(key, descriptor.writer(descriptor.defaultValue), oldValue);\n        }\n    }\n    invokeChangedCallbacksForDefaultValues() {\n        for (const { key, name, defaultValue, writer } of this.valueDescriptors) {\n            if (defaultValue != undefined && !this.controller.data.has(key)) {\n                this.invokeChangedCallback(name, writer(defaultValue), undefined);\n            }\n        }\n    }\n    invokeChangedCallback(name, rawValue, rawOldValue) {\n        const changedMethodName = `${name}Changed`;\n        const changedMethod = this.receiver[changedMethodName];\n        if (typeof changedMethod == \"function\") {\n            const descriptor = this.valueDescriptorNameMap[name];\n            try {\n                const value = descriptor.reader(rawValue);\n                let oldValue = rawOldValue;\n                if (rawOldValue) {\n                    oldValue = descriptor.reader(rawOldValue);\n                }\n                changedMethod.call(this.receiver, value, oldValue);\n            }\n            catch (error) {\n                if (error instanceof TypeError) {\n                    error.message = `Stimulus Value \"${this.context.identifier}.${descriptor.name}\" - ${error.message}`;\n                }\n                throw error;\n            }\n        }\n    }\n    get valueDescriptors() {\n        const { valueDescriptorMap } = this;\n        return Object.keys(valueDescriptorMap).map((key) => valueDescriptorMap[key]);\n    }\n    get valueDescriptorNameMap() {\n        const descriptors = {};\n        Object.keys(this.valueDescriptorMap).forEach((key) => {\n            const descriptor = this.valueDescriptorMap[key];\n            descriptors[descriptor.name] = descriptor;\n        });\n        return descriptors;\n    }\n    hasValue(attributeName) {\n        const descriptor = this.valueDescriptorNameMap[attributeName];\n        const hasMethodName = `has${capitalize(descriptor.name)}`;\n        return this.receiver[hasMethodName];\n    }\n}\n\nclass TargetObserver {\n    constructor(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.targetsByName = new Multimap();\n    }\n    start() {\n        if (!this.tokenListObserver) {\n            this.tokenListObserver = new TokenListObserver(this.element, this.attributeName, this);\n            this.tokenListObserver.start();\n        }\n    }\n    stop() {\n        if (this.tokenListObserver) {\n            this.disconnectAllTargets();\n            this.tokenListObserver.stop();\n            delete this.tokenListObserver;\n        }\n    }\n    tokenMatched({ element, content: name }) {\n        if (this.scope.containsElement(element)) {\n            this.connectTarget(element, name);\n        }\n    }\n    tokenUnmatched({ element, content: name }) {\n        this.disconnectTarget(element, name);\n    }\n    connectTarget(element, name) {\n        var _a;\n        if (!this.targetsByName.has(name, element)) {\n            this.targetsByName.add(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetConnected(element, name));\n        }\n    }\n    disconnectTarget(element, name) {\n        var _a;\n        if (this.targetsByName.has(name, element)) {\n            this.targetsByName.delete(name, element);\n            (_a = this.tokenListObserver) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.targetDisconnected(element, name));\n        }\n    }\n    disconnectAllTargets() {\n        for (const name of this.targetsByName.keys) {\n            for (const element of this.targetsByName.getValuesForKey(name)) {\n                this.disconnectTarget(element, name);\n            }\n        }\n    }\n    get attributeName() {\n        return `data-${this.context.identifier}-target`;\n    }\n    get element() {\n        return this.context.element;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n}\n\nfunction readInheritableStaticArrayValues(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce((values, constructor) => {\n        getOwnStaticArrayValues(constructor, propertyName).forEach((name) => values.add(name));\n        return values;\n    }, new Set()));\n}\nfunction readInheritableStaticObjectPairs(constructor, propertyName) {\n    const ancestors = getAncestorsForConstructor(constructor);\n    return ancestors.reduce((pairs, constructor) => {\n        pairs.push(...getOwnStaticObjectPairs(constructor, propertyName));\n        return pairs;\n    }, []);\n}\nfunction getAncestorsForConstructor(constructor) {\n    const ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors.reverse();\n}\nfunction getOwnStaticArrayValues(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction getOwnStaticObjectPairs(constructor, propertyName) {\n    const definition = constructor[propertyName];\n    return definition ? Object.keys(definition).map((key) => [key, definition[key]]) : [];\n}\n\nclass OutletObserver {\n    constructor(context, delegate) {\n        this.started = false;\n        this.context = context;\n        this.delegate = delegate;\n        this.outletsByName = new Multimap();\n        this.outletElementsByName = new Multimap();\n        this.selectorObserverMap = new Map();\n        this.attributeObserverMap = new Map();\n    }\n    start() {\n        if (!this.started) {\n            this.outletDefinitions.forEach((outletName) => {\n                this.setupSelectorObserverForOutlet(outletName);\n                this.setupAttributeObserverForOutlet(outletName);\n            });\n            this.started = true;\n            this.dependentContexts.forEach((context) => context.refresh());\n        }\n    }\n    refresh() {\n        this.selectorObserverMap.forEach((observer) => observer.refresh());\n        this.attributeObserverMap.forEach((observer) => observer.refresh());\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.disconnectAllOutlets();\n            this.stopSelectorObservers();\n            this.stopAttributeObservers();\n        }\n    }\n    stopSelectorObservers() {\n        if (this.selectorObserverMap.size > 0) {\n            this.selectorObserverMap.forEach((observer) => observer.stop());\n            this.selectorObserverMap.clear();\n        }\n    }\n    stopAttributeObservers() {\n        if (this.attributeObserverMap.size > 0) {\n            this.attributeObserverMap.forEach((observer) => observer.stop());\n            this.attributeObserverMap.clear();\n        }\n    }\n    selectorMatched(element, _selector, { outletName }) {\n        const outlet = this.getOutlet(element, outletName);\n        if (outlet) {\n            this.connectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorUnmatched(element, _selector, { outletName }) {\n        const outlet = this.getOutletFromMap(element, outletName);\n        if (outlet) {\n            this.disconnectOutlet(outlet, element, outletName);\n        }\n    }\n    selectorMatchElement(element, { outletName }) {\n        const selector = this.selector(outletName);\n        const hasOutlet = this.hasOutlet(element, outletName);\n        const hasOutletController = element.matches(`[${this.schema.controllerAttribute}~=${outletName}]`);\n        if (selector) {\n            return hasOutlet && hasOutletController && element.matches(selector);\n        }\n        else {\n            return false;\n        }\n    }\n    elementMatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementAttributeValueChanged(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    elementUnmatchedAttribute(_element, attributeName) {\n        const outletName = this.getOutletNameFromOutletAttributeName(attributeName);\n        if (outletName) {\n            this.updateSelectorObserverForOutlet(outletName);\n        }\n    }\n    connectOutlet(outlet, element, outletName) {\n        var _a;\n        if (!this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.add(outletName, outlet);\n            this.outletElementsByName.add(outletName, element);\n            (_a = this.selectorObserverMap.get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletConnected(outlet, element, outletName));\n        }\n    }\n    disconnectOutlet(outlet, element, outletName) {\n        var _a;\n        if (this.outletElementsByName.has(outletName, element)) {\n            this.outletsByName.delete(outletName, outlet);\n            this.outletElementsByName.delete(outletName, element);\n            (_a = this.selectorObserverMap\n                .get(outletName)) === null || _a === void 0 ? void 0 : _a.pause(() => this.delegate.outletDisconnected(outlet, element, outletName));\n        }\n    }\n    disconnectAllOutlets() {\n        for (const outletName of this.outletElementsByName.keys) {\n            for (const element of this.outletElementsByName.getValuesForKey(outletName)) {\n                for (const outlet of this.outletsByName.getValuesForKey(outletName)) {\n                    this.disconnectOutlet(outlet, element, outletName);\n                }\n            }\n        }\n    }\n    updateSelectorObserverForOutlet(outletName) {\n        const observer = this.selectorObserverMap.get(outletName);\n        if (observer) {\n            observer.selector = this.selector(outletName);\n        }\n    }\n    setupSelectorObserverForOutlet(outletName) {\n        const selector = this.selector(outletName);\n        const selectorObserver = new SelectorObserver(document.body, selector, this, { outletName });\n        this.selectorObserverMap.set(outletName, selectorObserver);\n        selectorObserver.start();\n    }\n    setupAttributeObserverForOutlet(outletName) {\n        const attributeName = this.attributeNameForOutletName(outletName);\n        const attributeObserver = new AttributeObserver(this.scope.element, attributeName, this);\n        this.attributeObserverMap.set(outletName, attributeObserver);\n        attributeObserver.start();\n    }\n    selector(outletName) {\n        return this.scope.outlets.getSelectorForOutletName(outletName);\n    }\n    attributeNameForOutletName(outletName) {\n        return this.scope.schema.outletAttributeForScope(this.identifier, outletName);\n    }\n    getOutletNameFromOutletAttributeName(attributeName) {\n        return this.outletDefinitions.find((outletName) => this.attributeNameForOutletName(outletName) === attributeName);\n    }\n    get outletDependencies() {\n        const dependencies = new Multimap();\n        this.router.modules.forEach((module) => {\n            const constructor = module.definition.controllerConstructor;\n            const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n            outlets.forEach((outlet) => dependencies.add(outlet, module.identifier));\n        });\n        return dependencies;\n    }\n    get outletDefinitions() {\n        return this.outletDependencies.getKeysForValue(this.identifier);\n    }\n    get dependentControllerIdentifiers() {\n        return this.outletDependencies.getValuesForKey(this.identifier);\n    }\n    get dependentContexts() {\n        const identifiers = this.dependentControllerIdentifiers;\n        return this.router.contexts.filter((context) => identifiers.includes(context.identifier));\n    }\n    hasOutlet(element, outletName) {\n        return !!this.getOutlet(element, outletName) || !!this.getOutletFromMap(element, outletName);\n    }\n    getOutlet(element, outletName) {\n        return this.application.getControllerForElementAndIdentifier(element, outletName);\n    }\n    getOutletFromMap(element, outletName) {\n        return this.outletsByName.getValuesForKey(outletName).find((outlet) => outlet.element === element);\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get schema() {\n        return this.context.schema;\n    }\n    get identifier() {\n        return this.context.identifier;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get router() {\n        return this.application.router;\n    }\n}\n\nclass Context {\n    constructor(module, scope) {\n        this.logDebugActivity = (functionName, detail = {}) => {\n            const { identifier, controller, element } = this;\n            detail = Object.assign({ identifier, controller, element }, detail);\n            this.application.logDebugActivity(this.identifier, functionName, detail);\n        };\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        this.valueObserver = new ValueObserver(this, this.controller);\n        this.targetObserver = new TargetObserver(this, this);\n        this.outletObserver = new OutletObserver(this, this);\n        try {\n            this.controller.initialize();\n            this.logDebugActivity(\"initialize\");\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    connect() {\n        this.bindingObserver.start();\n        this.valueObserver.start();\n        this.targetObserver.start();\n        this.outletObserver.start();\n        try {\n            this.controller.connect();\n            this.logDebugActivity(\"connect\");\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    }\n    refresh() {\n        this.outletObserver.refresh();\n    }\n    disconnect() {\n        try {\n            this.controller.disconnect();\n            this.logDebugActivity(\"disconnect\");\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.outletObserver.stop();\n        this.targetObserver.stop();\n        this.valueObserver.stop();\n        this.bindingObserver.stop();\n    }\n    get application() {\n        return this.module.application;\n    }\n    get identifier() {\n        return this.module.identifier;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get dispatcher() {\n        return this.application.dispatcher;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get parentElement() {\n        return this.element.parentElement;\n    }\n    handleError(error, message, detail = {}) {\n        const { identifier, controller, element } = this;\n        detail = Object.assign({ identifier, controller, element }, detail);\n        this.application.handleError(error, `Error ${message}`, detail);\n    }\n    targetConnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetConnected`, element);\n    }\n    targetDisconnected(element, name) {\n        this.invokeControllerMethod(`${name}TargetDisconnected`, element);\n    }\n    outletConnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletConnected`, outlet, element);\n    }\n    outletDisconnected(outlet, element, name) {\n        this.invokeControllerMethod(`${namespaceCamelize(name)}OutletDisconnected`, outlet, element);\n    }\n    invokeControllerMethod(methodName, ...args) {\n        const controller = this.controller;\n        if (typeof controller[methodName] == \"function\") {\n            controller[methodName](...args);\n        }\n    }\n}\n\nfunction bless(constructor) {\n    return shadow(constructor, getBlessedProperties(constructor));\n}\nfunction shadow(constructor, properties) {\n    const shadowConstructor = extend(constructor);\n    const shadowProperties = getShadowProperties(constructor.prototype, properties);\n    Object.defineProperties(shadowConstructor.prototype, shadowProperties);\n    return shadowConstructor;\n}\nfunction getBlessedProperties(constructor) {\n    const blessings = readInheritableStaticArrayValues(constructor, \"blessings\");\n    return blessings.reduce((blessedProperties, blessing) => {\n        const properties = blessing(constructor);\n        for (const key in properties) {\n            const descriptor = blessedProperties[key] || {};\n            blessedProperties[key] = Object.assign(descriptor, properties[key]);\n        }\n        return blessedProperties;\n    }, {});\n}\nfunction getShadowProperties(prototype, properties) {\n    return getOwnKeys(properties).reduce((shadowProperties, key) => {\n        const descriptor = getShadowedDescriptor(prototype, properties, key);\n        if (descriptor) {\n            Object.assign(shadowProperties, { [key]: descriptor });\n        }\n        return shadowProperties;\n    }, {});\n}\nfunction getShadowedDescriptor(prototype, properties, key) {\n    const shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);\n    const shadowedByValue = shadowingDescriptor && \"value\" in shadowingDescriptor;\n    if (!shadowedByValue) {\n        const descriptor = Object.getOwnPropertyDescriptor(properties, key).value;\n        if (shadowingDescriptor) {\n            descriptor.get = shadowingDescriptor.get || descriptor.get;\n            descriptor.set = shadowingDescriptor.set || descriptor.set;\n        }\n        return descriptor;\n    }\n}\nconst getOwnKeys = (() => {\n    if (typeof Object.getOwnPropertySymbols == \"function\") {\n        return (object) => [...Object.getOwnPropertyNames(object), ...Object.getOwnPropertySymbols(object)];\n    }\n    else {\n        return Object.getOwnPropertyNames;\n    }\n})();\nconst extend = (() => {\n    function extendWithReflect(constructor) {\n        function extended() {\n            return Reflect.construct(constructor, arguments, new.target);\n        }\n        extended.prototype = Object.create(constructor.prototype, {\n            constructor: { value: extended },\n        });\n        Reflect.setPrototypeOf(extended, constructor);\n        return extended;\n    }\n    function testReflectExtension() {\n        const a = function () {\n            this.a.call(this);\n        };\n        const b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b();\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return (constructor) => class extended extends constructor {\n        };\n    }\n})();\n\nfunction blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: bless(definition.controllerConstructor),\n    };\n}\n\nclass Module {\n    constructor(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap();\n        this.connectedContexts = new Set();\n    }\n    get identifier() {\n        return this.definition.identifier;\n    }\n    get controllerConstructor() {\n        return this.definition.controllerConstructor;\n    }\n    get contexts() {\n        return Array.from(this.connectedContexts);\n    }\n    connectContextForScope(scope) {\n        const context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    }\n    disconnectContextForScope(scope) {\n        const context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    }\n    fetchContextForScope(scope) {\n        let context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    }\n}\n\nclass ClassMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    has(name) {\n        return this.data.has(this.getDataKey(name));\n    }\n    get(name) {\n        return this.getAll(name)[0];\n    }\n    getAll(name) {\n        const tokenString = this.data.get(this.getDataKey(name)) || \"\";\n        return tokenize(tokenString);\n    }\n    getAttributeName(name) {\n        return this.data.getAttributeNameForKey(this.getDataKey(name));\n    }\n    getDataKey(name) {\n        return `${name}-class`;\n    }\n    get data() {\n        return this.scope.data;\n    }\n}\n\nclass DataMap {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.getAttribute(name);\n    }\n    set(key, value) {\n        const name = this.getAttributeNameForKey(key);\n        this.element.setAttribute(name, value);\n        return this.get(key);\n    }\n    has(key) {\n        const name = this.getAttributeNameForKey(key);\n        return this.element.hasAttribute(name);\n    }\n    delete(key) {\n        if (this.has(key)) {\n            const name = this.getAttributeNameForKey(key);\n            this.element.removeAttribute(name);\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    getAttributeNameForKey(key) {\n        return `data-${this.identifier}-${dasherize(key)}`;\n    }\n}\n\nclass Guide {\n    constructor(logger) {\n        this.warnedKeysByObject = new WeakMap();\n        this.logger = logger;\n    }\n    warn(object, key, message) {\n        let warnedKeys = this.warnedKeysByObject.get(object);\n        if (!warnedKeys) {\n            warnedKeys = new Set();\n            this.warnedKeysByObject.set(object, warnedKeys);\n        }\n        if (!warnedKeys.has(key)) {\n            warnedKeys.add(key);\n            this.logger.warn(message, object);\n        }\n    }\n}\n\nfunction attributeValueContainsToken(attributeName, token) {\n    return `[${attributeName}~=\"${token}\"]`;\n}\n\nclass TargetSet {\n    constructor(scope) {\n        this.scope = scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(targetName) {\n        return this.find(targetName) != null;\n    }\n    find(...targetNames) {\n        return targetNames.reduce((target, targetName) => target || this.findTarget(targetName) || this.findLegacyTarget(targetName), undefined);\n    }\n    findAll(...targetNames) {\n        return targetNames.reduce((targets, targetName) => [\n            ...targets,\n            ...this.findAllTargets(targetName),\n            ...this.findAllLegacyTargets(targetName),\n        ], []);\n    }\n    findTarget(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findElement(selector);\n    }\n    findAllTargets(targetName) {\n        const selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector);\n    }\n    getSelectorForTargetName(targetName) {\n        const attributeName = this.schema.targetAttributeForScope(this.identifier);\n        return attributeValueContainsToken(attributeName, targetName);\n    }\n    findLegacyTarget(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.deprecate(this.scope.findElement(selector), targetName);\n    }\n    findAllLegacyTargets(targetName) {\n        const selector = this.getLegacySelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector).map((element) => this.deprecate(element, targetName));\n    }\n    getLegacySelectorForTargetName(targetName) {\n        const targetDescriptor = `${this.identifier}.${targetName}`;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    }\n    deprecate(element, targetName) {\n        if (element) {\n            const { identifier } = this;\n            const attributeName = this.schema.targetAttribute;\n            const revisedAttributeName = this.schema.targetAttributeForScope(identifier);\n            this.guide.warn(element, `target:${targetName}`, `Please replace ${attributeName}=\"${identifier}.${targetName}\" with ${revisedAttributeName}=\"${targetName}\". ` +\n                `The ${attributeName} attribute is deprecated and will be removed in a future version of Stimulus.`);\n        }\n        return element;\n    }\n    get guide() {\n        return this.scope.guide;\n    }\n}\n\nclass OutletSet {\n    constructor(scope, controllerElement) {\n        this.scope = scope;\n        this.controllerElement = controllerElement;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get schema() {\n        return this.scope.schema;\n    }\n    has(outletName) {\n        return this.find(outletName) != null;\n    }\n    find(...outletNames) {\n        return outletNames.reduce((outlet, outletName) => outlet || this.findOutlet(outletName), undefined);\n    }\n    findAll(...outletNames) {\n        return outletNames.reduce((outlets, outletName) => [...outlets, ...this.findAllOutlets(outletName)], []);\n    }\n    getSelectorForOutletName(outletName) {\n        const attributeName = this.schema.outletAttributeForScope(this.identifier, outletName);\n        return this.controllerElement.getAttribute(attributeName);\n    }\n    findOutlet(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        if (selector)\n            return this.findElement(selector, outletName);\n    }\n    findAllOutlets(outletName) {\n        const selector = this.getSelectorForOutletName(outletName);\n        return selector ? this.findAllElements(selector, outletName) : [];\n    }\n    findElement(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName))[0];\n    }\n    findAllElements(selector, outletName) {\n        const elements = this.scope.queryElements(selector);\n        return elements.filter((element) => this.matchesElement(element, selector, outletName));\n    }\n    matchesElement(element, selector, outletName) {\n        const controllerAttribute = element.getAttribute(this.scope.schema.controllerAttribute) || \"\";\n        return element.matches(selector) && controllerAttribute.split(\" \").includes(outletName);\n    }\n}\n\nclass Scope {\n    constructor(schema, element, identifier, logger) {\n        this.targets = new TargetSet(this);\n        this.classes = new ClassMap(this);\n        this.data = new DataMap(this);\n        this.containsElement = (element) => {\n            return element.closest(this.controllerSelector) === this.element;\n        };\n        this.schema = schema;\n        this.element = element;\n        this.identifier = identifier;\n        this.guide = new Guide(logger);\n        this.outlets = new OutletSet(this.documentScope, element);\n    }\n    findElement(selector) {\n        return this.element.matches(selector) ? this.element : this.queryElements(selector).find(this.containsElement);\n    }\n    findAllElements(selector) {\n        return [\n            ...(this.element.matches(selector) ? [this.element] : []),\n            ...this.queryElements(selector).filter(this.containsElement),\n        ];\n    }\n    queryElements(selector) {\n        return Array.from(this.element.querySelectorAll(selector));\n    }\n    get controllerSelector() {\n        return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n    }\n    get isDocumentScope() {\n        return this.element === document.documentElement;\n    }\n    get documentScope() {\n        return this.isDocumentScope\n            ? this\n            : new Scope(this.schema, document.documentElement, this.identifier, this.guide.logger);\n    }\n}\n\nclass ScopeObserver {\n    constructor(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap();\n        this.scopeReferenceCounts = new WeakMap();\n    }\n    start() {\n        this.valueListObserver.start();\n    }\n    stop() {\n        this.valueListObserver.stop();\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    parseValueForToken(token) {\n        const { element, content: identifier } = token;\n        return this.parseValueForElementAndIdentifier(element, identifier);\n    }\n    parseValueForElementAndIdentifier(element, identifier) {\n        const scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        let scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    }\n    elementMatchedValue(element, value) {\n        const referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    }\n    elementUnmatchedValue(element, value) {\n        const referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    }\n    fetchScopesByIdentifierForElement(element) {\n        let scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map();\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    }\n}\n\nclass Router {\n    constructor(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap();\n        this.modulesByIdentifier = new Map();\n    }\n    get element() {\n        return this.application.element;\n    }\n    get schema() {\n        return this.application.schema;\n    }\n    get logger() {\n        return this.application.logger;\n    }\n    get controllerAttribute() {\n        return this.schema.controllerAttribute;\n    }\n    get modules() {\n        return Array.from(this.modulesByIdentifier.values());\n    }\n    get contexts() {\n        return this.modules.reduce((contexts, module) => contexts.concat(module.contexts), []);\n    }\n    start() {\n        this.scopeObserver.start();\n    }\n    stop() {\n        this.scopeObserver.stop();\n    }\n    loadDefinition(definition) {\n        this.unloadIdentifier(definition.identifier);\n        const module = new Module(this.application, definition);\n        this.connectModule(module);\n        const afterLoad = definition.controllerConstructor.afterLoad;\n        if (afterLoad) {\n            afterLoad.call(definition.controllerConstructor, definition.identifier, this.application);\n        }\n    }\n    unloadIdentifier(identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    }\n    getContextForElementAndIdentifier(element, identifier) {\n        const module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find((context) => context.element == element);\n        }\n    }\n    proposeToConnectScopeForElementAndIdentifier(element, identifier) {\n        const scope = this.scopeObserver.parseValueForElementAndIdentifier(element, identifier);\n        if (scope) {\n            this.scopeObserver.elementMatchedValue(scope.element, scope);\n        }\n        else {\n            console.error(`Couldn't find or create scope for identifier: \"${identifier}\" and element:`, element);\n        }\n    }\n    handleError(error, message, detail) {\n        this.application.handleError(error, message, detail);\n    }\n    createScopeForElementAndIdentifier(element, identifier) {\n        return new Scope(this.schema, element, identifier, this.logger);\n    }\n    scopeConnected(scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    }\n    scopeDisconnected(scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        const module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    }\n    connectModule(module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.connectContextForScope(scope));\n    }\n    disconnectModule(module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        const scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach((scope) => module.disconnectContextForScope(scope));\n    }\n}\n\nconst defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\",\n    targetAttributeForScope: (identifier) => `data-${identifier}-target`,\n    outletAttributeForScope: (identifier, outlet) => `data-${identifier}-${outlet}-outlet`,\n    keyMappings: Object.assign(Object.assign({ enter: \"Enter\", tab: \"Tab\", esc: \"Escape\", space: \" \", up: \"ArrowUp\", down: \"ArrowDown\", left: \"ArrowLeft\", right: \"ArrowRight\", home: \"Home\", end: \"End\", page_up: \"PageUp\", page_down: \"PageDown\" }, objectFromEntries(\"abcdefghijklmnopqrstuvwxyz\".split(\"\").map((c) => [c, c]))), objectFromEntries(\"0123456789\".split(\"\").map((n) => [n, n]))),\n};\nfunction objectFromEntries(array) {\n    return array.reduce((memo, [k, v]) => (Object.assign(Object.assign({}, memo), { [k]: v })), {});\n}\n\nclass Application {\n    constructor(element = document.documentElement, schema = defaultSchema) {\n        this.logger = console;\n        this.debug = false;\n        this.logDebugActivity = (identifier, functionName, detail = {}) => {\n            if (this.debug) {\n                this.logFormattedMessage(identifier, functionName, detail);\n            }\n        };\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n        this.actionDescriptorFilters = Object.assign({}, defaultActionDescriptorFilters);\n    }\n    static start(element, schema) {\n        const application = new this(element, schema);\n        application.start();\n        return application;\n    }\n    async start() {\n        await domReady();\n        this.logDebugActivity(\"application\", \"starting\");\n        this.dispatcher.start();\n        this.router.start();\n        this.logDebugActivity(\"application\", \"start\");\n    }\n    stop() {\n        this.logDebugActivity(\"application\", \"stopping\");\n        this.dispatcher.stop();\n        this.router.stop();\n        this.logDebugActivity(\"application\", \"stop\");\n    }\n    register(identifier, controllerConstructor) {\n        this.load({ identifier, controllerConstructor });\n    }\n    registerActionOption(name, filter) {\n        this.actionDescriptorFilters[name] = filter;\n    }\n    load(head, ...rest) {\n        const definitions = Array.isArray(head) ? head : [head, ...rest];\n        definitions.forEach((definition) => {\n            if (definition.controllerConstructor.shouldLoad) {\n                this.router.loadDefinition(definition);\n            }\n        });\n    }\n    unload(head, ...rest) {\n        const identifiers = Array.isArray(head) ? head : [head, ...rest];\n        identifiers.forEach((identifier) => this.router.unloadIdentifier(identifier));\n    }\n    get controllers() {\n        return this.router.contexts.map((context) => context.controller);\n    }\n    getControllerForElementAndIdentifier(element, identifier) {\n        const context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    }\n    handleError(error, message, detail) {\n        var _a;\n        this.logger.error(`%s\\n\\n%o\\n\\n%o`, message, error, detail);\n        (_a = window.onerror) === null || _a === void 0 ? void 0 : _a.call(window, message, \"\", 0, 0, error);\n    }\n    logFormattedMessage(identifier, functionName, detail = {}) {\n        detail = Object.assign({ application: this }, detail);\n        this.logger.groupCollapsed(`${identifier} #${functionName}`);\n        this.logger.log(\"details:\", Object.assign({}, detail));\n        this.logger.groupEnd();\n    }\n}\nfunction domReady() {\n    return new Promise((resolve) => {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", () => resolve());\n        }\n        else {\n            resolve();\n        }\n    });\n}\n\nfunction ClassPropertiesBlessing(constructor) {\n    const classes = readInheritableStaticArrayValues(constructor, \"classes\");\n    return classes.reduce((properties, classDefinition) => {\n        return Object.assign(properties, propertiesForClassDefinition(classDefinition));\n    }, {});\n}\nfunction propertiesForClassDefinition(key) {\n    return {\n        [`${key}Class`]: {\n            get() {\n                const { classes } = this;\n                if (classes.has(key)) {\n                    return classes.get(key);\n                }\n                else {\n                    const attribute = classes.getAttributeName(key);\n                    throw new Error(`Missing attribute \"${attribute}\"`);\n                }\n            },\n        },\n        [`${key}Classes`]: {\n            get() {\n                return this.classes.getAll(key);\n            },\n        },\n        [`has${capitalize(key)}Class`]: {\n            get() {\n                return this.classes.has(key);\n            },\n        },\n    };\n}\n\nfunction OutletPropertiesBlessing(constructor) {\n    const outlets = readInheritableStaticArrayValues(constructor, \"outlets\");\n    return outlets.reduce((properties, outletDefinition) => {\n        return Object.assign(properties, propertiesForOutletDefinition(outletDefinition));\n    }, {});\n}\nfunction getOutletController(controller, element, identifier) {\n    return controller.application.getControllerForElementAndIdentifier(element, identifier);\n}\nfunction getControllerAndEnsureConnectedScope(controller, element, outletName) {\n    let outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n    controller.application.router.proposeToConnectScopeForElementAndIdentifier(element, outletName);\n    outletController = getOutletController(controller, element, outletName);\n    if (outletController)\n        return outletController;\n}\nfunction propertiesForOutletDefinition(name) {\n    const camelizedName = namespaceCamelize(name);\n    return {\n        [`${camelizedName}Outlet`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                    if (outletController)\n                        return outletController;\n                    throw new Error(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`);\n                }\n                throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n            },\n        },\n        [`${camelizedName}Outlets`]: {\n            get() {\n                const outlets = this.outlets.findAll(name);\n                if (outlets.length > 0) {\n                    return outlets\n                        .map((outletElement) => {\n                        const outletController = getControllerAndEnsureConnectedScope(this, outletElement, name);\n                        if (outletController)\n                            return outletController;\n                        console.warn(`The provided outlet element is missing an outlet controller \"${name}\" instance for host controller \"${this.identifier}\"`, outletElement);\n                    })\n                        .filter((controller) => controller);\n                }\n                return [];\n            },\n        },\n        [`${camelizedName}OutletElement`]: {\n            get() {\n                const outletElement = this.outlets.find(name);\n                const selector = this.outlets.getSelectorForOutletName(name);\n                if (outletElement) {\n                    return outletElement;\n                }\n                else {\n                    throw new Error(`Missing outlet element \"${name}\" for host controller \"${this.identifier}\". Stimulus couldn't find a matching outlet element using selector \"${selector}\".`);\n                }\n            },\n        },\n        [`${camelizedName}OutletElements`]: {\n            get() {\n                return this.outlets.findAll(name);\n            },\n        },\n        [`has${capitalize(camelizedName)}Outlet`]: {\n            get() {\n                return this.outlets.has(name);\n            },\n        },\n    };\n}\n\nfunction TargetPropertiesBlessing(constructor) {\n    const targets = readInheritableStaticArrayValues(constructor, \"targets\");\n    return targets.reduce((properties, targetDefinition) => {\n        return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));\n    }, {});\n}\nfunction propertiesForTargetDefinition(name) {\n    return {\n        [`${name}Target`]: {\n            get() {\n                const target = this.targets.find(name);\n                if (target) {\n                    return target;\n                }\n                else {\n                    throw new Error(`Missing target element \"${name}\" for \"${this.identifier}\" controller`);\n                }\n            },\n        },\n        [`${name}Targets`]: {\n            get() {\n                return this.targets.findAll(name);\n            },\n        },\n        [`has${capitalize(name)}Target`]: {\n            get() {\n                return this.targets.has(name);\n            },\n        },\n    };\n}\n\nfunction ValuePropertiesBlessing(constructor) {\n    const valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, \"values\");\n    const propertyDescriptorMap = {\n        valueDescriptorMap: {\n            get() {\n                return valueDefinitionPairs.reduce((result, valueDefinitionPair) => {\n                    const valueDescriptor = parseValueDefinitionPair(valueDefinitionPair, this.identifier);\n                    const attributeName = this.data.getAttributeNameForKey(valueDescriptor.key);\n                    return Object.assign(result, { [attributeName]: valueDescriptor });\n                }, {});\n            },\n        },\n    };\n    return valueDefinitionPairs.reduce((properties, valueDefinitionPair) => {\n        return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));\n    }, propertyDescriptorMap);\n}\nfunction propertiesForValueDefinitionPair(valueDefinitionPair, controller) {\n    const definition = parseValueDefinitionPair(valueDefinitionPair, controller);\n    const { key, name, reader: read, writer: write } = definition;\n    return {\n        [name]: {\n            get() {\n                const value = this.data.get(key);\n                if (value !== null) {\n                    return read(value);\n                }\n                else {\n                    return definition.defaultValue;\n                }\n            },\n            set(value) {\n                if (value === undefined) {\n                    this.data.delete(key);\n                }\n                else {\n                    this.data.set(key, write(value));\n                }\n            },\n        },\n        [`has${capitalize(name)}`]: {\n            get() {\n                return this.data.has(key) || definition.hasCustomDefaultValue;\n            },\n        },\n    };\n}\nfunction parseValueDefinitionPair([token, typeDefinition], controller) {\n    return valueDescriptorForTokenAndTypeDefinition({\n        controller,\n        token,\n        typeDefinition,\n    });\n}\nfunction parseValueTypeConstant(constant) {\n    switch (constant) {\n        case Array:\n            return \"array\";\n        case Boolean:\n            return \"boolean\";\n        case Number:\n            return \"number\";\n        case Object:\n            return \"object\";\n        case String:\n            return \"string\";\n    }\n}\nfunction parseValueTypeDefault(defaultValue) {\n    switch (typeof defaultValue) {\n        case \"boolean\":\n            return \"boolean\";\n        case \"number\":\n            return \"number\";\n        case \"string\":\n            return \"string\";\n    }\n    if (Array.isArray(defaultValue))\n        return \"array\";\n    if (Object.prototype.toString.call(defaultValue) === \"[object Object]\")\n        return \"object\";\n}\nfunction parseValueTypeObject(payload) {\n    const { controller, token, typeObject } = payload;\n    const hasType = isSomething(typeObject.type);\n    const hasDefault = isSomething(typeObject.default);\n    const fullObject = hasType && hasDefault;\n    const onlyType = hasType && !hasDefault;\n    const onlyDefault = !hasType && hasDefault;\n    const typeFromObject = parseValueTypeConstant(typeObject.type);\n    const typeFromDefaultValue = parseValueTypeDefault(payload.typeObject.default);\n    if (onlyType)\n        return typeFromObject;\n    if (onlyDefault)\n        return typeFromDefaultValue;\n    if (typeFromObject !== typeFromDefaultValue) {\n        const propertyPath = controller ? `${controller}.${token}` : token;\n        throw new Error(`The specified default value for the Stimulus Value \"${propertyPath}\" must match the defined type \"${typeFromObject}\". The provided default value of \"${typeObject.default}\" is of type \"${typeFromDefaultValue}\".`);\n    }\n    if (fullObject)\n        return typeFromObject;\n}\nfunction parseValueTypeDefinition(payload) {\n    const { controller, token, typeDefinition } = payload;\n    const typeObject = { controller, token, typeObject: typeDefinition };\n    const typeFromObject = parseValueTypeObject(typeObject);\n    const typeFromDefaultValue = parseValueTypeDefault(typeDefinition);\n    const typeFromConstant = parseValueTypeConstant(typeDefinition);\n    const type = typeFromObject || typeFromDefaultValue || typeFromConstant;\n    if (type)\n        return type;\n    const propertyPath = controller ? `${controller}.${typeDefinition}` : token;\n    throw new Error(`Unknown value type \"${propertyPath}\" for \"${token}\" value`);\n}\nfunction defaultValueForDefinition(typeDefinition) {\n    const constant = parseValueTypeConstant(typeDefinition);\n    if (constant)\n        return defaultValuesByType[constant];\n    const hasDefault = hasProperty(typeDefinition, \"default\");\n    const hasType = hasProperty(typeDefinition, \"type\");\n    const typeObject = typeDefinition;\n    if (hasDefault)\n        return typeObject.default;\n    if (hasType) {\n        const { type } = typeObject;\n        const constantFromType = parseValueTypeConstant(type);\n        if (constantFromType)\n            return defaultValuesByType[constantFromType];\n    }\n    return typeDefinition;\n}\nfunction valueDescriptorForTokenAndTypeDefinition(payload) {\n    const { token, typeDefinition } = payload;\n    const key = `${dasherize(token)}-value`;\n    const type = parseValueTypeDefinition(payload);\n    return {\n        type,\n        key,\n        name: camelize(key),\n        get defaultValue() {\n            return defaultValueForDefinition(typeDefinition);\n        },\n        get hasCustomDefaultValue() {\n            return parseValueTypeDefault(typeDefinition) !== undefined;\n        },\n        reader: readers[type],\n        writer: writers[type] || writers.default,\n    };\n}\nconst defaultValuesByType = {\n    get array() {\n        return [];\n    },\n    boolean: false,\n    number: 0,\n    get object() {\n        return {};\n    },\n    string: \"\",\n};\nconst readers = {\n    array(value) {\n        const array = JSON.parse(value);\n        if (!Array.isArray(array)) {\n            throw new TypeError(`expected value of type \"array\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(array)}\"`);\n        }\n        return array;\n    },\n    boolean(value) {\n        return !(value == \"0\" || String(value).toLowerCase() == \"false\");\n    },\n    number(value) {\n        return Number(value.replace(/_/g, \"\"));\n    },\n    object(value) {\n        const object = JSON.parse(value);\n        if (object === null || typeof object != \"object\" || Array.isArray(object)) {\n            throw new TypeError(`expected value of type \"object\" but instead got value \"${value}\" of type \"${parseValueTypeDefault(object)}\"`);\n        }\n        return object;\n    },\n    string(value) {\n        return value;\n    },\n};\nconst writers = {\n    default: writeString,\n    array: writeJSON,\n    object: writeJSON,\n};\nfunction writeJSON(value) {\n    return JSON.stringify(value);\n}\nfunction writeString(value) {\n    return `${value}`;\n}\n\nclass Controller {\n    constructor(context) {\n        this.context = context;\n    }\n    static get shouldLoad() {\n        return true;\n    }\n    static afterLoad(_identifier, _application) {\n        return;\n    }\n    get application() {\n        return this.context.application;\n    }\n    get scope() {\n        return this.context.scope;\n    }\n    get element() {\n        return this.scope.element;\n    }\n    get identifier() {\n        return this.scope.identifier;\n    }\n    get targets() {\n        return this.scope.targets;\n    }\n    get outlets() {\n        return this.scope.outlets;\n    }\n    get classes() {\n        return this.scope.classes;\n    }\n    get data() {\n        return this.scope.data;\n    }\n    initialize() {\n    }\n    connect() {\n    }\n    disconnect() {\n    }\n    dispatch(eventName, { target = this.element, detail = {}, prefix = this.identifier, bubbles = true, cancelable = true, } = {}) {\n        const type = prefix ? `${prefix}:${eventName}` : eventName;\n        const event = new CustomEvent(type, { detail, bubbles, cancelable });\n        target.dispatchEvent(event);\n        return event;\n    }\n}\nController.blessings = [\n    ClassPropertiesBlessing,\n    TargetPropertiesBlessing,\n    ValuePropertiesBlessing,\n    OutletPropertiesBlessing,\n];\nController.targets = [];\nController.outlets = [];\nController.values = {};\n\nexport { Application, AttributeObserver, Context, Controller, ElementObserver, IndexedMultimap, Multimap, SelectorObserver, StringMapObserver, TokenListObserver, ValueListObserver, add, defaultSchema, del, fetch, prune };\n","import { Controller } from \"@hotwired/stimulus\"\n\nexport default class extends Controller {\n  connect() {\n    const language = navigator.language\n    let placeholder = `IETF BCP 47 language tag. For example: ${language}`\n    let placeholderOnly = this.element.dataset[\"placeholder-only\"]\n    this.element.setAttribute(\"placeholder\", placeholder)\n    if (!placeholderOnly) {\n      if (!this.element.value && !this.element.closest(\".field.error\")) {\n        this.element.value = language\n      }\n    }\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".bundle.js\";\n};","// This function allow to reference async chunks\n__webpack_require__.miniCssF = (chunkId) => {\n\t// return url for filenames based on template\n\treturn undefined;\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript && document.currentScript.tagName.toUpperCase() === 'SCRIPT')\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/^blob:/, \"\").replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t378: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkktistec\"] = self[\"webpackChunkktistec\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","/*!\nTurbo 8.0.13\nCopyright © 2025 37signals LLC\n */\n/**\n * The MIT License (MIT)\n *\n * Copyright (c) 2019 Javan Makhmali\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n(function (prototype) {\n  if (typeof prototype.requestSubmit == \"function\") return\n\n  prototype.requestSubmit = function (submitter) {\n    if (submitter) {\n      validateSubmitter(submitter, this);\n      submitter.click();\n    } else {\n      submitter = document.createElement(\"input\");\n      submitter.type = \"submit\";\n      submitter.hidden = true;\n      this.appendChild(submitter);\n      submitter.click();\n      this.removeChild(submitter);\n    }\n  };\n\n  function validateSubmitter(submitter, form) {\n    submitter instanceof HTMLElement || raise(TypeError, \"parameter 1 is not of type 'HTMLElement'\");\n    submitter.type == \"submit\" || raise(TypeError, \"The specified element is not a submit button\");\n    submitter.form == form ||\n      raise(DOMException, \"The specified element is not owned by this form element\", \"NotFoundError\");\n  }\n\n  function raise(errorConstructor, message, name) {\n    throw new errorConstructor(\"Failed to execute 'requestSubmit' on 'HTMLFormElement': \" + message + \".\", name)\n  }\n})(HTMLFormElement.prototype);\n\nconst submittersByForm = new WeakMap();\n\nfunction findSubmitterFromClickTarget(target) {\n  const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n  const candidate = element ? element.closest(\"input, button\") : null;\n  return candidate?.type == \"submit\" ? candidate : null\n}\n\nfunction clickCaptured(event) {\n  const submitter = findSubmitterFromClickTarget(event.target);\n\n  if (submitter && submitter.form) {\n    submittersByForm.set(submitter.form, submitter);\n  }\n}\n\n(function () {\n  if (\"submitter\" in Event.prototype) return\n\n  let prototype = window.Event.prototype;\n  // Certain versions of Safari 15 have a bug where they won't\n  // populate the submitter. This hurts TurboDrive's enable/disable detection.\n  // See https://bugs.webkit.org/show_bug.cgi?id=229660\n  if (\"SubmitEvent\" in window) {\n    const prototypeOfSubmitEvent = window.SubmitEvent.prototype;\n\n    if (/Apple Computer/.test(navigator.vendor) && !(\"submitter\" in prototypeOfSubmitEvent)) {\n      prototype = prototypeOfSubmitEvent;\n    } else {\n      return // polyfill not needed\n    }\n  }\n\n  addEventListener(\"click\", clickCaptured, true);\n\n  Object.defineProperty(prototype, \"submitter\", {\n    get() {\n      if (this.type == \"submit\" && this.target instanceof HTMLFormElement) {\n        return submittersByForm.get(this.target)\n      }\n    }\n  });\n})();\n\nconst FrameLoadingStyle = {\n  eager: \"eager\",\n  lazy: \"lazy\"\n};\n\n/**\n * Contains a fragment of HTML which is updated based on navigation within\n * it (e.g. via links or form submissions).\n *\n * @customElement turbo-frame\n * @example\n *   <turbo-frame id=\"messages\">\n *     <a href=\"/messages/expanded\">\n *       Show all expanded messages in this frame.\n *     </a>\n *\n *     <form action=\"/messages\">\n *       Show response from this form within this frame.\n *     </form>\n *   </turbo-frame>\n */\nclass FrameElement extends HTMLElement {\n  static delegateConstructor = undefined\n\n  loaded = Promise.resolve()\n\n  static get observedAttributes() {\n    return [\"disabled\", \"loading\", \"src\"]\n  }\n\n  constructor() {\n    super();\n    this.delegate = new FrameElement.delegateConstructor(this);\n  }\n\n  connectedCallback() {\n    this.delegate.connect();\n  }\n\n  disconnectedCallback() {\n    this.delegate.disconnect();\n  }\n\n  reload() {\n    return this.delegate.sourceURLReloaded()\n  }\n\n  attributeChangedCallback(name) {\n    if (name == \"loading\") {\n      this.delegate.loadingStyleChanged();\n    } else if (name == \"src\") {\n      this.delegate.sourceURLChanged();\n    } else if (name == \"disabled\") {\n      this.delegate.disabledChanged();\n    }\n  }\n\n  /**\n   * Gets the URL to lazily load source HTML from\n   */\n  get src() {\n    return this.getAttribute(\"src\")\n  }\n\n  /**\n   * Sets the URL to lazily load source HTML from\n   */\n  set src(value) {\n    if (value) {\n      this.setAttribute(\"src\", value);\n    } else {\n      this.removeAttribute(\"src\");\n    }\n  }\n\n  /**\n   * Gets the refresh mode for the frame.\n   */\n  get refresh() {\n    return this.getAttribute(\"refresh\")\n  }\n\n  /**\n   * Sets the refresh mode for the frame.\n   */\n  set refresh(value) {\n    if (value) {\n      this.setAttribute(\"refresh\", value);\n    } else {\n      this.removeAttribute(\"refresh\");\n    }\n  }\n\n  get shouldReloadWithMorph() {\n    return this.src && this.refresh === \"morph\"\n  }\n\n  /**\n   * Determines if the element is loading\n   */\n  get loading() {\n    return frameLoadingStyleFromString(this.getAttribute(\"loading\") || \"\")\n  }\n\n  /**\n   * Sets the value of if the element is loading\n   */\n  set loading(value) {\n    if (value) {\n      this.setAttribute(\"loading\", value);\n    } else {\n      this.removeAttribute(\"loading\");\n    }\n  }\n\n  /**\n   * Gets the disabled state of the frame.\n   *\n   * If disabled, no requests will be intercepted by the frame.\n   */\n  get disabled() {\n    return this.hasAttribute(\"disabled\")\n  }\n\n  /**\n   * Sets the disabled state of the frame.\n   *\n   * If disabled, no requests will be intercepted by the frame.\n   */\n  set disabled(value) {\n    if (value) {\n      this.setAttribute(\"disabled\", \"\");\n    } else {\n      this.removeAttribute(\"disabled\");\n    }\n  }\n\n  /**\n   * Gets the autoscroll state of the frame.\n   *\n   * If true, the frame will be scrolled into view automatically on update.\n   */\n  get autoscroll() {\n    return this.hasAttribute(\"autoscroll\")\n  }\n\n  /**\n   * Sets the autoscroll state of the frame.\n   *\n   * If true, the frame will be scrolled into view automatically on update.\n   */\n  set autoscroll(value) {\n    if (value) {\n      this.setAttribute(\"autoscroll\", \"\");\n    } else {\n      this.removeAttribute(\"autoscroll\");\n    }\n  }\n\n  /**\n   * Determines if the element has finished loading\n   */\n  get complete() {\n    return !this.delegate.isLoading\n  }\n\n  /**\n   * Gets the active state of the frame.\n   *\n   * If inactive, source changes will not be observed.\n   */\n  get isActive() {\n    return this.ownerDocument === document && !this.isPreview\n  }\n\n  /**\n   * Sets the active state of the frame.\n   *\n   * If inactive, source changes will not be observed.\n   */\n  get isPreview() {\n    return this.ownerDocument?.documentElement?.hasAttribute(\"data-turbo-preview\")\n  }\n}\n\nfunction frameLoadingStyleFromString(style) {\n  switch (style.toLowerCase()) {\n    case \"lazy\":\n      return FrameLoadingStyle.lazy\n    default:\n      return FrameLoadingStyle.eager\n  }\n}\n\nconst drive = {\n  enabled: true,\n  progressBarDelay: 500,\n  unvisitableExtensions: new Set(\n    [\n      \".7z\", \".aac\", \".apk\", \".avi\", \".bmp\", \".bz2\", \".css\", \".csv\", \".deb\", \".dmg\", \".doc\",\n      \".docx\", \".exe\", \".gif\", \".gz\", \".heic\", \".heif\", \".ico\", \".iso\", \".jpeg\", \".jpg\",\n      \".js\", \".json\", \".m4a\", \".mkv\", \".mov\", \".mp3\", \".mp4\", \".mpeg\", \".mpg\", \".msi\",\n      \".ogg\", \".ogv\", \".pdf\", \".pkg\", \".png\", \".ppt\", \".pptx\", \".rar\", \".rtf\",\n      \".svg\", \".tar\", \".tif\", \".tiff\", \".txt\", \".wav\", \".webm\", \".webp\", \".wma\", \".wmv\",\n      \".xls\", \".xlsx\", \".xml\", \".zip\"\n    ]\n  )\n};\n\nfunction activateScriptElement(element) {\n  if (element.getAttribute(\"data-turbo-eval\") == \"false\") {\n    return element\n  } else {\n    const createdScriptElement = document.createElement(\"script\");\n    const cspNonce = getCspNonce();\n    if (cspNonce) {\n      createdScriptElement.nonce = cspNonce;\n    }\n    createdScriptElement.textContent = element.textContent;\n    createdScriptElement.async = false;\n    copyElementAttributes(createdScriptElement, element);\n    return createdScriptElement\n  }\n}\n\nfunction copyElementAttributes(destinationElement, sourceElement) {\n  for (const { name, value } of sourceElement.attributes) {\n    destinationElement.setAttribute(name, value);\n  }\n}\n\nfunction createDocumentFragment(html) {\n  const template = document.createElement(\"template\");\n  template.innerHTML = html;\n  return template.content\n}\n\nfunction dispatch(eventName, { target, cancelable, detail } = {}) {\n  const event = new CustomEvent(eventName, {\n    cancelable,\n    bubbles: true,\n    composed: true,\n    detail\n  });\n\n  if (target && target.isConnected) {\n    target.dispatchEvent(event);\n  } else {\n    document.documentElement.dispatchEvent(event);\n  }\n\n  return event\n}\n\nfunction cancelEvent(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n\nfunction nextRepaint() {\n  if (document.visibilityState === \"hidden\") {\n    return nextEventLoopTick()\n  } else {\n    return nextAnimationFrame()\n  }\n}\n\nfunction nextAnimationFrame() {\n  return new Promise((resolve) => requestAnimationFrame(() => resolve()))\n}\n\nfunction nextEventLoopTick() {\n  return new Promise((resolve) => setTimeout(() => resolve(), 0))\n}\n\nfunction nextMicrotask() {\n  return Promise.resolve()\n}\n\nfunction parseHTMLDocument(html = \"\") {\n  return new DOMParser().parseFromString(html, \"text/html\")\n}\n\nfunction unindent(strings, ...values) {\n  const lines = interpolate(strings, values).replace(/^\\n/, \"\").split(\"\\n\");\n  const match = lines[0].match(/^\\s+/);\n  const indent = match ? match[0].length : 0;\n  return lines.map((line) => line.slice(indent)).join(\"\\n\")\n}\n\nfunction interpolate(strings, values) {\n  return strings.reduce((result, string, i) => {\n    const value = values[i] == undefined ? \"\" : values[i];\n    return result + string + value\n  }, \"\")\n}\n\nfunction uuid() {\n  return Array.from({ length: 36 })\n    .map((_, i) => {\n      if (i == 8 || i == 13 || i == 18 || i == 23) {\n        return \"-\"\n      } else if (i == 14) {\n        return \"4\"\n      } else if (i == 19) {\n        return (Math.floor(Math.random() * 4) + 8).toString(16)\n      } else {\n        return Math.floor(Math.random() * 15).toString(16)\n      }\n    })\n    .join(\"\")\n}\n\nfunction getAttribute(attributeName, ...elements) {\n  for (const value of elements.map((element) => element?.getAttribute(attributeName))) {\n    if (typeof value == \"string\") return value\n  }\n\n  return null\n}\n\nfunction hasAttribute(attributeName, ...elements) {\n  return elements.some((element) => element && element.hasAttribute(attributeName))\n}\n\nfunction markAsBusy(...elements) {\n  for (const element of elements) {\n    if (element.localName == \"turbo-frame\") {\n      element.setAttribute(\"busy\", \"\");\n    }\n    element.setAttribute(\"aria-busy\", \"true\");\n  }\n}\n\nfunction clearBusyState(...elements) {\n  for (const element of elements) {\n    if (element.localName == \"turbo-frame\") {\n      element.removeAttribute(\"busy\");\n    }\n\n    element.removeAttribute(\"aria-busy\");\n  }\n}\n\nfunction waitForLoad(element, timeoutInMilliseconds = 2000) {\n  return new Promise((resolve) => {\n    const onComplete = () => {\n      element.removeEventListener(\"error\", onComplete);\n      element.removeEventListener(\"load\", onComplete);\n      resolve();\n    };\n\n    element.addEventListener(\"load\", onComplete, { once: true });\n    element.addEventListener(\"error\", onComplete, { once: true });\n    setTimeout(resolve, timeoutInMilliseconds);\n  })\n}\n\nfunction getHistoryMethodForAction(action) {\n  switch (action) {\n    case \"replace\":\n      return history.replaceState\n    case \"advance\":\n    case \"restore\":\n      return history.pushState\n  }\n}\n\nfunction isAction(action) {\n  return action == \"advance\" || action == \"replace\" || action == \"restore\"\n}\n\nfunction getVisitAction(...elements) {\n  const action = getAttribute(\"data-turbo-action\", ...elements);\n\n  return isAction(action) ? action : null\n}\n\nfunction getMetaElement(name) {\n  return document.querySelector(`meta[name=\"${name}\"]`)\n}\n\nfunction getMetaContent(name) {\n  const element = getMetaElement(name);\n  return element && element.content\n}\n\nfunction getCspNonce() {\n  const element = getMetaElement(\"csp-nonce\");\n\n  if (element) {\n    const { nonce, content } = element;\n    return nonce == \"\" ? content : nonce\n  }\n}\n\nfunction setMetaContent(name, content) {\n  let element = getMetaElement(name);\n\n  if (!element) {\n    element = document.createElement(\"meta\");\n    element.setAttribute(\"name\", name);\n\n    document.head.appendChild(element);\n  }\n\n  element.setAttribute(\"content\", content);\n\n  return element\n}\n\nfunction findClosestRecursively(element, selector) {\n  if (element instanceof Element) {\n    return (\n      element.closest(selector) || findClosestRecursively(element.assignedSlot || element.getRootNode()?.host, selector)\n    )\n  }\n}\n\nfunction elementIsFocusable(element) {\n  const inertDisabledOrHidden = \"[inert], :disabled, [hidden], details:not([open]), dialog:not([open])\";\n\n  return !!element && element.closest(inertDisabledOrHidden) == null && typeof element.focus == \"function\"\n}\n\nfunction queryAutofocusableElement(elementOrDocumentFragment) {\n  return Array.from(elementOrDocumentFragment.querySelectorAll(\"[autofocus]\")).find(elementIsFocusable)\n}\n\nasync function around(callback, reader) {\n  const before = reader();\n\n  callback();\n\n  await nextAnimationFrame();\n\n  const after = reader();\n\n  return [before, after]\n}\n\nfunction doesNotTargetIFrame(name) {\n  if (name === \"_blank\") {\n    return false\n  } else if (name) {\n    for (const element of document.getElementsByName(name)) {\n      if (element instanceof HTMLIFrameElement) return false\n    }\n\n    return true\n  } else {\n    return true\n  }\n}\n\nfunction findLinkFromClickTarget(target) {\n  return findClosestRecursively(target, \"a[href]:not([target^=_]):not([download])\")\n}\n\nfunction getLocationForLink(link) {\n  return expandURL(link.getAttribute(\"href\") || \"\")\n}\n\nfunction debounce(fn, delay) {\n  let timeoutId = null;\n\n  return (...args) => {\n    const callback = () => fn.apply(this, args);\n    clearTimeout(timeoutId);\n    timeoutId = setTimeout(callback, delay);\n  }\n}\n\nconst submitter = {\n  \"aria-disabled\": {\n    beforeSubmit: submitter => {\n      submitter.setAttribute(\"aria-disabled\", \"true\");\n      submitter.addEventListener(\"click\", cancelEvent);\n    },\n\n    afterSubmit: submitter => {\n      submitter.removeAttribute(\"aria-disabled\");\n      submitter.removeEventListener(\"click\", cancelEvent);\n    }\n  },\n\n  \"disabled\": {\n    beforeSubmit: submitter => submitter.disabled = true,\n    afterSubmit: submitter => submitter.disabled = false\n  }\n};\n\nclass Config {\n  #submitter = null\n\n  constructor(config) {\n    Object.assign(this, config);\n  }\n\n  get submitter() {\n    return this.#submitter\n  }\n\n  set submitter(value) {\n    this.#submitter = submitter[value] || value;\n  }\n}\n\nconst forms = new Config({\n  mode: \"on\",\n  submitter: \"disabled\"\n});\n\nconst config = {\n  drive,\n  forms\n};\n\nfunction expandURL(locatable) {\n  return new URL(locatable.toString(), document.baseURI)\n}\n\nfunction getAnchor(url) {\n  let anchorMatch;\n  if (url.hash) {\n    return url.hash.slice(1)\n    // eslint-disable-next-line no-cond-assign\n  } else if ((anchorMatch = url.href.match(/#(.*)$/))) {\n    return anchorMatch[1]\n  }\n}\n\nfunction getAction$1(form, submitter) {\n  const action = submitter?.getAttribute(\"formaction\") || form.getAttribute(\"action\") || form.action;\n\n  return expandURL(action)\n}\n\nfunction getExtension(url) {\n  return (getLastPathComponent(url).match(/\\.[^.]*$/) || [])[0] || \"\"\n}\n\nfunction isPrefixedBy(baseURL, url) {\n  const prefix = getPrefix(url);\n  return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix)\n}\n\nfunction locationIsVisitable(location, rootLocation) {\n  return isPrefixedBy(location, rootLocation) && !config.drive.unvisitableExtensions.has(getExtension(location))\n}\n\nfunction getRequestURL(url) {\n  const anchor = getAnchor(url);\n  return anchor != null ? url.href.slice(0, -(anchor.length + 1)) : url.href\n}\n\nfunction toCacheKey(url) {\n  return getRequestURL(url)\n}\n\nfunction urlsAreEqual(left, right) {\n  return expandURL(left).href == expandURL(right).href\n}\n\nfunction getPathComponents(url) {\n  return url.pathname.split(\"/\").slice(1)\n}\n\nfunction getLastPathComponent(url) {\n  return getPathComponents(url).slice(-1)[0]\n}\n\nfunction getPrefix(url) {\n  return addTrailingSlash(url.origin + url.pathname)\n}\n\nfunction addTrailingSlash(value) {\n  return value.endsWith(\"/\") ? value : value + \"/\"\n}\n\nclass FetchResponse {\n  constructor(response) {\n    this.response = response;\n  }\n\n  get succeeded() {\n    return this.response.ok\n  }\n\n  get failed() {\n    return !this.succeeded\n  }\n\n  get clientError() {\n    return this.statusCode >= 400 && this.statusCode <= 499\n  }\n\n  get serverError() {\n    return this.statusCode >= 500 && this.statusCode <= 599\n  }\n\n  get redirected() {\n    return this.response.redirected\n  }\n\n  get location() {\n    return expandURL(this.response.url)\n  }\n\n  get isHTML() {\n    return this.contentType && this.contentType.match(/^(?:text\\/([^\\s;,]+\\b)?html|application\\/xhtml\\+xml)\\b/)\n  }\n\n  get statusCode() {\n    return this.response.status\n  }\n\n  get contentType() {\n    return this.header(\"Content-Type\")\n  }\n\n  get responseText() {\n    return this.response.clone().text()\n  }\n\n  get responseHTML() {\n    if (this.isHTML) {\n      return this.response.clone().text()\n    } else {\n      return Promise.resolve(undefined)\n    }\n  }\n\n  header(name) {\n    return this.response.headers.get(name)\n  }\n}\n\nclass LimitedSet extends Set {\n  constructor(maxSize) {\n    super();\n    this.maxSize = maxSize;\n  }\n\n  add(value) {\n    if (this.size >= this.maxSize) {\n      const iterator = this.values();\n      const oldestValue = iterator.next().value;\n      this.delete(oldestValue);\n    }\n    super.add(value);\n  }\n}\n\nconst recentRequests = new LimitedSet(20);\n\nconst nativeFetch = window.fetch;\n\nfunction fetchWithTurboHeaders(url, options = {}) {\n  const modifiedHeaders = new Headers(options.headers || {});\n  const requestUID = uuid();\n  recentRequests.add(requestUID);\n  modifiedHeaders.append(\"X-Turbo-Request-Id\", requestUID);\n\n  return nativeFetch(url, {\n    ...options,\n    headers: modifiedHeaders\n  })\n}\n\nfunction fetchMethodFromString(method) {\n  switch (method.toLowerCase()) {\n    case \"get\":\n      return FetchMethod.get\n    case \"post\":\n      return FetchMethod.post\n    case \"put\":\n      return FetchMethod.put\n    case \"patch\":\n      return FetchMethod.patch\n    case \"delete\":\n      return FetchMethod.delete\n  }\n}\n\nconst FetchMethod = {\n  get: \"get\",\n  post: \"post\",\n  put: \"put\",\n  patch: \"patch\",\n  delete: \"delete\"\n};\n\nfunction fetchEnctypeFromString(encoding) {\n  switch (encoding.toLowerCase()) {\n    case FetchEnctype.multipart:\n      return FetchEnctype.multipart\n    case FetchEnctype.plain:\n      return FetchEnctype.plain\n    default:\n      return FetchEnctype.urlEncoded\n  }\n}\n\nconst FetchEnctype = {\n  urlEncoded: \"application/x-www-form-urlencoded\",\n  multipart: \"multipart/form-data\",\n  plain: \"text/plain\"\n};\n\nclass FetchRequest {\n  abortController = new AbortController()\n  #resolveRequestPromise = (_value) => {}\n\n  constructor(delegate, method, location, requestBody = new URLSearchParams(), target = null, enctype = FetchEnctype.urlEncoded) {\n    const [url, body] = buildResourceAndBody(expandURL(location), method, requestBody, enctype);\n\n    this.delegate = delegate;\n    this.url = url;\n    this.target = target;\n    this.fetchOptions = {\n      credentials: \"same-origin\",\n      redirect: \"follow\",\n      method: method.toUpperCase(),\n      headers: { ...this.defaultHeaders },\n      body: body,\n      signal: this.abortSignal,\n      referrer: this.delegate.referrer?.href\n    };\n    this.enctype = enctype;\n  }\n\n  get method() {\n    return this.fetchOptions.method\n  }\n\n  set method(value) {\n    const fetchBody = this.isSafe ? this.url.searchParams : this.fetchOptions.body || new FormData();\n    const fetchMethod = fetchMethodFromString(value) || FetchMethod.get;\n\n    this.url.search = \"\";\n\n    const [url, body] = buildResourceAndBody(this.url, fetchMethod, fetchBody, this.enctype);\n\n    this.url = url;\n    this.fetchOptions.body = body;\n    this.fetchOptions.method = fetchMethod.toUpperCase();\n  }\n\n  get headers() {\n    return this.fetchOptions.headers\n  }\n\n  set headers(value) {\n    this.fetchOptions.headers = value;\n  }\n\n  get body() {\n    if (this.isSafe) {\n      return this.url.searchParams\n    } else {\n      return this.fetchOptions.body\n    }\n  }\n\n  set body(value) {\n    this.fetchOptions.body = value;\n  }\n\n  get location() {\n    return this.url\n  }\n\n  get params() {\n    return this.url.searchParams\n  }\n\n  get entries() {\n    return this.body ? Array.from(this.body.entries()) : []\n  }\n\n  cancel() {\n    this.abortController.abort();\n  }\n\n  async perform() {\n    const { fetchOptions } = this;\n    this.delegate.prepareRequest(this);\n    const event = await this.#allowRequestToBeIntercepted(fetchOptions);\n    try {\n      this.delegate.requestStarted(this);\n\n      if (event.detail.fetchRequest) {\n        this.response = event.detail.fetchRequest.response;\n      } else {\n        this.response = fetchWithTurboHeaders(this.url.href, fetchOptions);\n      }\n\n      const response = await this.response;\n      return await this.receive(response)\n    } catch (error) {\n      if (error.name !== \"AbortError\") {\n        if (this.#willDelegateErrorHandling(error)) {\n          this.delegate.requestErrored(this, error);\n        }\n        throw error\n      }\n    } finally {\n      this.delegate.requestFinished(this);\n    }\n  }\n\n  async receive(response) {\n    const fetchResponse = new FetchResponse(response);\n    const event = dispatch(\"turbo:before-fetch-response\", {\n      cancelable: true,\n      detail: { fetchResponse },\n      target: this.target\n    });\n    if (event.defaultPrevented) {\n      this.delegate.requestPreventedHandlingResponse(this, fetchResponse);\n    } else if (fetchResponse.succeeded) {\n      this.delegate.requestSucceededWithResponse(this, fetchResponse);\n    } else {\n      this.delegate.requestFailedWithResponse(this, fetchResponse);\n    }\n    return fetchResponse\n  }\n\n  get defaultHeaders() {\n    return {\n      Accept: \"text/html, application/xhtml+xml\"\n    }\n  }\n\n  get isSafe() {\n    return isSafe(this.method)\n  }\n\n  get abortSignal() {\n    return this.abortController.signal\n  }\n\n  acceptResponseType(mimeType) {\n    this.headers[\"Accept\"] = [mimeType, this.headers[\"Accept\"]].join(\", \");\n  }\n\n  async #allowRequestToBeIntercepted(fetchOptions) {\n    const requestInterception = new Promise((resolve) => (this.#resolveRequestPromise = resolve));\n    const event = dispatch(\"turbo:before-fetch-request\", {\n      cancelable: true,\n      detail: {\n        fetchOptions,\n        url: this.url,\n        resume: this.#resolveRequestPromise\n      },\n      target: this.target\n    });\n    this.url = event.detail.url;\n    if (event.defaultPrevented) await requestInterception;\n\n    return event\n  }\n\n  #willDelegateErrorHandling(error) {\n    const event = dispatch(\"turbo:fetch-request-error\", {\n      target: this.target,\n      cancelable: true,\n      detail: { request: this, error: error }\n    });\n\n    return !event.defaultPrevented\n  }\n}\n\nfunction isSafe(fetchMethod) {\n  return fetchMethodFromString(fetchMethod) == FetchMethod.get\n}\n\nfunction buildResourceAndBody(resource, method, requestBody, enctype) {\n  const searchParams =\n    Array.from(requestBody).length > 0 ? new URLSearchParams(entriesExcludingFiles(requestBody)) : resource.searchParams;\n\n  if (isSafe(method)) {\n    return [mergeIntoURLSearchParams(resource, searchParams), null]\n  } else if (enctype == FetchEnctype.urlEncoded) {\n    return [resource, searchParams]\n  } else {\n    return [resource, requestBody]\n  }\n}\n\nfunction entriesExcludingFiles(requestBody) {\n  const entries = [];\n\n  for (const [name, value] of requestBody) {\n    if (value instanceof File) continue\n    else entries.push([name, value]);\n  }\n\n  return entries\n}\n\nfunction mergeIntoURLSearchParams(url, requestBody) {\n  const searchParams = new URLSearchParams(entriesExcludingFiles(requestBody));\n\n  url.search = searchParams.toString();\n\n  return url\n}\n\nclass AppearanceObserver {\n  started = false\n\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n    this.intersectionObserver = new IntersectionObserver(this.intersect);\n  }\n\n  start() {\n    if (!this.started) {\n      this.started = true;\n      this.intersectionObserver.observe(this.element);\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false;\n      this.intersectionObserver.unobserve(this.element);\n    }\n  }\n\n  intersect = (entries) => {\n    const lastEntry = entries.slice(-1)[0];\n    if (lastEntry?.isIntersecting) {\n      this.delegate.elementAppearedInViewport(this.element);\n    }\n  }\n}\n\nclass StreamMessage {\n  static contentType = \"text/vnd.turbo-stream.html\"\n\n  static wrap(message) {\n    if (typeof message == \"string\") {\n      return new this(createDocumentFragment(message))\n    } else {\n      return message\n    }\n  }\n\n  constructor(fragment) {\n    this.fragment = importStreamElements(fragment);\n  }\n}\n\nfunction importStreamElements(fragment) {\n  for (const element of fragment.querySelectorAll(\"turbo-stream\")) {\n    const streamElement = document.importNode(element, true);\n\n    for (const inertScriptElement of streamElement.templateElement.content.querySelectorAll(\"script\")) {\n      inertScriptElement.replaceWith(activateScriptElement(inertScriptElement));\n    }\n\n    element.replaceWith(streamElement);\n  }\n\n  return fragment\n}\n\nconst PREFETCH_DELAY = 100;\n\nclass PrefetchCache {\n  #prefetchTimeout = null\n  #prefetched = null\n\n  get(url) {\n    if (this.#prefetched && this.#prefetched.url === url && this.#prefetched.expire > Date.now()) {\n      return this.#prefetched.request\n    }\n  }\n\n  setLater(url, request, ttl) {\n    this.clear();\n\n    this.#prefetchTimeout = setTimeout(() => {\n      request.perform();\n      this.set(url, request, ttl);\n      this.#prefetchTimeout = null;\n    }, PREFETCH_DELAY);\n  }\n\n  set(url, request, ttl) {\n    this.#prefetched = { url, request, expire: new Date(new Date().getTime() + ttl) };\n  }\n\n  clear() {\n    if (this.#prefetchTimeout) clearTimeout(this.#prefetchTimeout);\n    this.#prefetched = null;\n  }\n}\n\nconst cacheTtl = 10 * 1000;\nconst prefetchCache = new PrefetchCache();\n\nconst FormSubmissionState = {\n  initialized: \"initialized\",\n  requesting: \"requesting\",\n  waiting: \"waiting\",\n  receiving: \"receiving\",\n  stopping: \"stopping\",\n  stopped: \"stopped\"\n};\n\nclass FormSubmission {\n  state = FormSubmissionState.initialized\n\n  static confirmMethod(message) {\n    return Promise.resolve(confirm(message))\n  }\n\n  constructor(delegate, formElement, submitter, mustRedirect = false) {\n    const method = getMethod(formElement, submitter);\n    const action = getAction(getFormAction(formElement, submitter), method);\n    const body = buildFormData(formElement, submitter);\n    const enctype = getEnctype(formElement, submitter);\n\n    this.delegate = delegate;\n    this.formElement = formElement;\n    this.submitter = submitter;\n    this.fetchRequest = new FetchRequest(this, method, action, body, formElement, enctype);\n    this.mustRedirect = mustRedirect;\n  }\n\n  get method() {\n    return this.fetchRequest.method\n  }\n\n  set method(value) {\n    this.fetchRequest.method = value;\n  }\n\n  get action() {\n    return this.fetchRequest.url.toString()\n  }\n\n  set action(value) {\n    this.fetchRequest.url = expandURL(value);\n  }\n\n  get body() {\n    return this.fetchRequest.body\n  }\n\n  get enctype() {\n    return this.fetchRequest.enctype\n  }\n\n  get isSafe() {\n    return this.fetchRequest.isSafe\n  }\n\n  get location() {\n    return this.fetchRequest.url\n  }\n\n  // The submission process\n\n  async start() {\n    const { initialized, requesting } = FormSubmissionState;\n    const confirmationMessage = getAttribute(\"data-turbo-confirm\", this.submitter, this.formElement);\n\n    if (typeof confirmationMessage === \"string\") {\n      const confirmMethod = typeof config.forms.confirm === \"function\" ?\n        config.forms.confirm :\n        FormSubmission.confirmMethod;\n\n      const answer = await confirmMethod(confirmationMessage, this.formElement, this.submitter);\n      if (!answer) {\n        return\n      }\n    }\n\n    if (this.state == initialized) {\n      this.state = requesting;\n      return this.fetchRequest.perform()\n    }\n  }\n\n  stop() {\n    const { stopping, stopped } = FormSubmissionState;\n    if (this.state != stopping && this.state != stopped) {\n      this.state = stopping;\n      this.fetchRequest.cancel();\n      return true\n    }\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    if (!request.isSafe) {\n      const token = getCookieValue(getMetaContent(\"csrf-param\")) || getMetaContent(\"csrf-token\");\n      if (token) {\n        request.headers[\"X-CSRF-Token\"] = token;\n      }\n    }\n\n    if (this.requestAcceptsTurboStreamResponse(request)) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted(_request) {\n    this.state = FormSubmissionState.waiting;\n    if (this.submitter) config.forms.submitter.beforeSubmit(this.submitter);\n    this.setSubmitsWith();\n    markAsBusy(this.formElement);\n    dispatch(\"turbo:submit-start\", {\n      target: this.formElement,\n      detail: { formSubmission: this }\n    });\n    this.delegate.formSubmissionStarted(this);\n  }\n\n  requestPreventedHandlingResponse(request, response) {\n    prefetchCache.clear();\n\n    this.result = { success: response.succeeded, fetchResponse: response };\n  }\n\n  requestSucceededWithResponse(request, response) {\n    if (response.clientError || response.serverError) {\n      this.delegate.formSubmissionFailedWithResponse(this, response);\n      return\n    }\n\n    prefetchCache.clear();\n\n    if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {\n      const error = new Error(\"Form responses must redirect to another location\");\n      this.delegate.formSubmissionErrored(this, error);\n    } else {\n      this.state = FormSubmissionState.receiving;\n      this.result = { success: true, fetchResponse: response };\n      this.delegate.formSubmissionSucceededWithResponse(this, response);\n    }\n  }\n\n  requestFailedWithResponse(request, response) {\n    this.result = { success: false, fetchResponse: response };\n    this.delegate.formSubmissionFailedWithResponse(this, response);\n  }\n\n  requestErrored(request, error) {\n    this.result = { success: false, error };\n    this.delegate.formSubmissionErrored(this, error);\n  }\n\n  requestFinished(_request) {\n    this.state = FormSubmissionState.stopped;\n    if (this.submitter) config.forms.submitter.afterSubmit(this.submitter);\n    this.resetSubmitterText();\n    clearBusyState(this.formElement);\n    dispatch(\"turbo:submit-end\", {\n      target: this.formElement,\n      detail: { formSubmission: this, ...this.result }\n    });\n    this.delegate.formSubmissionFinished(this);\n  }\n\n  // Private\n\n  setSubmitsWith() {\n    if (!this.submitter || !this.submitsWith) return\n\n    if (this.submitter.matches(\"button\")) {\n      this.originalSubmitText = this.submitter.innerHTML;\n      this.submitter.innerHTML = this.submitsWith;\n    } else if (this.submitter.matches(\"input\")) {\n      const input = this.submitter;\n      this.originalSubmitText = input.value;\n      input.value = this.submitsWith;\n    }\n  }\n\n  resetSubmitterText() {\n    if (!this.submitter || !this.originalSubmitText) return\n\n    if (this.submitter.matches(\"button\")) {\n      this.submitter.innerHTML = this.originalSubmitText;\n    } else if (this.submitter.matches(\"input\")) {\n      const input = this.submitter;\n      input.value = this.originalSubmitText;\n    }\n  }\n\n  requestMustRedirect(request) {\n    return !request.isSafe && this.mustRedirect\n  }\n\n  requestAcceptsTurboStreamResponse(request) {\n    return !request.isSafe || hasAttribute(\"data-turbo-stream\", this.submitter, this.formElement)\n  }\n\n  get submitsWith() {\n    return this.submitter?.getAttribute(\"data-turbo-submits-with\")\n  }\n}\n\nfunction buildFormData(formElement, submitter) {\n  const formData = new FormData(formElement);\n  const name = submitter?.getAttribute(\"name\");\n  const value = submitter?.getAttribute(\"value\");\n\n  if (name) {\n    formData.append(name, value || \"\");\n  }\n\n  return formData\n}\n\nfunction getCookieValue(cookieName) {\n  if (cookieName != null) {\n    const cookies = document.cookie ? document.cookie.split(\"; \") : [];\n    const cookie = cookies.find((cookie) => cookie.startsWith(cookieName));\n    if (cookie) {\n      const value = cookie.split(\"=\").slice(1).join(\"=\");\n      return value ? decodeURIComponent(value) : undefined\n    }\n  }\n}\n\nfunction responseSucceededWithoutRedirect(response) {\n  return response.statusCode == 200 && !response.redirected\n}\n\nfunction getFormAction(formElement, submitter) {\n  const formElementAction = typeof formElement.action === \"string\" ? formElement.action : null;\n\n  if (submitter?.hasAttribute(\"formaction\")) {\n    return submitter.getAttribute(\"formaction\") || \"\"\n  } else {\n    return formElement.getAttribute(\"action\") || formElementAction || \"\"\n  }\n}\n\nfunction getAction(formAction, fetchMethod) {\n  const action = expandURL(formAction);\n\n  if (isSafe(fetchMethod)) {\n    action.search = \"\";\n  }\n\n  return action\n}\n\nfunction getMethod(formElement, submitter) {\n  const method = submitter?.getAttribute(\"formmethod\") || formElement.getAttribute(\"method\") || \"\";\n  return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get\n}\n\nfunction getEnctype(formElement, submitter) {\n  return fetchEnctypeFromString(submitter?.getAttribute(\"formenctype\") || formElement.enctype)\n}\n\nclass Snapshot {\n  constructor(element) {\n    this.element = element;\n  }\n\n  get activeElement() {\n    return this.element.ownerDocument.activeElement\n  }\n\n  get children() {\n    return [...this.element.children]\n  }\n\n  hasAnchor(anchor) {\n    return this.getElementForAnchor(anchor) != null\n  }\n\n  getElementForAnchor(anchor) {\n    return anchor ? this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`) : null\n  }\n\n  get isConnected() {\n    return this.element.isConnected\n  }\n\n  get firstAutofocusableElement() {\n    return queryAutofocusableElement(this.element)\n  }\n\n  get permanentElements() {\n    return queryPermanentElementsAll(this.element)\n  }\n\n  getPermanentElementById(id) {\n    return getPermanentElementById(this.element, id)\n  }\n\n  getPermanentElementMapForSnapshot(snapshot) {\n    const permanentElementMap = {};\n\n    for (const currentPermanentElement of this.permanentElements) {\n      const { id } = currentPermanentElement;\n      const newPermanentElement = snapshot.getPermanentElementById(id);\n      if (newPermanentElement) {\n        permanentElementMap[id] = [currentPermanentElement, newPermanentElement];\n      }\n    }\n\n    return permanentElementMap\n  }\n}\n\nfunction getPermanentElementById(node, id) {\n  return node.querySelector(`#${id}[data-turbo-permanent]`)\n}\n\nfunction queryPermanentElementsAll(node) {\n  return node.querySelectorAll(\"[id][data-turbo-permanent]\")\n}\n\nclass FormSubmitObserver {\n  started = false\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (!this.started) {\n      this.eventTarget.addEventListener(\"submit\", this.submitCaptured, true);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.eventTarget.removeEventListener(\"submit\", this.submitCaptured, true);\n      this.started = false;\n    }\n  }\n\n  submitCaptured = () => {\n    this.eventTarget.removeEventListener(\"submit\", this.submitBubbled, false);\n    this.eventTarget.addEventListener(\"submit\", this.submitBubbled, false);\n  }\n\n  submitBubbled = (event) => {\n    if (!event.defaultPrevented) {\n      const form = event.target instanceof HTMLFormElement ? event.target : undefined;\n      const submitter = event.submitter || undefined;\n\n      if (\n        form &&\n        submissionDoesNotDismissDialog(form, submitter) &&\n        submissionDoesNotTargetIFrame(form, submitter) &&\n        this.delegate.willSubmitForm(form, submitter)\n      ) {\n        event.preventDefault();\n        event.stopImmediatePropagation();\n        this.delegate.formSubmitted(form, submitter);\n      }\n    }\n  }\n}\n\nfunction submissionDoesNotDismissDialog(form, submitter) {\n  const method = submitter?.getAttribute(\"formmethod\") || form.getAttribute(\"method\");\n\n  return method != \"dialog\"\n}\n\nfunction submissionDoesNotTargetIFrame(form, submitter) {\n  const target = submitter?.getAttribute(\"formtarget\") || form.getAttribute(\"target\");\n\n  return doesNotTargetIFrame(target)\n}\n\nclass View {\n  #resolveRenderPromise = (_value) => {}\n  #resolveInterceptionPromise = (_value) => {}\n\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n  }\n\n  // Scrolling\n\n  scrollToAnchor(anchor) {\n    const element = this.snapshot.getElementForAnchor(anchor);\n    if (element) {\n      this.scrollToElement(element);\n      this.focusElement(element);\n    } else {\n      this.scrollToPosition({ x: 0, y: 0 });\n    }\n  }\n\n  scrollToAnchorFromLocation(location) {\n    this.scrollToAnchor(getAnchor(location));\n  }\n\n  scrollToElement(element) {\n    element.scrollIntoView();\n  }\n\n  focusElement(element) {\n    if (element instanceof HTMLElement) {\n      if (element.hasAttribute(\"tabindex\")) {\n        element.focus();\n      } else {\n        element.setAttribute(\"tabindex\", \"-1\");\n        element.focus();\n        element.removeAttribute(\"tabindex\");\n      }\n    }\n  }\n\n  scrollToPosition({ x, y }) {\n    this.scrollRoot.scrollTo(x, y);\n  }\n\n  scrollToTop() {\n    this.scrollToPosition({ x: 0, y: 0 });\n  }\n\n  get scrollRoot() {\n    return window\n  }\n\n  // Rendering\n\n  async render(renderer) {\n    const { isPreview, shouldRender, willRender, newSnapshot: snapshot } = renderer;\n\n    // A workaround to ignore tracked element mismatch reloads when performing\n    // a promoted Visit from a frame navigation\n    const shouldInvalidate = willRender;\n\n    if (shouldRender) {\n      try {\n        this.renderPromise = new Promise((resolve) => (this.#resolveRenderPromise = resolve));\n        this.renderer = renderer;\n        await this.prepareToRenderSnapshot(renderer);\n\n        const renderInterception = new Promise((resolve) => (this.#resolveInterceptionPromise = resolve));\n        const options = { resume: this.#resolveInterceptionPromise, render: this.renderer.renderElement, renderMethod: this.renderer.renderMethod };\n        const immediateRender = this.delegate.allowsImmediateRender(snapshot, options);\n        if (!immediateRender) await renderInterception;\n\n        await this.renderSnapshot(renderer);\n        this.delegate.viewRenderedSnapshot(snapshot, isPreview, this.renderer.renderMethod);\n        this.delegate.preloadOnLoadLinksForView(this.element);\n        this.finishRenderingSnapshot(renderer);\n      } finally {\n        delete this.renderer;\n        this.#resolveRenderPromise(undefined);\n        delete this.renderPromise;\n      }\n    } else if (shouldInvalidate) {\n      this.invalidate(renderer.reloadReason);\n    }\n  }\n\n  invalidate(reason) {\n    this.delegate.viewInvalidated(reason);\n  }\n\n  async prepareToRenderSnapshot(renderer) {\n    this.markAsPreview(renderer.isPreview);\n    await renderer.prepareToRender();\n  }\n\n  markAsPreview(isPreview) {\n    if (isPreview) {\n      this.element.setAttribute(\"data-turbo-preview\", \"\");\n    } else {\n      this.element.removeAttribute(\"data-turbo-preview\");\n    }\n  }\n\n  markVisitDirection(direction) {\n    this.element.setAttribute(\"data-turbo-visit-direction\", direction);\n  }\n\n  unmarkVisitDirection() {\n    this.element.removeAttribute(\"data-turbo-visit-direction\");\n  }\n\n  async renderSnapshot(renderer) {\n    await renderer.render();\n  }\n\n  finishRenderingSnapshot(renderer) {\n    renderer.finishRendering();\n  }\n}\n\nclass FrameView extends View {\n  missing() {\n    this.element.innerHTML = `<strong class=\"turbo-frame-error\">Content missing</strong>`;\n  }\n\n  get snapshot() {\n    return new Snapshot(this.element)\n  }\n}\n\nclass LinkInterceptor {\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.element = element;\n  }\n\n  start() {\n    this.element.addEventListener(\"click\", this.clickBubbled);\n    document.addEventListener(\"turbo:click\", this.linkClicked);\n    document.addEventListener(\"turbo:before-visit\", this.willVisit);\n  }\n\n  stop() {\n    this.element.removeEventListener(\"click\", this.clickBubbled);\n    document.removeEventListener(\"turbo:click\", this.linkClicked);\n    document.removeEventListener(\"turbo:before-visit\", this.willVisit);\n  }\n\n  clickBubbled = (event) => {\n    if (this.clickEventIsSignificant(event)) {\n      this.clickEvent = event;\n    } else {\n      delete this.clickEvent;\n    }\n  }\n\n  linkClicked = (event) => {\n    if (this.clickEvent && this.clickEventIsSignificant(event)) {\n      if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url, event.detail.originalEvent)) {\n        this.clickEvent.preventDefault();\n        event.preventDefault();\n        this.delegate.linkClickIntercepted(event.target, event.detail.url, event.detail.originalEvent);\n      }\n    }\n    delete this.clickEvent;\n  }\n\n  willVisit = (_event) => {\n    delete this.clickEvent;\n  }\n\n  clickEventIsSignificant(event) {\n    const target = event.composed ? event.target?.parentElement : event.target;\n    const element = findLinkFromClickTarget(target) || target;\n\n    return element instanceof Element && element.closest(\"turbo-frame, html\") == this.element\n  }\n}\n\nclass LinkClickObserver {\n  started = false\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (!this.started) {\n      this.eventTarget.addEventListener(\"click\", this.clickCaptured, true);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.eventTarget.removeEventListener(\"click\", this.clickCaptured, true);\n      this.started = false;\n    }\n  }\n\n  clickCaptured = () => {\n    this.eventTarget.removeEventListener(\"click\", this.clickBubbled, false);\n    this.eventTarget.addEventListener(\"click\", this.clickBubbled, false);\n  }\n\n  clickBubbled = (event) => {\n    if (event instanceof MouseEvent && this.clickEventIsSignificant(event)) {\n      const target = (event.composedPath && event.composedPath()[0]) || event.target;\n      const link = findLinkFromClickTarget(target);\n      if (link && doesNotTargetIFrame(link.target)) {\n        const location = getLocationForLink(link);\n        if (this.delegate.willFollowLinkToLocation(link, location, event)) {\n          event.preventDefault();\n          this.delegate.followedLinkToLocation(link, location);\n        }\n      }\n    }\n  }\n\n  clickEventIsSignificant(event) {\n    return !(\n      (event.target && event.target.isContentEditable) ||\n      event.defaultPrevented ||\n      event.which > 1 ||\n      event.altKey ||\n      event.ctrlKey ||\n      event.metaKey ||\n      event.shiftKey\n    )\n  }\n}\n\nclass FormLinkClickObserver {\n  constructor(delegate, element) {\n    this.delegate = delegate;\n    this.linkInterceptor = new LinkClickObserver(this, element);\n  }\n\n  start() {\n    this.linkInterceptor.start();\n  }\n\n  stop() {\n    this.linkInterceptor.stop();\n  }\n\n  // Link hover observer delegate\n\n  canPrefetchRequestToLocation(link, location) {\n    return false\n  }\n\n  prefetchAndCacheRequestToLocation(link, location) {\n    return\n  }\n\n  // Link click observer delegate\n\n  willFollowLinkToLocation(link, location, originalEvent) {\n    return (\n      this.delegate.willSubmitFormLinkToLocation(link, location, originalEvent) &&\n      (link.hasAttribute(\"data-turbo-method\") || link.hasAttribute(\"data-turbo-stream\"))\n    )\n  }\n\n  followedLinkToLocation(link, location) {\n    const form = document.createElement(\"form\");\n\n    const type = \"hidden\";\n    for (const [name, value] of location.searchParams) {\n      form.append(Object.assign(document.createElement(\"input\"), { type, name, value }));\n    }\n\n    const action = Object.assign(location, { search: \"\" });\n    form.setAttribute(\"data-turbo\", \"true\");\n    form.setAttribute(\"action\", action.href);\n    form.setAttribute(\"hidden\", \"\");\n\n    const method = link.getAttribute(\"data-turbo-method\");\n    if (method) form.setAttribute(\"method\", method);\n\n    const turboFrame = link.getAttribute(\"data-turbo-frame\");\n    if (turboFrame) form.setAttribute(\"data-turbo-frame\", turboFrame);\n\n    const turboAction = getVisitAction(link);\n    if (turboAction) form.setAttribute(\"data-turbo-action\", turboAction);\n\n    const turboConfirm = link.getAttribute(\"data-turbo-confirm\");\n    if (turboConfirm) form.setAttribute(\"data-turbo-confirm\", turboConfirm);\n\n    const turboStream = link.hasAttribute(\"data-turbo-stream\");\n    if (turboStream) form.setAttribute(\"data-turbo-stream\", \"\");\n\n    this.delegate.submittedFormLinkToLocation(link, location, form);\n\n    document.body.appendChild(form);\n    form.addEventListener(\"turbo:submit-end\", () => form.remove(), { once: true });\n    requestAnimationFrame(() => form.requestSubmit());\n  }\n}\n\nclass Bardo {\n  static async preservingPermanentElements(delegate, permanentElementMap, callback) {\n    const bardo = new this(delegate, permanentElementMap);\n    bardo.enter();\n    await callback();\n    bardo.leave();\n  }\n\n  constructor(delegate, permanentElementMap) {\n    this.delegate = delegate;\n    this.permanentElementMap = permanentElementMap;\n  }\n\n  enter() {\n    for (const id in this.permanentElementMap) {\n      const [currentPermanentElement, newPermanentElement] = this.permanentElementMap[id];\n      this.delegate.enteringBardo(currentPermanentElement, newPermanentElement);\n      this.replaceNewPermanentElementWithPlaceholder(newPermanentElement);\n    }\n  }\n\n  leave() {\n    for (const id in this.permanentElementMap) {\n      const [currentPermanentElement] = this.permanentElementMap[id];\n      this.replaceCurrentPermanentElementWithClone(currentPermanentElement);\n      this.replacePlaceholderWithPermanentElement(currentPermanentElement);\n      this.delegate.leavingBardo(currentPermanentElement);\n    }\n  }\n\n  replaceNewPermanentElementWithPlaceholder(permanentElement) {\n    const placeholder = createPlaceholderForPermanentElement(permanentElement);\n    permanentElement.replaceWith(placeholder);\n  }\n\n  replaceCurrentPermanentElementWithClone(permanentElement) {\n    const clone = permanentElement.cloneNode(true);\n    permanentElement.replaceWith(clone);\n  }\n\n  replacePlaceholderWithPermanentElement(permanentElement) {\n    const placeholder = this.getPlaceholderById(permanentElement.id);\n    placeholder?.replaceWith(permanentElement);\n  }\n\n  getPlaceholderById(id) {\n    return this.placeholders.find((element) => element.content == id)\n  }\n\n  get placeholders() {\n    return [...document.querySelectorAll(\"meta[name=turbo-permanent-placeholder][content]\")]\n  }\n}\n\nfunction createPlaceholderForPermanentElement(permanentElement) {\n  const element = document.createElement(\"meta\");\n  element.setAttribute(\"name\", \"turbo-permanent-placeholder\");\n  element.setAttribute(\"content\", permanentElement.id);\n  return element\n}\n\nclass Renderer {\n  #activeElement = null\n\n  static renderElement(currentElement, newElement) {\n    // Abstract method\n  }\n\n  constructor(currentSnapshot, newSnapshot, isPreview, willRender = true) {\n    this.currentSnapshot = currentSnapshot;\n    this.newSnapshot = newSnapshot;\n    this.isPreview = isPreview;\n    this.willRender = willRender;\n    this.renderElement = this.constructor.renderElement;\n    this.promise = new Promise((resolve, reject) => (this.resolvingFunctions = { resolve, reject }));\n  }\n\n  get shouldRender() {\n    return true\n  }\n\n  get shouldAutofocus() {\n    return true\n  }\n\n  get reloadReason() {\n    return\n  }\n\n  prepareToRender() {\n    return\n  }\n\n  render() {\n    // Abstract method\n  }\n\n  finishRendering() {\n    if (this.resolvingFunctions) {\n      this.resolvingFunctions.resolve();\n      delete this.resolvingFunctions;\n    }\n  }\n\n  async preservingPermanentElements(callback) {\n    await Bardo.preservingPermanentElements(this, this.permanentElementMap, callback);\n  }\n\n  focusFirstAutofocusableElement() {\n    if (this.shouldAutofocus) {\n      const element = this.connectedSnapshot.firstAutofocusableElement;\n      if (element) {\n        element.focus();\n      }\n    }\n  }\n\n  // Bardo delegate\n\n  enteringBardo(currentPermanentElement) {\n    if (this.#activeElement) return\n\n    if (currentPermanentElement.contains(this.currentSnapshot.activeElement)) {\n      this.#activeElement = this.currentSnapshot.activeElement;\n    }\n  }\n\n  leavingBardo(currentPermanentElement) {\n    if (currentPermanentElement.contains(this.#activeElement) && this.#activeElement instanceof HTMLElement) {\n      this.#activeElement.focus();\n\n      this.#activeElement = null;\n    }\n  }\n\n  get connectedSnapshot() {\n    return this.newSnapshot.isConnected ? this.newSnapshot : this.currentSnapshot\n  }\n\n  get currentElement() {\n    return this.currentSnapshot.element\n  }\n\n  get newElement() {\n    return this.newSnapshot.element\n  }\n\n  get permanentElementMap() {\n    return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)\n  }\n\n  get renderMethod() {\n    return \"replace\"\n  }\n}\n\nclass FrameRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    const destinationRange = document.createRange();\n    destinationRange.selectNodeContents(currentElement);\n    destinationRange.deleteContents();\n\n    const frameElement = newElement;\n    const sourceRange = frameElement.ownerDocument?.createRange();\n    if (sourceRange) {\n      sourceRange.selectNodeContents(frameElement);\n      currentElement.appendChild(sourceRange.extractContents());\n    }\n  }\n\n  constructor(delegate, currentSnapshot, newSnapshot, renderElement, isPreview, willRender = true) {\n    super(currentSnapshot, newSnapshot, renderElement, isPreview, willRender);\n    this.delegate = delegate;\n  }\n\n  get shouldRender() {\n    return true\n  }\n\n  async render() {\n    await nextRepaint();\n    this.preservingPermanentElements(() => {\n      this.loadFrameElement();\n    });\n    this.scrollFrameIntoView();\n    await nextRepaint();\n    this.focusFirstAutofocusableElement();\n    await nextRepaint();\n    this.activateScriptElements();\n  }\n\n  loadFrameElement() {\n    this.delegate.willRenderFrame(this.currentElement, this.newElement);\n    this.renderElement(this.currentElement, this.newElement);\n  }\n\n  scrollFrameIntoView() {\n    if (this.currentElement.autoscroll || this.newElement.autoscroll) {\n      const element = this.currentElement.firstElementChild;\n      const block = readScrollLogicalPosition(this.currentElement.getAttribute(\"data-autoscroll-block\"), \"end\");\n      const behavior = readScrollBehavior(this.currentElement.getAttribute(\"data-autoscroll-behavior\"), \"auto\");\n\n      if (element) {\n        element.scrollIntoView({ block, behavior });\n        return true\n      }\n    }\n    return false\n  }\n\n  activateScriptElements() {\n    for (const inertScriptElement of this.newScriptElements) {\n      const activatedScriptElement = activateScriptElement(inertScriptElement);\n      inertScriptElement.replaceWith(activatedScriptElement);\n    }\n  }\n\n  get newScriptElements() {\n    return this.currentElement.querySelectorAll(\"script\")\n  }\n}\n\nfunction readScrollLogicalPosition(value, defaultValue) {\n  if (value == \"end\" || value == \"start\" || value == \"center\" || value == \"nearest\") {\n    return value\n  } else {\n    return defaultValue\n  }\n}\n\nfunction readScrollBehavior(value, defaultValue) {\n  if (value == \"auto\" || value == \"smooth\") {\n    return value\n  } else {\n    return defaultValue\n  }\n}\n\n/**\n * @typedef {object} ConfigHead\n *\n * @property {'merge' | 'append' | 'morph' | 'none'} [style]\n * @property {boolean} [block]\n * @property {boolean} [ignore]\n * @property {function(Element): boolean} [shouldPreserve]\n * @property {function(Element): boolean} [shouldReAppend]\n * @property {function(Element): boolean} [shouldRemove]\n * @property {function(Element, {added: Node[], kept: Element[], removed: Element[]}): void} [afterHeadMorphed]\n */\n\n/**\n * @typedef {object} ConfigCallbacks\n *\n * @property {function(Node): boolean} [beforeNodeAdded]\n * @property {function(Node): void} [afterNodeAdded]\n * @property {function(Element, Node): boolean} [beforeNodeMorphed]\n * @property {function(Element, Node): void} [afterNodeMorphed]\n * @property {function(Element): boolean} [beforeNodeRemoved]\n * @property {function(Element): void} [afterNodeRemoved]\n * @property {function(string, Element, \"update\" | \"remove\"): boolean} [beforeAttributeUpdated]\n */\n\n/**\n * @typedef {object} Config\n *\n * @property {'outerHTML' | 'innerHTML'} [morphStyle]\n * @property {boolean} [ignoreActive]\n * @property {boolean} [ignoreActiveValue]\n * @property {boolean} [restoreFocus]\n * @property {ConfigCallbacks} [callbacks]\n * @property {ConfigHead} [head]\n */\n\n/**\n * @typedef {function} NoOp\n *\n * @returns {void}\n */\n\n/**\n * @typedef {object} ConfigHeadInternal\n *\n * @property {'merge' | 'append' | 'morph' | 'none'} style\n * @property {boolean} [block]\n * @property {boolean} [ignore]\n * @property {(function(Element): boolean) | NoOp} shouldPreserve\n * @property {(function(Element): boolean) | NoOp} shouldReAppend\n * @property {(function(Element): boolean) | NoOp} shouldRemove\n * @property {(function(Element, {added: Node[], kept: Element[], removed: Element[]}): void) | NoOp} afterHeadMorphed\n */\n\n/**\n * @typedef {object} ConfigCallbacksInternal\n *\n * @property {(function(Node): boolean) | NoOp} beforeNodeAdded\n * @property {(function(Node): void) | NoOp} afterNodeAdded\n * @property {(function(Node, Node): boolean) | NoOp} beforeNodeMorphed\n * @property {(function(Node, Node): void) | NoOp} afterNodeMorphed\n * @property {(function(Node): boolean) | NoOp} beforeNodeRemoved\n * @property {(function(Node): void) | NoOp} afterNodeRemoved\n * @property {(function(string, Element, \"update\" | \"remove\"): boolean) | NoOp} beforeAttributeUpdated\n */\n\n/**\n * @typedef {object} ConfigInternal\n *\n * @property {'outerHTML' | 'innerHTML'} morphStyle\n * @property {boolean} [ignoreActive]\n * @property {boolean} [ignoreActiveValue]\n * @property {boolean} [restoreFocus]\n * @property {ConfigCallbacksInternal} callbacks\n * @property {ConfigHeadInternal} head\n */\n\n/**\n * @typedef {Object} IdSets\n * @property {Set<string>} persistentIds\n * @property {Map<Node, Set<string>>} idMap\n */\n\n/**\n * @typedef {Function} Morph\n *\n * @param {Element | Document} oldNode\n * @param {Element | Node | HTMLCollection | Node[] | string | null} newContent\n * @param {Config} [config]\n * @returns {undefined | Node[]}\n */\n\n// base IIFE to define idiomorph\n/**\n *\n * @type {{defaults: ConfigInternal, morph: Morph}}\n */\nvar Idiomorph = (function () {\n\n  /**\n   * @typedef {object} MorphContext\n   *\n   * @property {Element} target\n   * @property {Element} newContent\n   * @property {ConfigInternal} config\n   * @property {ConfigInternal['morphStyle']} morphStyle\n   * @property {ConfigInternal['ignoreActive']} ignoreActive\n   * @property {ConfigInternal['ignoreActiveValue']} ignoreActiveValue\n   * @property {ConfigInternal['restoreFocus']} restoreFocus\n   * @property {Map<Node, Set<string>>} idMap\n   * @property {Set<string>} persistentIds\n   * @property {ConfigInternal['callbacks']} callbacks\n   * @property {ConfigInternal['head']} head\n   * @property {HTMLDivElement} pantry\n   */\n\n  //=============================================================================\n  // AND NOW IT BEGINS...\n  //=============================================================================\n\n  const noOp = () => {};\n  /**\n   * Default configuration values, updatable by users now\n   * @type {ConfigInternal}\n   */\n  const defaults = {\n    morphStyle: \"outerHTML\",\n    callbacks: {\n      beforeNodeAdded: noOp,\n      afterNodeAdded: noOp,\n      beforeNodeMorphed: noOp,\n      afterNodeMorphed: noOp,\n      beforeNodeRemoved: noOp,\n      afterNodeRemoved: noOp,\n      beforeAttributeUpdated: noOp,\n    },\n    head: {\n      style: \"merge\",\n      shouldPreserve: (elt) => elt.getAttribute(\"im-preserve\") === \"true\",\n      shouldReAppend: (elt) => elt.getAttribute(\"im-re-append\") === \"true\",\n      shouldRemove: noOp,\n      afterHeadMorphed: noOp,\n    },\n    restoreFocus: true,\n  };\n\n  /**\n   * Core idiomorph function for morphing one DOM tree to another\n   *\n   * @param {Element | Document} oldNode\n   * @param {Element | Node | HTMLCollection | Node[] | string | null} newContent\n   * @param {Config} [config]\n   * @returns {Promise<Node[]> | Node[]}\n   */\n  function morph(oldNode, newContent, config = {}) {\n    oldNode = normalizeElement(oldNode);\n    const newNode = normalizeParent(newContent);\n    const ctx = createMorphContext(oldNode, newNode, config);\n\n    const morphedNodes = saveAndRestoreFocus(ctx, () => {\n      return withHeadBlocking(\n        ctx,\n        oldNode,\n        newNode,\n        /** @param {MorphContext} ctx */ (ctx) => {\n          if (ctx.morphStyle === \"innerHTML\") {\n            morphChildren(ctx, oldNode, newNode);\n            return Array.from(oldNode.childNodes);\n          } else {\n            return morphOuterHTML(ctx, oldNode, newNode);\n          }\n        },\n      );\n    });\n\n    ctx.pantry.remove();\n    return morphedNodes;\n  }\n\n  /**\n   * Morph just the outerHTML of the oldNode to the newContent\n   * We have to be careful because the oldNode could have siblings which need to be untouched\n   * @param {MorphContext} ctx\n   * @param {Element} oldNode\n   * @param {Element} newNode\n   * @returns {Node[]}\n   */\n  function morphOuterHTML(ctx, oldNode, newNode) {\n    const oldParent = normalizeParent(oldNode);\n\n    // basis for calulating which nodes were morphed\n    // since there may be unmorphed sibling nodes\n    let childNodes = Array.from(oldParent.childNodes);\n    const index = childNodes.indexOf(oldNode);\n    // how many elements are to the right of the oldNode\n    const rightMargin = childNodes.length - (index + 1);\n\n    morphChildren(\n      ctx,\n      oldParent,\n      newNode,\n      // these two optional params are the secret sauce\n      oldNode, // start point for iteration\n      oldNode.nextSibling, // end point for iteration\n    );\n\n    // return just the morphed nodes\n    childNodes = Array.from(oldParent.childNodes);\n    return childNodes.slice(index, childNodes.length - rightMargin);\n  }\n\n  /**\n   * @param {MorphContext} ctx\n   * @param {Function} fn\n   * @returns {Promise<Node[]> | Node[]}\n   */\n  function saveAndRestoreFocus(ctx, fn) {\n    if (!ctx.config.restoreFocus) return fn();\n    let activeElement =\n      /** @type {HTMLInputElement|HTMLTextAreaElement|null} */ (\n        document.activeElement\n      );\n\n    // don't bother if the active element is not an input or textarea\n    if (\n      !(\n        activeElement instanceof HTMLInputElement ||\n        activeElement instanceof HTMLTextAreaElement\n      )\n    ) {\n      return fn();\n    }\n\n    const { id: activeElementId, selectionStart, selectionEnd } = activeElement;\n\n    const results = fn();\n\n    if (activeElementId && activeElementId !== document.activeElement?.id) {\n      activeElement = ctx.target.querySelector(`#${activeElementId}`);\n      activeElement?.focus();\n    }\n    if (activeElement && !activeElement.selectionEnd && selectionEnd) {\n      activeElement.setSelectionRange(selectionStart, selectionEnd);\n    }\n\n    return results;\n  }\n\n  const morphChildren = (function () {\n    /**\n     * This is the core algorithm for matching up children.  The idea is to use id sets to try to match up\n     * nodes as faithfully as possible.  We greedily match, which allows us to keep the algorithm fast, but\n     * by using id sets, we are able to better match up with content deeper in the DOM.\n     *\n     * Basic algorithm:\n     * - for each node in the new content:\n     *   - search self and siblings for an id set match, falling back to a soft match\n     *   - if match found\n     *     - remove any nodes up to the match:\n     *       - pantry persistent nodes\n     *       - delete the rest\n     *     - morph the match\n     *   - elsif no match found, and node is persistent\n     *     - find its match by querying the old root (future) and pantry (past)\n     *     - move it and its children here\n     *     - morph it\n     *   - else\n     *     - create a new node from scratch as a last result\n     *\n     * @param {MorphContext} ctx the merge context\n     * @param {Element} oldParent the old content that we are merging the new content into\n     * @param {Element} newParent the parent element of the new content\n     * @param {Node|null} [insertionPoint] the point in the DOM we start morphing at (defaults to first child)\n     * @param {Node|null} [endPoint] the point in the DOM we stop morphing at (defaults to after last child)\n     */\n    function morphChildren(\n      ctx,\n      oldParent,\n      newParent,\n      insertionPoint = null,\n      endPoint = null,\n    ) {\n      // normalize\n      if (\n        oldParent instanceof HTMLTemplateElement &&\n        newParent instanceof HTMLTemplateElement\n      ) {\n        // @ts-ignore we can pretend the DocumentFragment is an Element\n        oldParent = oldParent.content;\n        // @ts-ignore ditto\n        newParent = newParent.content;\n      }\n      insertionPoint ||= oldParent.firstChild;\n\n      // run through all the new content\n      for (const newChild of newParent.childNodes) {\n        // once we reach the end of the old parent content skip to the end and insert the rest\n        if (insertionPoint && insertionPoint != endPoint) {\n          const bestMatch = findBestMatch(\n            ctx,\n            newChild,\n            insertionPoint,\n            endPoint,\n          );\n          if (bestMatch) {\n            // if the node to morph is not at the insertion point then remove/move up to it\n            if (bestMatch !== insertionPoint) {\n              removeNodesBetween(ctx, insertionPoint, bestMatch);\n            }\n            morphNode(bestMatch, newChild, ctx);\n            insertionPoint = bestMatch.nextSibling;\n            continue;\n          }\n        }\n\n        // if the matching node is elsewhere in the original content\n        if (newChild instanceof Element && ctx.persistentIds.has(newChild.id)) {\n          // move it and all its children here and morph\n          const movedChild = moveBeforeById(\n            oldParent,\n            newChild.id,\n            insertionPoint,\n            ctx,\n          );\n          morphNode(movedChild, newChild, ctx);\n          insertionPoint = movedChild.nextSibling;\n          continue;\n        }\n\n        // last resort: insert the new node from scratch\n        const insertedNode = createNode(\n          oldParent,\n          newChild,\n          insertionPoint,\n          ctx,\n        );\n        // could be null if beforeNodeAdded prevented insertion\n        if (insertedNode) {\n          insertionPoint = insertedNode.nextSibling;\n        }\n      }\n\n      // remove any remaining old nodes that didn't match up with new content\n      while (insertionPoint && insertionPoint != endPoint) {\n        const tempNode = insertionPoint;\n        insertionPoint = insertionPoint.nextSibling;\n        removeNode(ctx, tempNode);\n      }\n    }\n\n    /**\n     * This performs the action of inserting a new node while handling situations where the node contains\n     * elements with persistent ids and possible state info we can still preserve by moving in and then morphing\n     *\n     * @param {Element} oldParent\n     * @param {Node} newChild\n     * @param {Node|null} insertionPoint\n     * @param {MorphContext} ctx\n     * @returns {Node|null}\n     */\n    function createNode(oldParent, newChild, insertionPoint, ctx) {\n      if (ctx.callbacks.beforeNodeAdded(newChild) === false) return null;\n      if (ctx.idMap.has(newChild)) {\n        // node has children with ids with possible state so create a dummy elt of same type and apply full morph algorithm\n        const newEmptyChild = document.createElement(\n          /** @type {Element} */ (newChild).tagName,\n        );\n        oldParent.insertBefore(newEmptyChild, insertionPoint);\n        morphNode(newEmptyChild, newChild, ctx);\n        ctx.callbacks.afterNodeAdded(newEmptyChild);\n        return newEmptyChild;\n      } else {\n        // optimisation: no id state to preserve so we can just insert a clone of the newChild and its descendants\n        const newClonedChild = document.importNode(newChild, true); // importNode to not mutate newParent\n        oldParent.insertBefore(newClonedChild, insertionPoint);\n        ctx.callbacks.afterNodeAdded(newClonedChild);\n        return newClonedChild;\n      }\n    }\n\n    //=============================================================================\n    // Matching Functions\n    //=============================================================================\n    const findBestMatch = (function () {\n      /**\n       * Scans forward from the startPoint to the endPoint looking for a match\n       * for the node. It looks for an id set match first, then a soft match.\n       * We abort softmatching if we find two future soft matches, to reduce churn.\n       * @param {Node} node\n       * @param {MorphContext} ctx\n       * @param {Node | null} startPoint\n       * @param {Node | null} endPoint\n       * @returns {Node | null}\n       */\n      function findBestMatch(ctx, node, startPoint, endPoint) {\n        let softMatch = null;\n        let nextSibling = node.nextSibling;\n        let siblingSoftMatchCount = 0;\n\n        let cursor = startPoint;\n        while (cursor && cursor != endPoint) {\n          // soft matching is a prerequisite for id set matching\n          if (isSoftMatch(cursor, node)) {\n            if (isIdSetMatch(ctx, cursor, node)) {\n              return cursor; // found an id set match, we're done!\n            }\n\n            // we haven't yet saved a soft match fallback\n            if (softMatch === null) {\n              // the current soft match will hard match something else in the future, leave it\n              if (!ctx.idMap.has(cursor)) {\n                // save this as the fallback if we get through the loop without finding a hard match\n                softMatch = cursor;\n              }\n            }\n          }\n          if (\n            softMatch === null &&\n            nextSibling &&\n            isSoftMatch(cursor, nextSibling)\n          ) {\n            // The next new node has a soft match with this node, so\n            // increment the count of future soft matches\n            siblingSoftMatchCount++;\n            nextSibling = nextSibling.nextSibling;\n\n            // If there are two future soft matches, block soft matching for this node to allow\n            // future siblings to soft match. This is to reduce churn in the DOM when an element\n            // is prepended.\n            if (siblingSoftMatchCount >= 2) {\n              softMatch = undefined;\n            }\n          }\n\n          // if the current node contains active element, stop looking for better future matches,\n          // because if one is found, this node will be moved to the pantry, reparenting it and thus losing focus\n          if (cursor.contains(document.activeElement)) break;\n\n          cursor = cursor.nextSibling;\n        }\n\n        return softMatch || null;\n      }\n\n      /**\n       *\n       * @param {MorphContext} ctx\n       * @param {Node} oldNode\n       * @param {Node} newNode\n       * @returns {boolean}\n       */\n      function isIdSetMatch(ctx, oldNode, newNode) {\n        let oldSet = ctx.idMap.get(oldNode);\n        let newSet = ctx.idMap.get(newNode);\n\n        if (!newSet || !oldSet) return false;\n\n        for (const id of oldSet) {\n          // a potential match is an id in the new and old nodes that\n          // has not already been merged into the DOM\n          // But the newNode content we call this on has not been\n          // merged yet and we don't allow duplicate IDs so it is simple\n          if (newSet.has(id)) {\n            return true;\n          }\n        }\n        return false;\n      }\n\n      /**\n       *\n       * @param {Node} oldNode\n       * @param {Node} newNode\n       * @returns {boolean}\n       */\n      function isSoftMatch(oldNode, newNode) {\n        // ok to cast: if one is not element, `id` and `tagName` will be undefined and we'll just compare that.\n        const oldElt = /** @type {Element} */ (oldNode);\n        const newElt = /** @type {Element} */ (newNode);\n\n        return (\n          oldElt.nodeType === newElt.nodeType &&\n          oldElt.tagName === newElt.tagName &&\n          // If oldElt has an `id` with possible state and it doesn't match newElt.id then avoid morphing.\n          // We'll still match an anonymous node with an IDed newElt, though, because if it got this far,\n          // its not persistent, and new nodes can't have any hidden state.\n          (!oldElt.id || oldElt.id === newElt.id)\n        );\n      }\n\n      return findBestMatch;\n    })();\n\n    //=============================================================================\n    // DOM Manipulation Functions\n    //=============================================================================\n\n    /**\n     * Gets rid of an unwanted DOM node; strategy depends on nature of its reuse:\n     * - Persistent nodes will be moved to the pantry for later reuse\n     * - Other nodes will have their hooks called, and then are removed\n     * @param {MorphContext} ctx\n     * @param {Node} node\n     */\n    function removeNode(ctx, node) {\n      // are we going to id set match this later?\n      if (ctx.idMap.has(node)) {\n        // skip callbacks and move to pantry\n        moveBefore(ctx.pantry, node, null);\n      } else {\n        // remove for realsies\n        if (ctx.callbacks.beforeNodeRemoved(node) === false) return;\n        node.parentNode?.removeChild(node);\n        ctx.callbacks.afterNodeRemoved(node);\n      }\n    }\n\n    /**\n     * Remove nodes between the start and end nodes\n     * @param {MorphContext} ctx\n     * @param {Node} startInclusive\n     * @param {Node} endExclusive\n     * @returns {Node|null}\n     */\n    function removeNodesBetween(ctx, startInclusive, endExclusive) {\n      /** @type {Node | null} */\n      let cursor = startInclusive;\n      // remove nodes until the endExclusive node\n      while (cursor && cursor !== endExclusive) {\n        let tempNode = /** @type {Node} */ (cursor);\n        cursor = cursor.nextSibling;\n        removeNode(ctx, tempNode);\n      }\n      return cursor;\n    }\n\n    /**\n     * Search for an element by id within the document and pantry, and move it using moveBefore.\n     *\n     * @param {Element} parentNode - The parent node to which the element will be moved.\n     * @param {string} id - The ID of the element to be moved.\n     * @param {Node | null} after - The reference node to insert the element before.\n     *                              If `null`, the element is appended as the last child.\n     * @param {MorphContext} ctx\n     * @returns {Element} The found element\n     */\n    function moveBeforeById(parentNode, id, after, ctx) {\n      const target =\n        /** @type {Element} - will always be found */\n        (\n          ctx.target.querySelector(`#${id}`) ||\n            ctx.pantry.querySelector(`#${id}`)\n        );\n      removeElementFromAncestorsIdMaps(target, ctx);\n      moveBefore(parentNode, target, after);\n      return target;\n    }\n\n    /**\n     * Removes an element from its ancestors' id maps. This is needed when an element is moved from the\n     * \"future\" via `moveBeforeId`. Otherwise, its erstwhile ancestors could be mistakenly moved to the\n     * pantry rather than being deleted, preventing their removal hooks from being called.\n     *\n     * @param {Element} element - element to remove from its ancestors' id maps\n     * @param {MorphContext} ctx\n     */\n    function removeElementFromAncestorsIdMaps(element, ctx) {\n      const id = element.id;\n      /** @ts-ignore - safe to loop in this way **/\n      while ((element = element.parentNode)) {\n        let idSet = ctx.idMap.get(element);\n        if (idSet) {\n          idSet.delete(id);\n          if (!idSet.size) {\n            ctx.idMap.delete(element);\n          }\n        }\n      }\n    }\n\n    /**\n     * Moves an element before another element within the same parent.\n     * Uses the proposed `moveBefore` API if available (and working), otherwise falls back to `insertBefore`.\n     * This is essentialy a forward-compat wrapper.\n     *\n     * @param {Element} parentNode - The parent node containing the after element.\n     * @param {Node} element - The element to be moved.\n     * @param {Node | null} after - The reference node to insert `element` before.\n     *                              If `null`, `element` is appended as the last child.\n     */\n    function moveBefore(parentNode, element, after) {\n      // @ts-ignore - use proposed moveBefore feature\n      if (parentNode.moveBefore) {\n        try {\n          // @ts-ignore - use proposed moveBefore feature\n          parentNode.moveBefore(element, after);\n        } catch (e) {\n          // fall back to insertBefore as some browsers may fail on moveBefore when trying to move Dom disconnected nodes to pantry\n          parentNode.insertBefore(element, after);\n        }\n      } else {\n        parentNode.insertBefore(element, after);\n      }\n    }\n\n    return morphChildren;\n  })();\n\n  //=============================================================================\n  // Single Node Morphing Code\n  //=============================================================================\n  const morphNode = (function () {\n    /**\n     * @param {Node} oldNode root node to merge content into\n     * @param {Node} newContent new content to merge\n     * @param {MorphContext} ctx the merge context\n     * @returns {Node | null} the element that ended up in the DOM\n     */\n    function morphNode(oldNode, newContent, ctx) {\n      if (ctx.ignoreActive && oldNode === document.activeElement) {\n        // don't morph focused element\n        return null;\n      }\n\n      if (ctx.callbacks.beforeNodeMorphed(oldNode, newContent) === false) {\n        return oldNode;\n      }\n\n      if (oldNode instanceof HTMLHeadElement && ctx.head.ignore) ; else if (\n        oldNode instanceof HTMLHeadElement &&\n        ctx.head.style !== \"morph\"\n      ) {\n        // ok to cast: if newContent wasn't also a <head>, it would've got caught in the `!isSoftMatch` branch above\n        handleHeadElement(\n          oldNode,\n          /** @type {HTMLHeadElement} */ (newContent),\n          ctx,\n        );\n      } else {\n        morphAttributes(oldNode, newContent, ctx);\n        if (!ignoreValueOfActiveElement(oldNode, ctx)) {\n          // @ts-ignore newContent can be a node here because .firstChild will be null\n          morphChildren(ctx, oldNode, newContent);\n        }\n      }\n      ctx.callbacks.afterNodeMorphed(oldNode, newContent);\n      return oldNode;\n    }\n\n    /**\n     * syncs the oldNode to the newNode, copying over all attributes and\n     * inner element state from the newNode to the oldNode\n     *\n     * @param {Node} oldNode the node to copy attributes & state to\n     * @param {Node} newNode the node to copy attributes & state from\n     * @param {MorphContext} ctx the merge context\n     */\n    function morphAttributes(oldNode, newNode, ctx) {\n      let type = newNode.nodeType;\n\n      // if is an element type, sync the attributes from the\n      // new node into the new node\n      if (type === 1 /* element type */) {\n        const oldElt = /** @type {Element} */ (oldNode);\n        const newElt = /** @type {Element} */ (newNode);\n\n        const oldAttributes = oldElt.attributes;\n        const newAttributes = newElt.attributes;\n        for (const newAttribute of newAttributes) {\n          if (ignoreAttribute(newAttribute.name, oldElt, \"update\", ctx)) {\n            continue;\n          }\n          if (oldElt.getAttribute(newAttribute.name) !== newAttribute.value) {\n            oldElt.setAttribute(newAttribute.name, newAttribute.value);\n          }\n        }\n        // iterate backwards to avoid skipping over items when a delete occurs\n        for (let i = oldAttributes.length - 1; 0 <= i; i--) {\n          const oldAttribute = oldAttributes[i];\n\n          // toAttributes is a live NamedNodeMap, so iteration+mutation is unsafe\n          // e.g. custom element attribute callbacks can remove other attributes\n          if (!oldAttribute) continue;\n\n          if (!newElt.hasAttribute(oldAttribute.name)) {\n            if (ignoreAttribute(oldAttribute.name, oldElt, \"remove\", ctx)) {\n              continue;\n            }\n            oldElt.removeAttribute(oldAttribute.name);\n          }\n        }\n\n        if (!ignoreValueOfActiveElement(oldElt, ctx)) {\n          syncInputValue(oldElt, newElt, ctx);\n        }\n      }\n\n      // sync text nodes\n      if (type === 8 /* comment */ || type === 3 /* text */) {\n        if (oldNode.nodeValue !== newNode.nodeValue) {\n          oldNode.nodeValue = newNode.nodeValue;\n        }\n      }\n    }\n\n    /**\n     * NB: many bothans died to bring us information:\n     *\n     *  https://github.com/patrick-steele-idem/morphdom/blob/master/src/specialElHandlers.js\n     *  https://github.com/choojs/nanomorph/blob/master/lib/morph.jsL113\n     *\n     * @param {Element} oldElement the element to sync the input value to\n     * @param {Element} newElement the element to sync the input value from\n     * @param {MorphContext} ctx the merge context\n     */\n    function syncInputValue(oldElement, newElement, ctx) {\n      if (\n        oldElement instanceof HTMLInputElement &&\n        newElement instanceof HTMLInputElement &&\n        newElement.type !== \"file\"\n      ) {\n        let newValue = newElement.value;\n        let oldValue = oldElement.value;\n\n        // sync boolean attributes\n        syncBooleanAttribute(oldElement, newElement, \"checked\", ctx);\n        syncBooleanAttribute(oldElement, newElement, \"disabled\", ctx);\n\n        if (!newElement.hasAttribute(\"value\")) {\n          if (!ignoreAttribute(\"value\", oldElement, \"remove\", ctx)) {\n            oldElement.value = \"\";\n            oldElement.removeAttribute(\"value\");\n          }\n        } else if (oldValue !== newValue) {\n          if (!ignoreAttribute(\"value\", oldElement, \"update\", ctx)) {\n            oldElement.setAttribute(\"value\", newValue);\n            oldElement.value = newValue;\n          }\n        }\n        // TODO: QUESTION(1cg): this used to only check `newElement` unlike the other branches -- why?\n        // did I break something?\n      } else if (\n        oldElement instanceof HTMLOptionElement &&\n        newElement instanceof HTMLOptionElement\n      ) {\n        syncBooleanAttribute(oldElement, newElement, \"selected\", ctx);\n      } else if (\n        oldElement instanceof HTMLTextAreaElement &&\n        newElement instanceof HTMLTextAreaElement\n      ) {\n        let newValue = newElement.value;\n        let oldValue = oldElement.value;\n        if (ignoreAttribute(\"value\", oldElement, \"update\", ctx)) {\n          return;\n        }\n        if (newValue !== oldValue) {\n          oldElement.value = newValue;\n        }\n        if (\n          oldElement.firstChild &&\n          oldElement.firstChild.nodeValue !== newValue\n        ) {\n          oldElement.firstChild.nodeValue = newValue;\n        }\n      }\n    }\n\n    /**\n     * @param {Element} oldElement element to write the value to\n     * @param {Element} newElement element to read the value from\n     * @param {string} attributeName the attribute name\n     * @param {MorphContext} ctx the merge context\n     */\n    function syncBooleanAttribute(oldElement, newElement, attributeName, ctx) {\n      // @ts-ignore this function is only used on boolean attrs that are reflected as dom properties\n      const newLiveValue = newElement[attributeName],\n        // @ts-ignore ditto\n        oldLiveValue = oldElement[attributeName];\n      if (newLiveValue !== oldLiveValue) {\n        const ignoreUpdate = ignoreAttribute(\n          attributeName,\n          oldElement,\n          \"update\",\n          ctx,\n        );\n        if (!ignoreUpdate) {\n          // update attribute's associated DOM property\n          // @ts-ignore this function is only used on boolean attrs that are reflected as dom properties\n          oldElement[attributeName] = newElement[attributeName];\n        }\n        if (newLiveValue) {\n          if (!ignoreUpdate) {\n            // https://developer.mozilla.org/en-US/docs/Glossary/Boolean/HTML\n            // this is the correct way to set a boolean attribute to \"true\"\n            oldElement.setAttribute(attributeName, \"\");\n          }\n        } else {\n          if (!ignoreAttribute(attributeName, oldElement, \"remove\", ctx)) {\n            oldElement.removeAttribute(attributeName);\n          }\n        }\n      }\n    }\n\n    /**\n     * @param {string} attr the attribute to be mutated\n     * @param {Element} element the element that is going to be updated\n     * @param {\"update\" | \"remove\"} updateType\n     * @param {MorphContext} ctx the merge context\n     * @returns {boolean} true if the attribute should be ignored, false otherwise\n     */\n    function ignoreAttribute(attr, element, updateType, ctx) {\n      if (\n        attr === \"value\" &&\n        ctx.ignoreActiveValue &&\n        element === document.activeElement\n      ) {\n        return true;\n      }\n      return (\n        ctx.callbacks.beforeAttributeUpdated(attr, element, updateType) ===\n        false\n      );\n    }\n\n    /**\n     * @param {Node} possibleActiveElement\n     * @param {MorphContext} ctx\n     * @returns {boolean}\n     */\n    function ignoreValueOfActiveElement(possibleActiveElement, ctx) {\n      return (\n        !!ctx.ignoreActiveValue &&\n        possibleActiveElement === document.activeElement &&\n        possibleActiveElement !== document.body\n      );\n    }\n\n    return morphNode;\n  })();\n\n  //=============================================================================\n  // Head Management Functions\n  //=============================================================================\n  /**\n   * @param {MorphContext} ctx\n   * @param {Element} oldNode\n   * @param {Element} newNode\n   * @param {function} callback\n   * @returns {Node[] | Promise<Node[]>}\n   */\n  function withHeadBlocking(ctx, oldNode, newNode, callback) {\n    if (ctx.head.block) {\n      const oldHead = oldNode.querySelector(\"head\");\n      const newHead = newNode.querySelector(\"head\");\n      if (oldHead && newHead) {\n        const promises = handleHeadElement(oldHead, newHead, ctx);\n        // when head promises resolve, proceed ignoring the head tag\n        return Promise.all(promises).then(() => {\n          const newCtx = Object.assign(ctx, {\n            head: {\n              block: false,\n              ignore: true,\n            },\n          });\n          return callback(newCtx);\n        });\n      }\n    }\n    // just proceed if we not head blocking\n    return callback(ctx);\n  }\n\n  /**\n   *  The HEAD tag can be handled specially, either w/ a 'merge' or 'append' style\n   *\n   * @param {Element} oldHead\n   * @param {Element} newHead\n   * @param {MorphContext} ctx\n   * @returns {Promise<void>[]}\n   */\n  function handleHeadElement(oldHead, newHead, ctx) {\n    let added = [];\n    let removed = [];\n    let preserved = [];\n    let nodesToAppend = [];\n\n    // put all new head elements into a Map, by their outerHTML\n    let srcToNewHeadNodes = new Map();\n    for (const newHeadChild of newHead.children) {\n      srcToNewHeadNodes.set(newHeadChild.outerHTML, newHeadChild);\n    }\n\n    // for each elt in the current head\n    for (const currentHeadElt of oldHead.children) {\n      // If the current head element is in the map\n      let inNewContent = srcToNewHeadNodes.has(currentHeadElt.outerHTML);\n      let isReAppended = ctx.head.shouldReAppend(currentHeadElt);\n      let isPreserved = ctx.head.shouldPreserve(currentHeadElt);\n      if (inNewContent || isPreserved) {\n        if (isReAppended) {\n          // remove the current version and let the new version replace it and re-execute\n          removed.push(currentHeadElt);\n        } else {\n          // this element already exists and should not be re-appended, so remove it from\n          // the new content map, preserving it in the DOM\n          srcToNewHeadNodes.delete(currentHeadElt.outerHTML);\n          preserved.push(currentHeadElt);\n        }\n      } else {\n        if (ctx.head.style === \"append\") {\n          // we are appending and this existing element is not new content\n          // so if and only if it is marked for re-append do we do anything\n          if (isReAppended) {\n            removed.push(currentHeadElt);\n            nodesToAppend.push(currentHeadElt);\n          }\n        } else {\n          // if this is a merge, we remove this content since it is not in the new head\n          if (ctx.head.shouldRemove(currentHeadElt) !== false) {\n            removed.push(currentHeadElt);\n          }\n        }\n      }\n    }\n\n    // Push the remaining new head elements in the Map into the\n    // nodes to append to the head tag\n    nodesToAppend.push(...srcToNewHeadNodes.values());\n\n    let promises = [];\n    for (const newNode of nodesToAppend) {\n      // TODO: This could theoretically be null, based on type\n      let newElt = /** @type {ChildNode} */ (\n        document.createRange().createContextualFragment(newNode.outerHTML)\n          .firstChild\n      );\n      if (ctx.callbacks.beforeNodeAdded(newElt) !== false) {\n        if (\n          (\"href\" in newElt && newElt.href) ||\n          (\"src\" in newElt && newElt.src)\n        ) {\n          /** @type {(result?: any) => void} */ let resolve;\n          let promise = new Promise(function (_resolve) {\n            resolve = _resolve;\n          });\n          newElt.addEventListener(\"load\", function () {\n            resolve();\n          });\n          promises.push(promise);\n        }\n        oldHead.appendChild(newElt);\n        ctx.callbacks.afterNodeAdded(newElt);\n        added.push(newElt);\n      }\n    }\n\n    // remove all removed elements, after we have appended the new elements to avoid\n    // additional network requests for things like style sheets\n    for (const removedElement of removed) {\n      if (ctx.callbacks.beforeNodeRemoved(removedElement) !== false) {\n        oldHead.removeChild(removedElement);\n        ctx.callbacks.afterNodeRemoved(removedElement);\n      }\n    }\n\n    ctx.head.afterHeadMorphed(oldHead, {\n      added: added,\n      kept: preserved,\n      removed: removed,\n    });\n    return promises;\n  }\n\n  //=============================================================================\n  // Create Morph Context Functions\n  //=============================================================================\n  const createMorphContext = (function () {\n    /**\n     *\n     * @param {Element} oldNode\n     * @param {Element} newContent\n     * @param {Config} config\n     * @returns {MorphContext}\n     */\n    function createMorphContext(oldNode, newContent, config) {\n      const { persistentIds, idMap } = createIdMaps(oldNode, newContent);\n\n      const mergedConfig = mergeDefaults(config);\n      const morphStyle = mergedConfig.morphStyle || \"outerHTML\";\n      if (![\"innerHTML\", \"outerHTML\"].includes(morphStyle)) {\n        throw `Do not understand how to morph style ${morphStyle}`;\n      }\n\n      return {\n        target: oldNode,\n        newContent: newContent,\n        config: mergedConfig,\n        morphStyle: morphStyle,\n        ignoreActive: mergedConfig.ignoreActive,\n        ignoreActiveValue: mergedConfig.ignoreActiveValue,\n        restoreFocus: mergedConfig.restoreFocus,\n        idMap: idMap,\n        persistentIds: persistentIds,\n        pantry: createPantry(),\n        callbacks: mergedConfig.callbacks,\n        head: mergedConfig.head,\n      };\n    }\n\n    /**\n     * Deep merges the config object and the Idiomorph.defaults object to\n     * produce a final configuration object\n     * @param {Config} config\n     * @returns {ConfigInternal}\n     */\n    function mergeDefaults(config) {\n      let finalConfig = Object.assign({}, defaults);\n\n      // copy top level stuff into final config\n      Object.assign(finalConfig, config);\n\n      // copy callbacks into final config (do this to deep merge the callbacks)\n      finalConfig.callbacks = Object.assign(\n        {},\n        defaults.callbacks,\n        config.callbacks,\n      );\n\n      // copy head config into final config  (do this to deep merge the head)\n      finalConfig.head = Object.assign({}, defaults.head, config.head);\n\n      return finalConfig;\n    }\n\n    /**\n     * @returns {HTMLDivElement}\n     */\n    function createPantry() {\n      const pantry = document.createElement(\"div\");\n      pantry.hidden = true;\n      document.body.insertAdjacentElement(\"afterend\", pantry);\n      return pantry;\n    }\n\n    /**\n     * Returns all elements with an ID contained within the root element and its descendants\n     *\n     * @param {Element} root\n     * @returns {Element[]}\n     */\n    function findIdElements(root) {\n      let elements = Array.from(root.querySelectorAll(\"[id]\"));\n      if (root.id) {\n        elements.push(root);\n      }\n      return elements;\n    }\n\n    /**\n     * A bottom-up algorithm that populates a map of Element -> IdSet.\n     * The idSet for a given element is the set of all IDs contained within its subtree.\n     * As an optimzation, we filter these IDs through the given list of persistent IDs,\n     * because we don't need to bother considering IDed elements that won't be in the new content.\n     *\n     * @param {Map<Node, Set<string>>} idMap\n     * @param {Set<string>} persistentIds\n     * @param {Element} root\n     * @param {Element[]} elements\n     */\n    function populateIdMapWithTree(idMap, persistentIds, root, elements) {\n      for (const elt of elements) {\n        if (persistentIds.has(elt.id)) {\n          /** @type {Element|null} */\n          let current = elt;\n          // walk up the parent hierarchy of that element, adding the id\n          // of element to the parent's id set\n          while (current) {\n            let idSet = idMap.get(current);\n            // if the id set doesn't exist, create it and insert it in the map\n            if (idSet == null) {\n              idSet = new Set();\n              idMap.set(current, idSet);\n            }\n            idSet.add(elt.id);\n\n            if (current === root) break;\n            current = current.parentElement;\n          }\n        }\n      }\n    }\n\n    /**\n     * This function computes a map of nodes to all ids contained within that node (inclusive of the\n     * node).  This map can be used to ask if two nodes have intersecting sets of ids, which allows\n     * for a looser definition of \"matching\" than tradition id matching, and allows child nodes\n     * to contribute to a parent nodes matching.\n     *\n     * @param {Element} oldContent  the old content that will be morphed\n     * @param {Element} newContent  the new content to morph to\n     * @returns {IdSets}\n     */\n    function createIdMaps(oldContent, newContent) {\n      const oldIdElements = findIdElements(oldContent);\n      const newIdElements = findIdElements(newContent);\n\n      const persistentIds = createPersistentIds(oldIdElements, newIdElements);\n\n      /** @type {Map<Node, Set<string>>} */\n      let idMap = new Map();\n      populateIdMapWithTree(idMap, persistentIds, oldContent, oldIdElements);\n\n      /** @ts-ignore - if newContent is a duck-typed parent, pass its single child node as the root to halt upwards iteration */\n      const newRoot = newContent.__idiomorphRoot || newContent;\n      populateIdMapWithTree(idMap, persistentIds, newRoot, newIdElements);\n\n      return { persistentIds, idMap };\n    }\n\n    /**\n     * This function computes the set of ids that persist between the two contents excluding duplicates\n     *\n     * @param {Element[]} oldIdElements\n     * @param {Element[]} newIdElements\n     * @returns {Set<string>}\n     */\n    function createPersistentIds(oldIdElements, newIdElements) {\n      let duplicateIds = new Set();\n\n      /** @type {Map<string, string>} */\n      let oldIdTagNameMap = new Map();\n      for (const { id, tagName } of oldIdElements) {\n        if (oldIdTagNameMap.has(id)) {\n          duplicateIds.add(id);\n        } else {\n          oldIdTagNameMap.set(id, tagName);\n        }\n      }\n\n      let persistentIds = new Set();\n      for (const { id, tagName } of newIdElements) {\n        if (persistentIds.has(id)) {\n          duplicateIds.add(id);\n        } else if (oldIdTagNameMap.get(id) === tagName) {\n          persistentIds.add(id);\n        }\n        // skip if tag types mismatch because its not possible to morph one tag into another\n      }\n\n      for (const id of duplicateIds) {\n        persistentIds.delete(id);\n      }\n      return persistentIds;\n    }\n\n    return createMorphContext;\n  })();\n\n  //=============================================================================\n  // HTML Normalization Functions\n  //=============================================================================\n  const { normalizeElement, normalizeParent } = (function () {\n    /** @type {WeakSet<Node>} */\n    const generatedByIdiomorph = new WeakSet();\n\n    /**\n     *\n     * @param {Element | Document} content\n     * @returns {Element}\n     */\n    function normalizeElement(content) {\n      if (content instanceof Document) {\n        return content.documentElement;\n      } else {\n        return content;\n      }\n    }\n\n    /**\n     *\n     * @param {null | string | Node | HTMLCollection | Node[] | Document & {generatedByIdiomorph:boolean}} newContent\n     * @returns {Element}\n     */\n    function normalizeParent(newContent) {\n      if (newContent == null) {\n        return document.createElement(\"div\"); // dummy parent element\n      } else if (typeof newContent === \"string\") {\n        return normalizeParent(parseContent(newContent));\n      } else if (\n        generatedByIdiomorph.has(/** @type {Element} */ (newContent))\n      ) {\n        // the template tag created by idiomorph parsing can serve as a dummy parent\n        return /** @type {Element} */ (newContent);\n      } else if (newContent instanceof Node) {\n        if (newContent.parentNode) {\n          // we can't use the parent directly because newContent may have siblings\n          // that we don't want in the morph, and reparenting might be expensive (TODO is it?),\n          // so we create a duck-typed parent node instead.\n          return createDuckTypedParent(newContent);\n        } else {\n          // a single node is added as a child to a dummy parent\n          const dummyParent = document.createElement(\"div\");\n          dummyParent.append(newContent);\n          return dummyParent;\n        }\n      } else {\n        // all nodes in the array or HTMLElement collection are consolidated under\n        // a single dummy parent element\n        const dummyParent = document.createElement(\"div\");\n        for (const elt of [...newContent]) {\n          dummyParent.append(elt);\n        }\n        return dummyParent;\n      }\n    }\n\n    /**\n     * Creates a fake duck-typed parent element to wrap a single node, without actually reparenting it.\n     * \"If it walks like a duck, and quacks like a duck, then it must be a duck!\" -- James Whitcomb Riley (1849–1916)\n     *\n     * @param {Node} newContent\n     * @returns {Element}\n     */\n    function createDuckTypedParent(newContent) {\n      return /** @type {Element} */ (\n        /** @type {unknown} */ ({\n          childNodes: [newContent],\n          /** @ts-ignore - cover your eyes for a minute, tsc */\n          querySelectorAll: (s) => {\n            /** @ts-ignore */\n            const elements = newContent.querySelectorAll(s);\n            /** @ts-ignore */\n            return newContent.matches(s) ? [newContent, ...elements] : elements;\n          },\n          /** @ts-ignore */\n          insertBefore: (n, r) => newContent.parentNode.insertBefore(n, r),\n          /** @ts-ignore */\n          moveBefore: (n, r) => newContent.parentNode.moveBefore(n, r),\n          // for later use with populateIdMapWithTree to halt upwards iteration\n          get __idiomorphRoot() {\n            return newContent;\n          },\n        })\n      );\n    }\n\n    /**\n     *\n     * @param {string} newContent\n     * @returns {Node | null | DocumentFragment}\n     */\n    function parseContent(newContent) {\n      let parser = new DOMParser();\n\n      // remove svgs to avoid false-positive matches on head, etc.\n      let contentWithSvgsRemoved = newContent.replace(\n        /<svg(\\s[^>]*>|>)([\\s\\S]*?)<\\/svg>/gim,\n        \"\",\n      );\n\n      // if the newContent contains a html, head or body tag, we can simply parse it w/o wrapping\n      if (\n        contentWithSvgsRemoved.match(/<\\/html>/) ||\n        contentWithSvgsRemoved.match(/<\\/head>/) ||\n        contentWithSvgsRemoved.match(/<\\/body>/)\n      ) {\n        let content = parser.parseFromString(newContent, \"text/html\");\n        // if it is a full HTML document, return the document itself as the parent container\n        if (contentWithSvgsRemoved.match(/<\\/html>/)) {\n          generatedByIdiomorph.add(content);\n          return content;\n        } else {\n          // otherwise return the html element as the parent container\n          let htmlElement = content.firstChild;\n          if (htmlElement) {\n            generatedByIdiomorph.add(htmlElement);\n          }\n          return htmlElement;\n        }\n      } else {\n        // if it is partial HTML, wrap it in a template tag to provide a parent element and also to help\n        // deal with touchy tags like tr, tbody, etc.\n        let responseDoc = parser.parseFromString(\n          \"<body><template>\" + newContent + \"</template></body>\",\n          \"text/html\",\n        );\n        let content = /** @type {HTMLTemplateElement} */ (\n          responseDoc.body.querySelector(\"template\")\n        ).content;\n        generatedByIdiomorph.add(content);\n        return content;\n      }\n    }\n\n    return { normalizeElement, normalizeParent };\n  })();\n\n  //=============================================================================\n  // This is what ends up becoming the Idiomorph global object\n  //=============================================================================\n  return {\n    morph,\n    defaults,\n  };\n})();\n\nfunction morphElements(currentElement, newElement, { callbacks, ...options } = {}) {\n  Idiomorph.morph(currentElement, newElement, {\n    ...options,\n    callbacks: new DefaultIdiomorphCallbacks(callbacks)\n  });\n}\n\nfunction morphChildren(currentElement, newElement) {\n  morphElements(currentElement, newElement.childNodes, {\n    morphStyle: \"innerHTML\"\n  });\n}\n\nclass DefaultIdiomorphCallbacks {\n  #beforeNodeMorphed\n\n  constructor({ beforeNodeMorphed } = {}) {\n    this.#beforeNodeMorphed = beforeNodeMorphed || (() => true);\n  }\n\n  beforeNodeAdded = (node) => {\n    return !(node.id && node.hasAttribute(\"data-turbo-permanent\") && document.getElementById(node.id))\n  }\n\n  beforeNodeMorphed = (currentElement, newElement) => {\n    if (currentElement instanceof Element) {\n      if (!currentElement.hasAttribute(\"data-turbo-permanent\") && this.#beforeNodeMorphed(currentElement, newElement)) {\n        const event = dispatch(\"turbo:before-morph-element\", {\n          cancelable: true,\n          target: currentElement,\n          detail: { currentElement, newElement }\n        });\n\n        return !event.defaultPrevented\n      } else {\n        return false\n      }\n    }\n  }\n\n  beforeAttributeUpdated = (attributeName, target, mutationType) => {\n    const event = dispatch(\"turbo:before-morph-attribute\", {\n      cancelable: true,\n      target,\n      detail: { attributeName, mutationType }\n    });\n\n    return !event.defaultPrevented\n  }\n\n  beforeNodeRemoved = (node) => {\n    return this.beforeNodeMorphed(node)\n  }\n\n  afterNodeMorphed = (currentElement, newElement) => {\n    if (currentElement instanceof Element) {\n      dispatch(\"turbo:morph-element\", {\n        target: currentElement,\n        detail: { currentElement, newElement }\n      });\n    }\n  }\n}\n\nclass MorphingFrameRenderer extends FrameRenderer {\n  static renderElement(currentElement, newElement) {\n    dispatch(\"turbo:before-frame-morph\", {\n      target: currentElement,\n      detail: { currentElement, newElement }\n    });\n\n    morphChildren(currentElement, newElement);\n  }\n\n  async preservingPermanentElements(callback) {\n    return await callback()\n  }\n}\n\nclass ProgressBar {\n  static animationDuration = 300 /*ms*/\n\n  static get defaultCSS() {\n    return unindent`\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 2147483647;\n        transition:\n          width ${ProgressBar.animationDuration}ms ease-out,\n          opacity ${ProgressBar.animationDuration / 2}ms ${ProgressBar.animationDuration / 2}ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    `\n  }\n\n  hiding = false\n  value = 0\n  visible = false\n\n  constructor() {\n    this.stylesheetElement = this.createStylesheetElement();\n    this.progressElement = this.createProgressElement();\n    this.installStylesheetElement();\n    this.setValue(0);\n  }\n\n  show() {\n    if (!this.visible) {\n      this.visible = true;\n      this.installProgressElement();\n      this.startTrickling();\n    }\n  }\n\n  hide() {\n    if (this.visible && !this.hiding) {\n      this.hiding = true;\n      this.fadeProgressElement(() => {\n        this.uninstallProgressElement();\n        this.stopTrickling();\n        this.visible = false;\n        this.hiding = false;\n      });\n    }\n  }\n\n  setValue(value) {\n    this.value = value;\n    this.refresh();\n  }\n\n  // Private\n\n  installStylesheetElement() {\n    document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n  }\n\n  installProgressElement() {\n    this.progressElement.style.width = \"0\";\n    this.progressElement.style.opacity = \"1\";\n    document.documentElement.insertBefore(this.progressElement, document.body);\n    this.refresh();\n  }\n\n  fadeProgressElement(callback) {\n    this.progressElement.style.opacity = \"0\";\n    setTimeout(callback, ProgressBar.animationDuration * 1.5);\n  }\n\n  uninstallProgressElement() {\n    if (this.progressElement.parentNode) {\n      document.documentElement.removeChild(this.progressElement);\n    }\n  }\n\n  startTrickling() {\n    if (!this.trickleInterval) {\n      this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);\n    }\n  }\n\n  stopTrickling() {\n    window.clearInterval(this.trickleInterval);\n    delete this.trickleInterval;\n  }\n\n  trickle = () => {\n    this.setValue(this.value + Math.random() / 100);\n  }\n\n  refresh() {\n    requestAnimationFrame(() => {\n      this.progressElement.style.width = `${10 + this.value * 90}%`;\n    });\n  }\n\n  createStylesheetElement() {\n    const element = document.createElement(\"style\");\n    element.type = \"text/css\";\n    element.textContent = ProgressBar.defaultCSS;\n    const cspNonce = getCspNonce();\n    if (cspNonce) {\n      element.nonce = cspNonce;\n    }\n    return element\n  }\n\n  createProgressElement() {\n    const element = document.createElement(\"div\");\n    element.className = \"turbo-progress-bar\";\n    return element\n  }\n}\n\nclass HeadSnapshot extends Snapshot {\n  detailsByOuterHTML = this.children\n    .filter((element) => !elementIsNoscript(element))\n    .map((element) => elementWithoutNonce(element))\n    .reduce((result, element) => {\n      const { outerHTML } = element;\n      const details =\n        outerHTML in result\n          ? result[outerHTML]\n          : {\n              type: elementType(element),\n              tracked: elementIsTracked(element),\n              elements: []\n            };\n      return {\n        ...result,\n        [outerHTML]: {\n          ...details,\n          elements: [...details.elements, element]\n        }\n      }\n    }, {})\n\n  get trackedElementSignature() {\n    return Object.keys(this.detailsByOuterHTML)\n      .filter((outerHTML) => this.detailsByOuterHTML[outerHTML].tracked)\n      .join(\"\")\n  }\n\n  getScriptElementsNotInSnapshot(snapshot) {\n    return this.getElementsMatchingTypeNotInSnapshot(\"script\", snapshot)\n  }\n\n  getStylesheetElementsNotInSnapshot(snapshot) {\n    return this.getElementsMatchingTypeNotInSnapshot(\"stylesheet\", snapshot)\n  }\n\n  getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {\n    return Object.keys(this.detailsByOuterHTML)\n      .filter((outerHTML) => !(outerHTML in snapshot.detailsByOuterHTML))\n      .map((outerHTML) => this.detailsByOuterHTML[outerHTML])\n      .filter(({ type }) => type == matchedType)\n      .map(({ elements: [element] }) => element)\n  }\n\n  get provisionalElements() {\n    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n      const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];\n      if (type == null && !tracked) {\n        return [...result, ...elements]\n      } else if (elements.length > 1) {\n        return [...result, ...elements.slice(1)]\n      } else {\n        return result\n      }\n    }, [])\n  }\n\n  getMetaValue(name) {\n    const element = this.findMetaElementByName(name);\n    return element ? element.getAttribute(\"content\") : null\n  }\n\n  findMetaElementByName(name) {\n    return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n      const {\n        elements: [element]\n      } = this.detailsByOuterHTML[outerHTML];\n      return elementIsMetaElementWithName(element, name) ? element : result\n    }, undefined | undefined)\n  }\n}\n\nfunction elementType(element) {\n  if (elementIsScript(element)) {\n    return \"script\"\n  } else if (elementIsStylesheet(element)) {\n    return \"stylesheet\"\n  }\n}\n\nfunction elementIsTracked(element) {\n  return element.getAttribute(\"data-turbo-track\") == \"reload\"\n}\n\nfunction elementIsScript(element) {\n  const tagName = element.localName;\n  return tagName == \"script\"\n}\n\nfunction elementIsNoscript(element) {\n  const tagName = element.localName;\n  return tagName == \"noscript\"\n}\n\nfunction elementIsStylesheet(element) {\n  const tagName = element.localName;\n  return tagName == \"style\" || (tagName == \"link\" && element.getAttribute(\"rel\") == \"stylesheet\")\n}\n\nfunction elementIsMetaElementWithName(element, name) {\n  const tagName = element.localName;\n  return tagName == \"meta\" && element.getAttribute(\"name\") == name\n}\n\nfunction elementWithoutNonce(element) {\n  if (element.hasAttribute(\"nonce\")) {\n    element.setAttribute(\"nonce\", \"\");\n  }\n\n  return element\n}\n\nclass PageSnapshot extends Snapshot {\n  static fromHTMLString(html = \"\") {\n    return this.fromDocument(parseHTMLDocument(html))\n  }\n\n  static fromElement(element) {\n    return this.fromDocument(element.ownerDocument)\n  }\n\n  static fromDocument({ documentElement, body, head }) {\n    return new this(documentElement, body, new HeadSnapshot(head))\n  }\n\n  constructor(documentElement, body, headSnapshot) {\n    super(body);\n    this.documentElement = documentElement;\n    this.headSnapshot = headSnapshot;\n  }\n\n  clone() {\n    const clonedElement = this.element.cloneNode(true);\n\n    const selectElements = this.element.querySelectorAll(\"select\");\n    const clonedSelectElements = clonedElement.querySelectorAll(\"select\");\n\n    for (const [index, source] of selectElements.entries()) {\n      const clone = clonedSelectElements[index];\n      for (const option of clone.selectedOptions) option.selected = false;\n      for (const option of source.selectedOptions) clone.options[option.index].selected = true;\n    }\n\n    for (const clonedPasswordInput of clonedElement.querySelectorAll('input[type=\"password\"]')) {\n      clonedPasswordInput.value = \"\";\n    }\n\n    return new PageSnapshot(this.documentElement, clonedElement, this.headSnapshot)\n  }\n\n  get lang() {\n    return this.documentElement.getAttribute(\"lang\")\n  }\n\n  get headElement() {\n    return this.headSnapshot.element\n  }\n\n  get rootLocation() {\n    const root = this.getSetting(\"root\") ?? \"/\";\n    return expandURL(root)\n  }\n\n  get cacheControlValue() {\n    return this.getSetting(\"cache-control\")\n  }\n\n  get isPreviewable() {\n    return this.cacheControlValue != \"no-preview\"\n  }\n\n  get isCacheable() {\n    return this.cacheControlValue != \"no-cache\"\n  }\n\n  get isVisitable() {\n    return this.getSetting(\"visit-control\") != \"reload\"\n  }\n\n  get prefersViewTransitions() {\n    return this.headSnapshot.getMetaValue(\"view-transition\") === \"same-origin\"\n  }\n\n  get shouldMorphPage() {\n    return this.getSetting(\"refresh-method\") === \"morph\"\n  }\n\n  get shouldPreserveScrollPosition() {\n    return this.getSetting(\"refresh-scroll\") === \"preserve\"\n  }\n\n  // Private\n\n  getSetting(name) {\n    return this.headSnapshot.getMetaValue(`turbo-${name}`)\n  }\n}\n\nclass ViewTransitioner {\n  #viewTransitionStarted = false\n  #lastOperation = Promise.resolve()\n\n  renderChange(useViewTransition, render) {\n    if (useViewTransition && this.viewTransitionsAvailable && !this.#viewTransitionStarted) {\n      this.#viewTransitionStarted = true;\n      this.#lastOperation = this.#lastOperation.then(async () => {\n        await document.startViewTransition(render).finished;\n      });\n    } else {\n      this.#lastOperation = this.#lastOperation.then(render);\n    }\n\n    return this.#lastOperation\n  }\n\n  get viewTransitionsAvailable() {\n    return document.startViewTransition\n  }\n}\n\nconst defaultOptions = {\n  action: \"advance\",\n  historyChanged: false,\n  visitCachedSnapshot: () => {},\n  willRender: true,\n  updateHistory: true,\n  shouldCacheSnapshot: true,\n  acceptsStreamResponse: false\n};\n\nconst TimingMetric = {\n  visitStart: \"visitStart\",\n  requestStart: \"requestStart\",\n  requestEnd: \"requestEnd\",\n  visitEnd: \"visitEnd\"\n};\n\nconst VisitState = {\n  initialized: \"initialized\",\n  started: \"started\",\n  canceled: \"canceled\",\n  failed: \"failed\",\n  completed: \"completed\"\n};\n\nconst SystemStatusCode = {\n  networkFailure: 0,\n  timeoutFailure: -1,\n  contentTypeMismatch: -2\n};\n\nconst Direction = {\n  advance: \"forward\",\n  restore: \"back\",\n  replace: \"none\"\n};\n\nclass Visit {\n  identifier = uuid() // Required by turbo-ios\n  timingMetrics = {}\n\n  followedRedirect = false\n  historyChanged = false\n  scrolled = false\n  shouldCacheSnapshot = true\n  acceptsStreamResponse = false\n  snapshotCached = false\n  state = VisitState.initialized\n  viewTransitioner = new ViewTransitioner()\n\n  constructor(delegate, location, restorationIdentifier, options = {}) {\n    this.delegate = delegate;\n    this.location = location;\n    this.restorationIdentifier = restorationIdentifier || uuid();\n\n    const {\n      action,\n      historyChanged,\n      referrer,\n      snapshot,\n      snapshotHTML,\n      response,\n      visitCachedSnapshot,\n      willRender,\n      updateHistory,\n      shouldCacheSnapshot,\n      acceptsStreamResponse,\n      direction\n    } = {\n      ...defaultOptions,\n      ...options\n    };\n    this.action = action;\n    this.historyChanged = historyChanged;\n    this.referrer = referrer;\n    this.snapshot = snapshot;\n    this.snapshotHTML = snapshotHTML;\n    this.response = response;\n    this.isSamePage = this.delegate.locationWithActionIsSamePage(this.location, this.action);\n    this.isPageRefresh = this.view.isPageRefresh(this);\n    this.visitCachedSnapshot = visitCachedSnapshot;\n    this.willRender = willRender;\n    this.updateHistory = updateHistory;\n    this.scrolled = !willRender;\n    this.shouldCacheSnapshot = shouldCacheSnapshot;\n    this.acceptsStreamResponse = acceptsStreamResponse;\n    this.direction = direction || Direction[action];\n  }\n\n  get adapter() {\n    return this.delegate.adapter\n  }\n\n  get view() {\n    return this.delegate.view\n  }\n\n  get history() {\n    return this.delegate.history\n  }\n\n  get restorationData() {\n    return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)\n  }\n\n  get silent() {\n    return this.isSamePage\n  }\n\n  start() {\n    if (this.state == VisitState.initialized) {\n      this.recordTimingMetric(TimingMetric.visitStart);\n      this.state = VisitState.started;\n      this.adapter.visitStarted(this);\n      this.delegate.visitStarted(this);\n    }\n  }\n\n  cancel() {\n    if (this.state == VisitState.started) {\n      if (this.request) {\n        this.request.cancel();\n      }\n      this.cancelRender();\n      this.state = VisitState.canceled;\n    }\n  }\n\n  complete() {\n    if (this.state == VisitState.started) {\n      this.recordTimingMetric(TimingMetric.visitEnd);\n      this.adapter.visitCompleted(this);\n      this.state = VisitState.completed;\n      this.followRedirect();\n\n      if (!this.followedRedirect) {\n        this.delegate.visitCompleted(this);\n      }\n    }\n  }\n\n  fail() {\n    if (this.state == VisitState.started) {\n      this.state = VisitState.failed;\n      this.adapter.visitFailed(this);\n      this.delegate.visitCompleted(this);\n    }\n  }\n\n  changeHistory() {\n    if (!this.historyChanged && this.updateHistory) {\n      const actionForHistory = this.location.href === this.referrer?.href ? \"replace\" : this.action;\n      const method = getHistoryMethodForAction(actionForHistory);\n      this.history.update(method, this.location, this.restorationIdentifier);\n      this.historyChanged = true;\n    }\n  }\n\n  issueRequest() {\n    if (this.hasPreloadedResponse()) {\n      this.simulateRequest();\n    } else if (this.shouldIssueRequest() && !this.request) {\n      this.request = new FetchRequest(this, FetchMethod.get, this.location);\n      this.request.perform();\n    }\n  }\n\n  simulateRequest() {\n    if (this.response) {\n      this.startRequest();\n      this.recordResponse();\n      this.finishRequest();\n    }\n  }\n\n  startRequest() {\n    this.recordTimingMetric(TimingMetric.requestStart);\n    this.adapter.visitRequestStarted(this);\n  }\n\n  recordResponse(response = this.response) {\n    this.response = response;\n    if (response) {\n      const { statusCode } = response;\n      if (isSuccessful(statusCode)) {\n        this.adapter.visitRequestCompleted(this);\n      } else {\n        this.adapter.visitRequestFailedWithStatusCode(this, statusCode);\n      }\n    }\n  }\n\n  finishRequest() {\n    this.recordTimingMetric(TimingMetric.requestEnd);\n    this.adapter.visitRequestFinished(this);\n  }\n\n  loadResponse() {\n    if (this.response) {\n      const { statusCode, responseHTML } = this.response;\n      this.render(async () => {\n        if (this.shouldCacheSnapshot) this.cacheSnapshot();\n        if (this.view.renderPromise) await this.view.renderPromise;\n\n        if (isSuccessful(statusCode) && responseHTML != null) {\n          const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n          await this.renderPageSnapshot(snapshot, false);\n\n          this.adapter.visitRendered(this);\n          this.complete();\n        } else {\n          await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML), this);\n          this.adapter.visitRendered(this);\n          this.fail();\n        }\n      });\n    }\n  }\n\n  getCachedSnapshot() {\n    const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();\n\n    if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {\n      if (this.action == \"restore\" || snapshot.isPreviewable) {\n        return snapshot\n      }\n    }\n  }\n\n  getPreloadedSnapshot() {\n    if (this.snapshotHTML) {\n      return PageSnapshot.fromHTMLString(this.snapshotHTML)\n    }\n  }\n\n  hasCachedSnapshot() {\n    return this.getCachedSnapshot() != null\n  }\n\n  loadCachedSnapshot() {\n    const snapshot = this.getCachedSnapshot();\n    if (snapshot) {\n      const isPreview = this.shouldIssueRequest();\n      this.render(async () => {\n        this.cacheSnapshot();\n        if (this.isSamePage || this.isPageRefresh) {\n          this.adapter.visitRendered(this);\n        } else {\n          if (this.view.renderPromise) await this.view.renderPromise;\n\n          await this.renderPageSnapshot(snapshot, isPreview);\n\n          this.adapter.visitRendered(this);\n          if (!isPreview) {\n            this.complete();\n          }\n        }\n      });\n    }\n  }\n\n  followRedirect() {\n    if (this.redirectedToLocation && !this.followedRedirect && this.response?.redirected) {\n      this.adapter.visitProposedToLocation(this.redirectedToLocation, {\n        action: \"replace\",\n        response: this.response,\n        shouldCacheSnapshot: false,\n        willRender: false\n      });\n      this.followedRedirect = true;\n    }\n  }\n\n  goToSamePageAnchor() {\n    if (this.isSamePage) {\n      this.render(async () => {\n        this.cacheSnapshot();\n        this.performScroll();\n        this.changeHistory();\n        this.adapter.visitRendered(this);\n      });\n    }\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    if (this.acceptsStreamResponse) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted() {\n    this.startRequest();\n  }\n\n  requestPreventedHandlingResponse(_request, _response) {}\n\n  async requestSucceededWithResponse(request, response) {\n    const responseHTML = await response.responseHTML;\n    const { redirected, statusCode } = response;\n    if (responseHTML == undefined) {\n      this.recordResponse({\n        statusCode: SystemStatusCode.contentTypeMismatch,\n        redirected\n      });\n    } else {\n      this.redirectedToLocation = response.redirected ? response.location : undefined;\n      this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n    }\n  }\n\n  async requestFailedWithResponse(request, response) {\n    const responseHTML = await response.responseHTML;\n    const { redirected, statusCode } = response;\n    if (responseHTML == undefined) {\n      this.recordResponse({\n        statusCode: SystemStatusCode.contentTypeMismatch,\n        redirected\n      });\n    } else {\n      this.recordResponse({ statusCode: statusCode, responseHTML, redirected });\n    }\n  }\n\n  requestErrored(_request, _error) {\n    this.recordResponse({\n      statusCode: SystemStatusCode.networkFailure,\n      redirected: false\n    });\n  }\n\n  requestFinished() {\n    this.finishRequest();\n  }\n\n  // Scrolling\n\n  performScroll() {\n    if (!this.scrolled && !this.view.forceReloaded && !this.view.shouldPreserveScrollPosition(this)) {\n      if (this.action == \"restore\") {\n        this.scrollToRestoredPosition() || this.scrollToAnchor() || this.view.scrollToTop();\n      } else {\n        this.scrollToAnchor() || this.view.scrollToTop();\n      }\n      if (this.isSamePage) {\n        this.delegate.visitScrolledToSamePageLocation(this.view.lastRenderedLocation, this.location);\n      }\n\n      this.scrolled = true;\n    }\n  }\n\n  scrollToRestoredPosition() {\n    const { scrollPosition } = this.restorationData;\n    if (scrollPosition) {\n      this.view.scrollToPosition(scrollPosition);\n      return true\n    }\n  }\n\n  scrollToAnchor() {\n    const anchor = getAnchor(this.location);\n    if (anchor != null) {\n      this.view.scrollToAnchor(anchor);\n      return true\n    }\n  }\n\n  // Instrumentation\n\n  recordTimingMetric(metric) {\n    this.timingMetrics[metric] = new Date().getTime();\n  }\n\n  getTimingMetrics() {\n    return { ...this.timingMetrics }\n  }\n\n  // Private\n\n  hasPreloadedResponse() {\n    return typeof this.response == \"object\"\n  }\n\n  shouldIssueRequest() {\n    if (this.isSamePage) {\n      return false\n    } else if (this.action == \"restore\") {\n      return !this.hasCachedSnapshot()\n    } else {\n      return this.willRender\n    }\n  }\n\n  cacheSnapshot() {\n    if (!this.snapshotCached) {\n      this.view.cacheSnapshot(this.snapshot).then((snapshot) => snapshot && this.visitCachedSnapshot(snapshot));\n      this.snapshotCached = true;\n    }\n  }\n\n  async render(callback) {\n    this.cancelRender();\n    await new Promise((resolve) => {\n      this.frame =\n        document.visibilityState === \"hidden\" ? setTimeout(() => resolve(), 0) : requestAnimationFrame(() => resolve());\n    });\n    await callback();\n    delete this.frame;\n  }\n\n  async renderPageSnapshot(snapshot, isPreview) {\n    await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(snapshot), async () => {\n      await this.view.renderPage(snapshot, isPreview, this.willRender, this);\n      this.performScroll();\n    });\n  }\n\n  cancelRender() {\n    if (this.frame) {\n      cancelAnimationFrame(this.frame);\n      delete this.frame;\n    }\n  }\n}\n\nfunction isSuccessful(statusCode) {\n  return statusCode >= 200 && statusCode < 300\n}\n\nclass BrowserAdapter {\n  progressBar = new ProgressBar()\n\n  constructor(session) {\n    this.session = session;\n  }\n\n  visitProposedToLocation(location, options) {\n    if (locationIsVisitable(location, this.navigator.rootLocation)) {\n      this.navigator.startVisit(location, options?.restorationIdentifier || uuid(), options);\n    } else {\n      window.location.href = location.toString();\n    }\n  }\n\n  visitStarted(visit) {\n    this.location = visit.location;\n    visit.loadCachedSnapshot();\n    visit.issueRequest();\n    visit.goToSamePageAnchor();\n  }\n\n  visitRequestStarted(visit) {\n    this.progressBar.setValue(0);\n    if (visit.hasCachedSnapshot() || visit.action != \"restore\") {\n      this.showVisitProgressBarAfterDelay();\n    } else {\n      this.showProgressBar();\n    }\n  }\n\n  visitRequestCompleted(visit) {\n    visit.loadResponse();\n  }\n\n  visitRequestFailedWithStatusCode(visit, statusCode) {\n    switch (statusCode) {\n      case SystemStatusCode.networkFailure:\n      case SystemStatusCode.timeoutFailure:\n      case SystemStatusCode.contentTypeMismatch:\n        return this.reload({\n          reason: \"request_failed\",\n          context: {\n            statusCode\n          }\n        })\n      default:\n        return visit.loadResponse()\n    }\n  }\n\n  visitRequestFinished(_visit) {}\n\n  visitCompleted(_visit) {\n    this.progressBar.setValue(1);\n    this.hideVisitProgressBar();\n  }\n\n  pageInvalidated(reason) {\n    this.reload(reason);\n  }\n\n  visitFailed(_visit) {\n    this.progressBar.setValue(1);\n    this.hideVisitProgressBar();\n  }\n\n  visitRendered(_visit) {}\n\n  // Link prefetching\n\n  linkPrefetchingIsEnabledForLocation(location) {\n    return true\n  }\n\n  // Form Submission Delegate\n\n  formSubmissionStarted(_formSubmission) {\n    this.progressBar.setValue(0);\n    this.showFormProgressBarAfterDelay();\n  }\n\n  formSubmissionFinished(_formSubmission) {\n    this.progressBar.setValue(1);\n    this.hideFormProgressBar();\n  }\n\n  // Private\n\n  showVisitProgressBarAfterDelay() {\n    this.visitProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n  }\n\n  hideVisitProgressBar() {\n    this.progressBar.hide();\n    if (this.visitProgressBarTimeout != null) {\n      window.clearTimeout(this.visitProgressBarTimeout);\n      delete this.visitProgressBarTimeout;\n    }\n  }\n\n  showFormProgressBarAfterDelay() {\n    if (this.formProgressBarTimeout == null) {\n      this.formProgressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n    }\n  }\n\n  hideFormProgressBar() {\n    this.progressBar.hide();\n    if (this.formProgressBarTimeout != null) {\n      window.clearTimeout(this.formProgressBarTimeout);\n      delete this.formProgressBarTimeout;\n    }\n  }\n\n  showProgressBar = () => {\n    this.progressBar.show();\n  }\n\n  reload(reason) {\n    dispatch(\"turbo:reload\", { detail: reason });\n\n    window.location.href = this.location?.toString() || window.location.href;\n  }\n\n  get navigator() {\n    return this.session.navigator\n  }\n}\n\nclass CacheObserver {\n  selector = \"[data-turbo-temporary]\"\n  deprecatedSelector = \"[data-turbo-cache=false]\"\n\n  started = false\n\n  start() {\n    if (!this.started) {\n      this.started = true;\n      addEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      this.started = false;\n      removeEventListener(\"turbo:before-cache\", this.removeTemporaryElements, false);\n    }\n  }\n\n  removeTemporaryElements = (_event) => {\n    for (const element of this.temporaryElements) {\n      element.remove();\n    }\n  }\n\n  get temporaryElements() {\n    return [...document.querySelectorAll(this.selector), ...this.temporaryElementsWithDeprecation]\n  }\n\n  get temporaryElementsWithDeprecation() {\n    const elements = document.querySelectorAll(this.deprecatedSelector);\n\n    if (elements.length) {\n      console.warn(\n        `The ${this.deprecatedSelector} selector is deprecated and will be removed in a future version. Use ${this.selector} instead.`\n      );\n    }\n\n    return [...elements]\n  }\n}\n\nclass FrameRedirector {\n  constructor(session, element) {\n    this.session = session;\n    this.element = element;\n    this.linkInterceptor = new LinkInterceptor(this, element);\n    this.formSubmitObserver = new FormSubmitObserver(this, element);\n  }\n\n  start() {\n    this.linkInterceptor.start();\n    this.formSubmitObserver.start();\n  }\n\n  stop() {\n    this.linkInterceptor.stop();\n    this.formSubmitObserver.stop();\n  }\n\n  // Link interceptor delegate\n\n  shouldInterceptLinkClick(element, _location, _event) {\n    return this.#shouldRedirect(element)\n  }\n\n  linkClickIntercepted(element, url, event) {\n    const frame = this.#findFrameElement(element);\n    if (frame) {\n      frame.delegate.linkClickIntercepted(element, url, event);\n    }\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(element, submitter) {\n    return (\n      element.closest(\"turbo-frame\") == null &&\n      this.#shouldSubmit(element, submitter) &&\n      this.#shouldRedirect(element, submitter)\n    )\n  }\n\n  formSubmitted(element, submitter) {\n    const frame = this.#findFrameElement(element, submitter);\n    if (frame) {\n      frame.delegate.formSubmitted(element, submitter);\n    }\n  }\n\n  #shouldSubmit(form, submitter) {\n    const action = getAction$1(form, submitter);\n    const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n    const rootLocation = expandURL(meta?.content ?? \"/\");\n\n    return this.#shouldRedirect(form, submitter) && locationIsVisitable(action, rootLocation)\n  }\n\n  #shouldRedirect(element, submitter) {\n    const isNavigatable =\n      element instanceof HTMLFormElement\n        ? this.session.submissionIsNavigatable(element, submitter)\n        : this.session.elementIsNavigatable(element);\n\n    if (isNavigatable) {\n      const frame = this.#findFrameElement(element, submitter);\n      return frame ? frame != element.closest(\"turbo-frame\") : false\n    } else {\n      return false\n    }\n  }\n\n  #findFrameElement(element, submitter) {\n    const id = submitter?.getAttribute(\"data-turbo-frame\") || element.getAttribute(\"data-turbo-frame\");\n    if (id && id != \"_top\") {\n      const frame = this.element.querySelector(`#${id}:not([disabled])`);\n      if (frame instanceof FrameElement) {\n        return frame\n      }\n    }\n  }\n}\n\nclass History {\n  location\n  restorationIdentifier = uuid()\n  restorationData = {}\n  started = false\n  pageLoaded = false\n  currentIndex = 0\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      addEventListener(\"popstate\", this.onPopState, false);\n      addEventListener(\"load\", this.onPageLoad, false);\n      this.currentIndex = history.state?.turbo?.restorationIndex || 0;\n      this.started = true;\n      this.replace(new URL(window.location.href));\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      removeEventListener(\"popstate\", this.onPopState, false);\n      removeEventListener(\"load\", this.onPageLoad, false);\n      this.started = false;\n    }\n  }\n\n  push(location, restorationIdentifier) {\n    this.update(history.pushState, location, restorationIdentifier);\n  }\n\n  replace(location, restorationIdentifier) {\n    this.update(history.replaceState, location, restorationIdentifier);\n  }\n\n  update(method, location, restorationIdentifier = uuid()) {\n    if (method === history.pushState) ++this.currentIndex;\n\n    const state = { turbo: { restorationIdentifier, restorationIndex: this.currentIndex } };\n    method.call(history, state, \"\", location.href);\n    this.location = location;\n    this.restorationIdentifier = restorationIdentifier;\n  }\n\n  // Restoration data\n\n  getRestorationDataForIdentifier(restorationIdentifier) {\n    return this.restorationData[restorationIdentifier] || {}\n  }\n\n  updateRestorationData(additionalData) {\n    const { restorationIdentifier } = this;\n    const restorationData = this.restorationData[restorationIdentifier];\n    this.restorationData[restorationIdentifier] = {\n      ...restorationData,\n      ...additionalData\n    };\n  }\n\n  // Scroll restoration\n\n  assumeControlOfScrollRestoration() {\n    if (!this.previousScrollRestoration) {\n      this.previousScrollRestoration = history.scrollRestoration ?? \"auto\";\n      history.scrollRestoration = \"manual\";\n    }\n  }\n\n  relinquishControlOfScrollRestoration() {\n    if (this.previousScrollRestoration) {\n      history.scrollRestoration = this.previousScrollRestoration;\n      delete this.previousScrollRestoration;\n    }\n  }\n\n  // Event handlers\n\n  onPopState = (event) => {\n    if (this.shouldHandlePopState()) {\n      const { turbo } = event.state || {};\n      if (turbo) {\n        this.location = new URL(window.location.href);\n        const { restorationIdentifier, restorationIndex } = turbo;\n        this.restorationIdentifier = restorationIdentifier;\n        const direction = restorationIndex > this.currentIndex ? \"forward\" : \"back\";\n        this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location, restorationIdentifier, direction);\n        this.currentIndex = restorationIndex;\n      }\n    }\n  }\n\n  onPageLoad = async (_event) => {\n    await nextMicrotask();\n    this.pageLoaded = true;\n  }\n\n  // Private\n\n  shouldHandlePopState() {\n    // Safari dispatches a popstate event after window's load event, ignore it\n    return this.pageIsLoaded()\n  }\n\n  pageIsLoaded() {\n    return this.pageLoaded || document.readyState == \"complete\"\n  }\n}\n\nclass LinkPrefetchObserver {\n  started = false\n  #prefetchedLink = null\n\n  constructor(delegate, eventTarget) {\n    this.delegate = delegate;\n    this.eventTarget = eventTarget;\n  }\n\n  start() {\n    if (this.started) return\n\n    if (this.eventTarget.readyState === \"loading\") {\n      this.eventTarget.addEventListener(\"DOMContentLoaded\", this.#enable, { once: true });\n    } else {\n      this.#enable();\n    }\n  }\n\n  stop() {\n    if (!this.started) return\n\n    this.eventTarget.removeEventListener(\"mouseenter\", this.#tryToPrefetchRequest, {\n      capture: true,\n      passive: true\n    });\n    this.eventTarget.removeEventListener(\"mouseleave\", this.#cancelRequestIfObsolete, {\n      capture: true,\n      passive: true\n    });\n\n    this.eventTarget.removeEventListener(\"turbo:before-fetch-request\", this.#tryToUsePrefetchedRequest, true);\n    this.started = false;\n  }\n\n  #enable = () => {\n    this.eventTarget.addEventListener(\"mouseenter\", this.#tryToPrefetchRequest, {\n      capture: true,\n      passive: true\n    });\n    this.eventTarget.addEventListener(\"mouseleave\", this.#cancelRequestIfObsolete, {\n      capture: true,\n      passive: true\n    });\n\n    this.eventTarget.addEventListener(\"turbo:before-fetch-request\", this.#tryToUsePrefetchedRequest, true);\n    this.started = true;\n  }\n\n  #tryToPrefetchRequest = (event) => {\n    if (getMetaContent(\"turbo-prefetch\") === \"false\") return\n\n    const target = event.target;\n    const isLink = target.matches && target.matches(\"a[href]:not([target^=_]):not([download])\");\n\n    if (isLink && this.#isPrefetchable(target)) {\n      const link = target;\n      const location = getLocationForLink(link);\n\n      if (this.delegate.canPrefetchRequestToLocation(link, location)) {\n        this.#prefetchedLink = link;\n\n        const fetchRequest = new FetchRequest(\n          this,\n          FetchMethod.get,\n          location,\n          new URLSearchParams(),\n          target\n        );\n\n        prefetchCache.setLater(location.toString(), fetchRequest, this.#cacheTtl);\n      }\n    }\n  }\n\n  #cancelRequestIfObsolete = (event) => {\n    if (event.target === this.#prefetchedLink) this.#cancelPrefetchRequest();\n  }\n\n  #cancelPrefetchRequest = () => {\n    prefetchCache.clear();\n    this.#prefetchedLink = null;\n  }\n\n  #tryToUsePrefetchedRequest = (event) => {\n    if (event.target.tagName !== \"FORM\" && event.detail.fetchOptions.method === \"GET\") {\n      const cached = prefetchCache.get(event.detail.url.toString());\n\n      if (cached) {\n        // User clicked link, use cache response\n        event.detail.fetchRequest = cached;\n      }\n\n      prefetchCache.clear();\n    }\n  }\n\n  prepareRequest(request) {\n    const link = request.target;\n\n    request.headers[\"X-Sec-Purpose\"] = \"prefetch\";\n\n    const turboFrame = link.closest(\"turbo-frame\");\n    const turboFrameTarget = link.getAttribute(\"data-turbo-frame\") || turboFrame?.getAttribute(\"target\") || turboFrame?.id;\n\n    if (turboFrameTarget && turboFrameTarget !== \"_top\") {\n      request.headers[\"Turbo-Frame\"] = turboFrameTarget;\n    }\n  }\n\n  // Fetch request interface\n\n  requestSucceededWithResponse() {}\n\n  requestStarted(fetchRequest) {}\n\n  requestErrored(fetchRequest) {}\n\n  requestFinished(fetchRequest) {}\n\n  requestPreventedHandlingResponse(fetchRequest, fetchResponse) {}\n\n  requestFailedWithResponse(fetchRequest, fetchResponse) {}\n\n  get #cacheTtl() {\n    return Number(getMetaContent(\"turbo-prefetch-cache-time\")) || cacheTtl\n  }\n\n  #isPrefetchable(link) {\n    const href = link.getAttribute(\"href\");\n\n    if (!href) return false\n\n    if (unfetchableLink(link)) return false\n    if (linkToTheSamePage(link)) return false\n    if (linkOptsOut(link)) return false\n    if (nonSafeLink(link)) return false\n    if (eventPrevented(link)) return false\n\n    return true\n  }\n}\n\nconst unfetchableLink = (link) => {\n  return link.origin !== document.location.origin || ![\"http:\", \"https:\"].includes(link.protocol) || link.hasAttribute(\"target\")\n};\n\nconst linkToTheSamePage = (link) => {\n  return (link.pathname + link.search === document.location.pathname + document.location.search) || link.href.startsWith(\"#\")\n};\n\nconst linkOptsOut = (link) => {\n  if (link.getAttribute(\"data-turbo-prefetch\") === \"false\") return true\n  if (link.getAttribute(\"data-turbo\") === \"false\") return true\n\n  const turboPrefetchParent = findClosestRecursively(link, \"[data-turbo-prefetch]\");\n  if (turboPrefetchParent && turboPrefetchParent.getAttribute(\"data-turbo-prefetch\") === \"false\") return true\n\n  return false\n};\n\nconst nonSafeLink = (link) => {\n  const turboMethod = link.getAttribute(\"data-turbo-method\");\n  if (turboMethod && turboMethod.toLowerCase() !== \"get\") return true\n\n  if (isUJS(link)) return true\n  if (link.hasAttribute(\"data-turbo-confirm\")) return true\n  if (link.hasAttribute(\"data-turbo-stream\")) return true\n\n  return false\n};\n\nconst isUJS = (link) => {\n  return link.hasAttribute(\"data-remote\") || link.hasAttribute(\"data-behavior\") || link.hasAttribute(\"data-confirm\") || link.hasAttribute(\"data-method\")\n};\n\nconst eventPrevented = (link) => {\n  const event = dispatch(\"turbo:before-prefetch\", { target: link, cancelable: true });\n  return event.defaultPrevented\n};\n\nclass Navigator {\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  proposeVisit(location, options = {}) {\n    if (this.delegate.allowsVisitingLocationWithAction(location, options.action)) {\n      this.delegate.visitProposedToLocation(location, options);\n    }\n  }\n\n  startVisit(locatable, restorationIdentifier, options = {}) {\n    this.stop();\n    this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, {\n      referrer: this.location,\n      ...options\n    });\n    this.currentVisit.start();\n  }\n\n  submitForm(form, submitter) {\n    this.stop();\n    this.formSubmission = new FormSubmission(this, form, submitter, true);\n\n    this.formSubmission.start();\n  }\n\n  stop() {\n    if (this.formSubmission) {\n      this.formSubmission.stop();\n      delete this.formSubmission;\n    }\n\n    if (this.currentVisit) {\n      this.currentVisit.cancel();\n      delete this.currentVisit;\n    }\n  }\n\n  get adapter() {\n    return this.delegate.adapter\n  }\n\n  get view() {\n    return this.delegate.view\n  }\n\n  get rootLocation() {\n    return this.view.snapshot.rootLocation\n  }\n\n  get history() {\n    return this.delegate.history\n  }\n\n  // Form submission delegate\n\n  formSubmissionStarted(formSubmission) {\n    // Not all adapters implement formSubmissionStarted\n    if (typeof this.adapter.formSubmissionStarted === \"function\") {\n      this.adapter.formSubmissionStarted(formSubmission);\n    }\n  }\n\n  async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {\n    if (formSubmission == this.formSubmission) {\n      const responseHTML = await fetchResponse.responseHTML;\n      if (responseHTML) {\n        const shouldCacheSnapshot = formSubmission.isSafe;\n        if (!shouldCacheSnapshot) {\n          this.view.clearSnapshotCache();\n        }\n\n        const { statusCode, redirected } = fetchResponse;\n        const action = this.#getActionForFormSubmission(formSubmission, fetchResponse);\n        const visitOptions = {\n          action,\n          shouldCacheSnapshot,\n          response: { statusCode, responseHTML, redirected }\n        };\n        this.proposeVisit(fetchResponse.location, visitOptions);\n      }\n    }\n  }\n\n  async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n    const responseHTML = await fetchResponse.responseHTML;\n\n    if (responseHTML) {\n      const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n      if (fetchResponse.serverError) {\n        await this.view.renderError(snapshot, this.currentVisit);\n      } else {\n        await this.view.renderPage(snapshot, false, true, this.currentVisit);\n      }\n      if(!snapshot.shouldPreserveScrollPosition) {\n        this.view.scrollToTop();\n      }\n      this.view.clearSnapshotCache();\n    }\n  }\n\n  formSubmissionErrored(formSubmission, error) {\n    console.error(error);\n  }\n\n  formSubmissionFinished(formSubmission) {\n    // Not all adapters implement formSubmissionFinished\n    if (typeof this.adapter.formSubmissionFinished === \"function\") {\n      this.adapter.formSubmissionFinished(formSubmission);\n    }\n  }\n\n  // Link prefetching\n\n  linkPrefetchingIsEnabledForLocation(location) {\n    // Not all adapters implement linkPrefetchingIsEnabledForLocation\n    if (typeof this.adapter.linkPrefetchingIsEnabledForLocation === \"function\") {\n      return this.adapter.linkPrefetchingIsEnabledForLocation(location)\n    }\n\n    return true\n  }\n\n  // Visit delegate\n\n  visitStarted(visit) {\n    this.delegate.visitStarted(visit);\n  }\n\n  visitCompleted(visit) {\n    this.delegate.visitCompleted(visit);\n    delete this.currentVisit;\n  }\n\n  locationWithActionIsSamePage(location, action) {\n    const anchor = getAnchor(location);\n    const currentAnchor = getAnchor(this.view.lastRenderedLocation);\n    const isRestorationToTop = action === \"restore\" && typeof anchor === \"undefined\";\n\n    return (\n      action !== \"replace\" &&\n      getRequestURL(location) === getRequestURL(this.view.lastRenderedLocation) &&\n      (isRestorationToTop || (anchor != null && anchor !== currentAnchor))\n    )\n  }\n\n  visitScrolledToSamePageLocation(oldURL, newURL) {\n    this.delegate.visitScrolledToSamePageLocation(oldURL, newURL);\n  }\n\n  // Visits\n\n  get location() {\n    return this.history.location\n  }\n\n  get restorationIdentifier() {\n    return this.history.restorationIdentifier\n  }\n\n  #getActionForFormSubmission(formSubmission, fetchResponse) {\n    const { submitter, formElement } = formSubmission;\n    return getVisitAction(submitter, formElement) || this.#getDefaultAction(fetchResponse)\n  }\n\n  #getDefaultAction(fetchResponse) {\n    const sameLocationRedirect = fetchResponse.redirected && fetchResponse.location.href === this.location?.href;\n    return sameLocationRedirect ? \"replace\" : \"advance\"\n  }\n}\n\nconst PageStage = {\n  initial: 0,\n  loading: 1,\n  interactive: 2,\n  complete: 3\n};\n\nclass PageObserver {\n  stage = PageStage.initial\n  started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      if (this.stage == PageStage.initial) {\n        this.stage = PageStage.loading;\n      }\n      document.addEventListener(\"readystatechange\", this.interpretReadyState, false);\n      addEventListener(\"pagehide\", this.pageWillUnload, false);\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      document.removeEventListener(\"readystatechange\", this.interpretReadyState, false);\n      removeEventListener(\"pagehide\", this.pageWillUnload, false);\n      this.started = false;\n    }\n  }\n\n  interpretReadyState = () => {\n    const { readyState } = this;\n    if (readyState == \"interactive\") {\n      this.pageIsInteractive();\n    } else if (readyState == \"complete\") {\n      this.pageIsComplete();\n    }\n  }\n\n  pageIsInteractive() {\n    if (this.stage == PageStage.loading) {\n      this.stage = PageStage.interactive;\n      this.delegate.pageBecameInteractive();\n    }\n  }\n\n  pageIsComplete() {\n    this.pageIsInteractive();\n    if (this.stage == PageStage.interactive) {\n      this.stage = PageStage.complete;\n      this.delegate.pageLoaded();\n    }\n  }\n\n  pageWillUnload = () => {\n    this.delegate.pageWillUnload();\n  }\n\n  get readyState() {\n    return document.readyState\n  }\n}\n\nclass ScrollObserver {\n  started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.started) {\n      addEventListener(\"scroll\", this.onScroll, false);\n      this.onScroll();\n      this.started = true;\n    }\n  }\n\n  stop() {\n    if (this.started) {\n      removeEventListener(\"scroll\", this.onScroll, false);\n      this.started = false;\n    }\n  }\n\n  onScroll = () => {\n    this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });\n  }\n\n  // Private\n\n  updatePosition(position) {\n    this.delegate.scrollPositionChanged(position);\n  }\n}\n\nclass StreamMessageRenderer {\n  render({ fragment }) {\n    Bardo.preservingPermanentElements(this, getPermanentElementMapForFragment(fragment), () => {\n      withAutofocusFromFragment(fragment, () => {\n        withPreservedFocus(() => {\n          document.documentElement.appendChild(fragment);\n        });\n      });\n    });\n  }\n\n  // Bardo delegate\n\n  enteringBardo(currentPermanentElement, newPermanentElement) {\n    newPermanentElement.replaceWith(currentPermanentElement.cloneNode(true));\n  }\n\n  leavingBardo() {}\n}\n\nfunction getPermanentElementMapForFragment(fragment) {\n  const permanentElementsInDocument = queryPermanentElementsAll(document.documentElement);\n  const permanentElementMap = {};\n  for (const permanentElementInDocument of permanentElementsInDocument) {\n    const { id } = permanentElementInDocument;\n\n    for (const streamElement of fragment.querySelectorAll(\"turbo-stream\")) {\n      const elementInStream = getPermanentElementById(streamElement.templateElement.content, id);\n\n      if (elementInStream) {\n        permanentElementMap[id] = [permanentElementInDocument, elementInStream];\n      }\n    }\n  }\n\n  return permanentElementMap\n}\n\nasync function withAutofocusFromFragment(fragment, callback) {\n  const generatedID = `turbo-stream-autofocus-${uuid()}`;\n  const turboStreams = fragment.querySelectorAll(\"turbo-stream\");\n  const elementWithAutofocus = firstAutofocusableElementInStreams(turboStreams);\n  let willAutofocusId = null;\n\n  if (elementWithAutofocus) {\n    if (elementWithAutofocus.id) {\n      willAutofocusId = elementWithAutofocus.id;\n    } else {\n      willAutofocusId = generatedID;\n    }\n\n    elementWithAutofocus.id = willAutofocusId;\n  }\n\n  callback();\n  await nextRepaint();\n\n  const hasNoActiveElement = document.activeElement == null || document.activeElement == document.body;\n\n  if (hasNoActiveElement && willAutofocusId) {\n    const elementToAutofocus = document.getElementById(willAutofocusId);\n\n    if (elementIsFocusable(elementToAutofocus)) {\n      elementToAutofocus.focus();\n    }\n    if (elementToAutofocus && elementToAutofocus.id == generatedID) {\n      elementToAutofocus.removeAttribute(\"id\");\n    }\n  }\n}\n\nasync function withPreservedFocus(callback) {\n  const [activeElementBeforeRender, activeElementAfterRender] = await around(callback, () => document.activeElement);\n\n  const restoreFocusTo = activeElementBeforeRender && activeElementBeforeRender.id;\n\n  if (restoreFocusTo) {\n    const elementToFocus = document.getElementById(restoreFocusTo);\n\n    if (elementIsFocusable(elementToFocus) && elementToFocus != activeElementAfterRender) {\n      elementToFocus.focus();\n    }\n  }\n}\n\nfunction firstAutofocusableElementInStreams(nodeListOfStreamElements) {\n  for (const streamElement of nodeListOfStreamElements) {\n    const elementWithAutofocus = queryAutofocusableElement(streamElement.templateElement.content);\n\n    if (elementWithAutofocus) return elementWithAutofocus\n  }\n\n  return null\n}\n\nclass StreamObserver {\n  sources = new Set()\n  #started = false\n\n  constructor(delegate) {\n    this.delegate = delegate;\n  }\n\n  start() {\n    if (!this.#started) {\n      this.#started = true;\n      addEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n    }\n  }\n\n  stop() {\n    if (this.#started) {\n      this.#started = false;\n      removeEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n    }\n  }\n\n  connectStreamSource(source) {\n    if (!this.streamSourceIsConnected(source)) {\n      this.sources.add(source);\n      source.addEventListener(\"message\", this.receiveMessageEvent, false);\n    }\n  }\n\n  disconnectStreamSource(source) {\n    if (this.streamSourceIsConnected(source)) {\n      this.sources.delete(source);\n      source.removeEventListener(\"message\", this.receiveMessageEvent, false);\n    }\n  }\n\n  streamSourceIsConnected(source) {\n    return this.sources.has(source)\n  }\n\n  inspectFetchResponse = (event) => {\n    const response = fetchResponseFromEvent(event);\n    if (response && fetchResponseIsStream(response)) {\n      event.preventDefault();\n      this.receiveMessageResponse(response);\n    }\n  }\n\n  receiveMessageEvent = (event) => {\n    if (this.#started && typeof event.data == \"string\") {\n      this.receiveMessageHTML(event.data);\n    }\n  }\n\n  async receiveMessageResponse(response) {\n    const html = await response.responseHTML;\n    if (html) {\n      this.receiveMessageHTML(html);\n    }\n  }\n\n  receiveMessageHTML(html) {\n    this.delegate.receivedMessageFromStream(StreamMessage.wrap(html));\n  }\n}\n\nfunction fetchResponseFromEvent(event) {\n  const fetchResponse = event.detail?.fetchResponse;\n  if (fetchResponse instanceof FetchResponse) {\n    return fetchResponse\n  }\n}\n\nfunction fetchResponseIsStream(response) {\n  const contentType = response.contentType ?? \"\";\n  return contentType.startsWith(StreamMessage.contentType)\n}\n\nclass ErrorRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    const { documentElement, body } = document;\n\n    documentElement.replaceChild(newElement, body);\n  }\n\n  async render() {\n    this.replaceHeadAndBody();\n    this.activateScriptElements();\n  }\n\n  replaceHeadAndBody() {\n    const { documentElement, head } = document;\n    documentElement.replaceChild(this.newHead, head);\n    this.renderElement(this.currentElement, this.newElement);\n  }\n\n  activateScriptElements() {\n    for (const replaceableElement of this.scriptElements) {\n      const parentNode = replaceableElement.parentNode;\n      if (parentNode) {\n        const element = activateScriptElement(replaceableElement);\n        parentNode.replaceChild(element, replaceableElement);\n      }\n    }\n  }\n\n  get newHead() {\n    return this.newSnapshot.headSnapshot.element\n  }\n\n  get scriptElements() {\n    return document.documentElement.querySelectorAll(\"script\")\n  }\n}\n\nclass PageRenderer extends Renderer {\n  static renderElement(currentElement, newElement) {\n    if (document.body && newElement instanceof HTMLBodyElement) {\n      document.body.replaceWith(newElement);\n    } else {\n      document.documentElement.appendChild(newElement);\n    }\n  }\n\n  get shouldRender() {\n    return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical\n  }\n\n  get reloadReason() {\n    if (!this.newSnapshot.isVisitable) {\n      return {\n        reason: \"turbo_visit_control_is_reload\"\n      }\n    }\n\n    if (!this.trackedElementsAreIdentical) {\n      return {\n        reason: \"tracked_element_mismatch\"\n      }\n    }\n  }\n\n  async prepareToRender() {\n    this.#setLanguage();\n    await this.mergeHead();\n  }\n\n  async render() {\n    if (this.willRender) {\n      await this.replaceBody();\n    }\n  }\n\n  finishRendering() {\n    super.finishRendering();\n    if (!this.isPreview) {\n      this.focusFirstAutofocusableElement();\n    }\n  }\n\n  get currentHeadSnapshot() {\n    return this.currentSnapshot.headSnapshot\n  }\n\n  get newHeadSnapshot() {\n    return this.newSnapshot.headSnapshot\n  }\n\n  get newElement() {\n    return this.newSnapshot.element\n  }\n\n  #setLanguage() {\n    const { documentElement } = this.currentSnapshot;\n    const { lang } = this.newSnapshot;\n\n    if (lang) {\n      documentElement.setAttribute(\"lang\", lang);\n    } else {\n      documentElement.removeAttribute(\"lang\");\n    }\n  }\n\n  async mergeHead() {\n    const mergedHeadElements = this.mergeProvisionalElements();\n    const newStylesheetElements = this.copyNewHeadStylesheetElements();\n    this.copyNewHeadScriptElements();\n\n    await mergedHeadElements;\n    await newStylesheetElements;\n\n    if (this.willRender) {\n      this.removeUnusedDynamicStylesheetElements();\n    }\n  }\n\n  async replaceBody() {\n    await this.preservingPermanentElements(async () => {\n      this.activateNewBody();\n      await this.assignNewBody();\n    });\n  }\n\n  get trackedElementsAreIdentical() {\n    return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature\n  }\n\n  async copyNewHeadStylesheetElements() {\n    const loadingElements = [];\n\n    for (const element of this.newHeadStylesheetElements) {\n      loadingElements.push(waitForLoad(element));\n\n      document.head.appendChild(element);\n    }\n\n    await Promise.all(loadingElements);\n  }\n\n  copyNewHeadScriptElements() {\n    for (const element of this.newHeadScriptElements) {\n      document.head.appendChild(activateScriptElement(element));\n    }\n  }\n\n  removeUnusedDynamicStylesheetElements() {\n    for (const element of this.unusedDynamicStylesheetElements) {\n      document.head.removeChild(element);\n    }\n  }\n\n  async mergeProvisionalElements() {\n    const newHeadElements = [...this.newHeadProvisionalElements];\n\n    for (const element of this.currentHeadProvisionalElements) {\n      if (!this.isCurrentElementInElementList(element, newHeadElements)) {\n        document.head.removeChild(element);\n      }\n    }\n\n    for (const element of newHeadElements) {\n      document.head.appendChild(element);\n    }\n  }\n\n  isCurrentElementInElementList(element, elementList) {\n    for (const [index, newElement] of elementList.entries()) {\n      // if title element...\n      if (element.tagName == \"TITLE\") {\n        if (newElement.tagName != \"TITLE\") {\n          continue\n        }\n        if (element.innerHTML == newElement.innerHTML) {\n          elementList.splice(index, 1);\n          return true\n        }\n      }\n\n      // if any other element...\n      if (newElement.isEqualNode(element)) {\n        elementList.splice(index, 1);\n        return true\n      }\n    }\n\n    return false\n  }\n\n  removeCurrentHeadProvisionalElements() {\n    for (const element of this.currentHeadProvisionalElements) {\n      document.head.removeChild(element);\n    }\n  }\n\n  copyNewHeadProvisionalElements() {\n    for (const element of this.newHeadProvisionalElements) {\n      document.head.appendChild(element);\n    }\n  }\n\n  activateNewBody() {\n    document.adoptNode(this.newElement);\n    this.activateNewBodyScriptElements();\n  }\n\n  activateNewBodyScriptElements() {\n    for (const inertScriptElement of this.newBodyScriptElements) {\n      const activatedScriptElement = activateScriptElement(inertScriptElement);\n      inertScriptElement.replaceWith(activatedScriptElement);\n    }\n  }\n\n  async assignNewBody() {\n    await this.renderElement(this.currentElement, this.newElement);\n  }\n\n  get unusedDynamicStylesheetElements() {\n    return this.oldHeadStylesheetElements.filter((element) => {\n      return element.getAttribute(\"data-turbo-track\") === \"dynamic\"\n    })\n  }\n\n  get oldHeadStylesheetElements() {\n    return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)\n  }\n\n  get newHeadStylesheetElements() {\n    return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)\n  }\n\n  get newHeadScriptElements() {\n    return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)\n  }\n\n  get currentHeadProvisionalElements() {\n    return this.currentHeadSnapshot.provisionalElements\n  }\n\n  get newHeadProvisionalElements() {\n    return this.newHeadSnapshot.provisionalElements\n  }\n\n  get newBodyScriptElements() {\n    return this.newElement.querySelectorAll(\"script\")\n  }\n}\n\nclass MorphingPageRenderer extends PageRenderer {\n  static renderElement(currentElement, newElement) {\n    morphElements(currentElement, newElement, {\n      callbacks: {\n        beforeNodeMorphed: element => !canRefreshFrame(element)\n      }\n    });\n\n    for (const frame of currentElement.querySelectorAll(\"turbo-frame\")) {\n      if (canRefreshFrame(frame)) frame.reload();\n    }\n\n    dispatch(\"turbo:morph\", { detail: { currentElement, newElement } });\n  }\n\n  async preservingPermanentElements(callback) {\n    return await callback()\n  }\n\n  get renderMethod() {\n    return \"morph\"\n  }\n\n  get shouldAutofocus() {\n    return false\n  }\n}\n\nfunction canRefreshFrame(frame) {\n  return frame instanceof FrameElement &&\n    frame.src &&\n    frame.refresh === \"morph\" &&\n    !frame.closest(\"[data-turbo-permanent]\")\n}\n\nclass SnapshotCache {\n  keys = []\n  snapshots = {}\n\n  constructor(size) {\n    this.size = size;\n  }\n\n  has(location) {\n    return toCacheKey(location) in this.snapshots\n  }\n\n  get(location) {\n    if (this.has(location)) {\n      const snapshot = this.read(location);\n      this.touch(location);\n      return snapshot\n    }\n  }\n\n  put(location, snapshot) {\n    this.write(location, snapshot);\n    this.touch(location);\n    return snapshot\n  }\n\n  clear() {\n    this.snapshots = {};\n  }\n\n  // Private\n\n  read(location) {\n    return this.snapshots[toCacheKey(location)]\n  }\n\n  write(location, snapshot) {\n    this.snapshots[toCacheKey(location)] = snapshot;\n  }\n\n  touch(location) {\n    const key = toCacheKey(location);\n    const index = this.keys.indexOf(key);\n    if (index > -1) this.keys.splice(index, 1);\n    this.keys.unshift(key);\n    this.trim();\n  }\n\n  trim() {\n    for (const key of this.keys.splice(this.size)) {\n      delete this.snapshots[key];\n    }\n  }\n}\n\nclass PageView extends View {\n  snapshotCache = new SnapshotCache(10)\n  lastRenderedLocation = new URL(location.href)\n  forceReloaded = false\n\n  shouldTransitionTo(newSnapshot) {\n    return this.snapshot.prefersViewTransitions && newSnapshot.prefersViewTransitions\n  }\n\n  renderPage(snapshot, isPreview = false, willRender = true, visit) {\n    const shouldMorphPage = this.isPageRefresh(visit) && this.snapshot.shouldMorphPage;\n    const rendererClass = shouldMorphPage ? MorphingPageRenderer : PageRenderer;\n\n    const renderer = new rendererClass(this.snapshot, snapshot, isPreview, willRender);\n\n    if (!renderer.shouldRender) {\n      this.forceReloaded = true;\n    } else {\n      visit?.changeHistory();\n    }\n\n    return this.render(renderer)\n  }\n\n  renderError(snapshot, visit) {\n    visit?.changeHistory();\n    const renderer = new ErrorRenderer(this.snapshot, snapshot, false);\n    return this.render(renderer)\n  }\n\n  clearSnapshotCache() {\n    this.snapshotCache.clear();\n  }\n\n  async cacheSnapshot(snapshot = this.snapshot) {\n    if (snapshot.isCacheable) {\n      this.delegate.viewWillCacheSnapshot();\n      const { lastRenderedLocation: location } = this;\n      await nextEventLoopTick();\n      const cachedSnapshot = snapshot.clone();\n      this.snapshotCache.put(location, cachedSnapshot);\n      return cachedSnapshot\n    }\n  }\n\n  getCachedSnapshotForLocation(location) {\n    return this.snapshotCache.get(location)\n  }\n\n  isPageRefresh(visit) {\n    return !visit || (this.lastRenderedLocation.pathname === visit.location.pathname && visit.action === \"replace\")\n  }\n\n  shouldPreserveScrollPosition(visit) {\n    return this.isPageRefresh(visit) && this.snapshot.shouldPreserveScrollPosition\n  }\n\n  get snapshot() {\n    return PageSnapshot.fromElement(this.element)\n  }\n}\n\nclass Preloader {\n  selector = \"a[data-turbo-preload]\"\n\n  constructor(delegate, snapshotCache) {\n    this.delegate = delegate;\n    this.snapshotCache = snapshotCache;\n  }\n\n  start() {\n    if (document.readyState === \"loading\") {\n      document.addEventListener(\"DOMContentLoaded\", this.#preloadAll);\n    } else {\n      this.preloadOnLoadLinksForView(document.body);\n    }\n  }\n\n  stop() {\n    document.removeEventListener(\"DOMContentLoaded\", this.#preloadAll);\n  }\n\n  preloadOnLoadLinksForView(element) {\n    for (const link of element.querySelectorAll(this.selector)) {\n      if (this.delegate.shouldPreloadLink(link)) {\n        this.preloadURL(link);\n      }\n    }\n  }\n\n  async preloadURL(link) {\n    const location = new URL(link.href);\n\n    if (this.snapshotCache.has(location)) {\n      return\n    }\n\n    const fetchRequest = new FetchRequest(this, FetchMethod.get, location, new URLSearchParams(), link);\n    await fetchRequest.perform();\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(fetchRequest) {\n    fetchRequest.headers[\"X-Sec-Purpose\"] = \"prefetch\";\n  }\n\n  async requestSucceededWithResponse(fetchRequest, fetchResponse) {\n    try {\n      const responseHTML = await fetchResponse.responseHTML;\n      const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n\n      this.snapshotCache.put(fetchRequest.url, snapshot);\n    } catch (_) {\n      // If we cannot preload that is ok!\n    }\n  }\n\n  requestStarted(fetchRequest) {}\n\n  requestErrored(fetchRequest) {}\n\n  requestFinished(fetchRequest) {}\n\n  requestPreventedHandlingResponse(fetchRequest, fetchResponse) {}\n\n  requestFailedWithResponse(fetchRequest, fetchResponse) {}\n\n  #preloadAll = () => {\n    this.preloadOnLoadLinksForView(document.body);\n  }\n}\n\nclass Cache {\n  constructor(session) {\n    this.session = session;\n  }\n\n  clear() {\n    this.session.clearCache();\n  }\n\n  resetCacheControl() {\n    this.#setCacheControl(\"\");\n  }\n\n  exemptPageFromCache() {\n    this.#setCacheControl(\"no-cache\");\n  }\n\n  exemptPageFromPreview() {\n    this.#setCacheControl(\"no-preview\");\n  }\n\n  #setCacheControl(value) {\n    setMetaContent(\"turbo-cache-control\", value);\n  }\n}\n\nclass Session {\n  navigator = new Navigator(this)\n  history = new History(this)\n  view = new PageView(this, document.documentElement)\n  adapter = new BrowserAdapter(this)\n\n  pageObserver = new PageObserver(this)\n  cacheObserver = new CacheObserver()\n  linkPrefetchObserver = new LinkPrefetchObserver(this, document)\n  linkClickObserver = new LinkClickObserver(this, window)\n  formSubmitObserver = new FormSubmitObserver(this, document)\n  scrollObserver = new ScrollObserver(this)\n  streamObserver = new StreamObserver(this)\n  formLinkClickObserver = new FormLinkClickObserver(this, document.documentElement)\n  frameRedirector = new FrameRedirector(this, document.documentElement)\n  streamMessageRenderer = new StreamMessageRenderer()\n  cache = new Cache(this)\n\n  enabled = true\n  started = false\n  #pageRefreshDebouncePeriod = 150\n\n  constructor(recentRequests) {\n    this.recentRequests = recentRequests;\n    this.preloader = new Preloader(this, this.view.snapshotCache);\n    this.debouncedRefresh = this.refresh;\n    this.pageRefreshDebouncePeriod = this.pageRefreshDebouncePeriod;\n  }\n\n  start() {\n    if (!this.started) {\n      this.pageObserver.start();\n      this.cacheObserver.start();\n      this.linkPrefetchObserver.start();\n      this.formLinkClickObserver.start();\n      this.linkClickObserver.start();\n      this.formSubmitObserver.start();\n      this.scrollObserver.start();\n      this.streamObserver.start();\n      this.frameRedirector.start();\n      this.history.start();\n      this.preloader.start();\n      this.started = true;\n      this.enabled = true;\n    }\n  }\n\n  disable() {\n    this.enabled = false;\n  }\n\n  stop() {\n    if (this.started) {\n      this.pageObserver.stop();\n      this.cacheObserver.stop();\n      this.linkPrefetchObserver.stop();\n      this.formLinkClickObserver.stop();\n      this.linkClickObserver.stop();\n      this.formSubmitObserver.stop();\n      this.scrollObserver.stop();\n      this.streamObserver.stop();\n      this.frameRedirector.stop();\n      this.history.stop();\n      this.preloader.stop();\n      this.started = false;\n    }\n  }\n\n  registerAdapter(adapter) {\n    this.adapter = adapter;\n  }\n\n  visit(location, options = {}) {\n    const frameElement = options.frame ? document.getElementById(options.frame) : null;\n\n    if (frameElement instanceof FrameElement) {\n      const action = options.action || getVisitAction(frameElement);\n\n      frameElement.delegate.proposeVisitIfNavigatedWithAction(frameElement, action);\n      frameElement.src = location.toString();\n    } else {\n      this.navigator.proposeVisit(expandURL(location), options);\n    }\n  }\n\n  refresh(url, requestId) {\n    const isRecentRequest = requestId && this.recentRequests.has(requestId);\n    const isCurrentUrl = url === document.baseURI;\n    if (!isRecentRequest && !this.navigator.currentVisit && isCurrentUrl) {\n      this.visit(url, { action: \"replace\", shouldCacheSnapshot: false });\n    }\n  }\n\n  connectStreamSource(source) {\n    this.streamObserver.connectStreamSource(source);\n  }\n\n  disconnectStreamSource(source) {\n    this.streamObserver.disconnectStreamSource(source);\n  }\n\n  renderStreamMessage(message) {\n    this.streamMessageRenderer.render(StreamMessage.wrap(message));\n  }\n\n  clearCache() {\n    this.view.clearSnapshotCache();\n  }\n\n  setProgressBarDelay(delay) {\n    console.warn(\n      \"Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`\"\n    );\n\n    this.progressBarDelay = delay;\n  }\n\n  set progressBarDelay(delay) {\n    config.drive.progressBarDelay = delay;\n  }\n\n  get progressBarDelay() {\n    return config.drive.progressBarDelay\n  }\n\n  set drive(value) {\n    config.drive.enabled = value;\n  }\n\n  get drive() {\n    return config.drive.enabled\n  }\n\n  set formMode(value) {\n    config.forms.mode = value;\n  }\n\n  get formMode() {\n    return config.forms.mode\n  }\n\n  get location() {\n    return this.history.location\n  }\n\n  get restorationIdentifier() {\n    return this.history.restorationIdentifier\n  }\n\n  get pageRefreshDebouncePeriod() {\n    return this.#pageRefreshDebouncePeriod\n  }\n\n  set pageRefreshDebouncePeriod(value) {\n    this.refresh = debounce(this.debouncedRefresh.bind(this), value);\n    this.#pageRefreshDebouncePeriod = value;\n  }\n\n  // Preloader delegate\n\n  shouldPreloadLink(element) {\n    const isUnsafe = element.hasAttribute(\"data-turbo-method\");\n    const isStream = element.hasAttribute(\"data-turbo-stream\");\n    const frameTarget = element.getAttribute(\"data-turbo-frame\");\n    const frame = frameTarget == \"_top\" ?\n      null :\n      document.getElementById(frameTarget) || findClosestRecursively(element, \"turbo-frame:not([disabled])\");\n\n    if (isUnsafe || isStream || frame instanceof FrameElement) {\n      return false\n    } else {\n      const location = new URL(element.href);\n\n      return this.elementIsNavigatable(element) && locationIsVisitable(location, this.snapshot.rootLocation)\n    }\n  }\n\n  // History delegate\n\n  historyPoppedToLocationWithRestorationIdentifierAndDirection(location, restorationIdentifier, direction) {\n    if (this.enabled) {\n      this.navigator.startVisit(location, restorationIdentifier, {\n        action: \"restore\",\n        historyChanged: true,\n        direction\n      });\n    } else {\n      this.adapter.pageInvalidated({\n        reason: \"turbo_disabled\"\n      });\n    }\n  }\n\n  // Scroll observer delegate\n\n  scrollPositionChanged(position) {\n    this.history.updateRestorationData({ scrollPosition: position });\n  }\n\n  // Form click observer delegate\n\n  willSubmitFormLinkToLocation(link, location) {\n    return this.elementIsNavigatable(link) && locationIsVisitable(location, this.snapshot.rootLocation)\n  }\n\n  submittedFormLinkToLocation() {}\n\n  // Link hover observer delegate\n\n  canPrefetchRequestToLocation(link, location) {\n    return (\n      this.elementIsNavigatable(link) &&\n      locationIsVisitable(location, this.snapshot.rootLocation) &&\n      this.navigator.linkPrefetchingIsEnabledForLocation(location)\n    )\n  }\n\n  // Link click observer delegate\n\n  willFollowLinkToLocation(link, location, event) {\n    return (\n      this.elementIsNavigatable(link) &&\n      locationIsVisitable(location, this.snapshot.rootLocation) &&\n      this.applicationAllowsFollowingLinkToLocation(link, location, event)\n    )\n  }\n\n  followedLinkToLocation(link, location) {\n    const action = this.getActionForLink(link);\n    const acceptsStreamResponse = link.hasAttribute(\"data-turbo-stream\");\n\n    this.visit(location.href, { action, acceptsStreamResponse });\n  }\n\n  // Navigator delegate\n\n  allowsVisitingLocationWithAction(location, action) {\n    return this.locationWithActionIsSamePage(location, action) || this.applicationAllowsVisitingLocation(location)\n  }\n\n  visitProposedToLocation(location, options) {\n    extendURLWithDeprecatedProperties(location);\n    this.adapter.visitProposedToLocation(location, options);\n  }\n\n  // Visit delegate\n\n  visitStarted(visit) {\n    if (!visit.acceptsStreamResponse) {\n      markAsBusy(document.documentElement);\n      this.view.markVisitDirection(visit.direction);\n    }\n    extendURLWithDeprecatedProperties(visit.location);\n    if (!visit.silent) {\n      this.notifyApplicationAfterVisitingLocation(visit.location, visit.action);\n    }\n  }\n\n  visitCompleted(visit) {\n    this.view.unmarkVisitDirection();\n    clearBusyState(document.documentElement);\n    this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());\n  }\n\n  locationWithActionIsSamePage(location, action) {\n    return this.navigator.locationWithActionIsSamePage(location, action)\n  }\n\n  visitScrolledToSamePageLocation(oldURL, newURL) {\n    this.notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL);\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(form, submitter) {\n    const action = getAction$1(form, submitter);\n\n    return (\n      this.submissionIsNavigatable(form, submitter) &&\n      locationIsVisitable(expandURL(action), this.snapshot.rootLocation)\n    )\n  }\n\n  formSubmitted(form, submitter) {\n    this.navigator.submitForm(form, submitter);\n  }\n\n  // Page observer delegate\n\n  pageBecameInteractive() {\n    this.view.lastRenderedLocation = this.location;\n    this.notifyApplicationAfterPageLoad();\n  }\n\n  pageLoaded() {\n    this.history.assumeControlOfScrollRestoration();\n  }\n\n  pageWillUnload() {\n    this.history.relinquishControlOfScrollRestoration();\n  }\n\n  // Stream observer delegate\n\n  receivedMessageFromStream(message) {\n    this.renderStreamMessage(message);\n  }\n\n  // Page view delegate\n\n  viewWillCacheSnapshot() {\n    if (!this.navigator.currentVisit?.silent) {\n      this.notifyApplicationBeforeCachingSnapshot();\n    }\n  }\n\n  allowsImmediateRender({ element }, options) {\n    const event = this.notifyApplicationBeforeRender(element, options);\n    const {\n      defaultPrevented,\n      detail: { render }\n    } = event;\n\n    if (this.view.renderer && render) {\n      this.view.renderer.renderElement = render;\n    }\n\n    return !defaultPrevented\n  }\n\n  viewRenderedSnapshot(_snapshot, _isPreview, renderMethod) {\n    this.view.lastRenderedLocation = this.history.location;\n    this.notifyApplicationAfterRender(renderMethod);\n  }\n\n  preloadOnLoadLinksForView(element) {\n    this.preloader.preloadOnLoadLinksForView(element);\n  }\n\n  viewInvalidated(reason) {\n    this.adapter.pageInvalidated(reason);\n  }\n\n  // Frame element\n\n  frameLoaded(frame) {\n    this.notifyApplicationAfterFrameLoad(frame);\n  }\n\n  frameRendered(fetchResponse, frame) {\n    this.notifyApplicationAfterFrameRender(fetchResponse, frame);\n  }\n\n  // Application events\n\n  applicationAllowsFollowingLinkToLocation(link, location, ev) {\n    const event = this.notifyApplicationAfterClickingLinkToLocation(link, location, ev);\n    return !event.defaultPrevented\n  }\n\n  applicationAllowsVisitingLocation(location) {\n    const event = this.notifyApplicationBeforeVisitingLocation(location);\n    return !event.defaultPrevented\n  }\n\n  notifyApplicationAfterClickingLinkToLocation(link, location, event) {\n    return dispatch(\"turbo:click\", {\n      target: link,\n      detail: { url: location.href, originalEvent: event },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationBeforeVisitingLocation(location) {\n    return dispatch(\"turbo:before-visit\", {\n      detail: { url: location.href },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationAfterVisitingLocation(location, action) {\n    return dispatch(\"turbo:visit\", { detail: { url: location.href, action } })\n  }\n\n  notifyApplicationBeforeCachingSnapshot() {\n    return dispatch(\"turbo:before-cache\")\n  }\n\n  notifyApplicationBeforeRender(newBody, options) {\n    return dispatch(\"turbo:before-render\", {\n      detail: { newBody, ...options },\n      cancelable: true\n    })\n  }\n\n  notifyApplicationAfterRender(renderMethod) {\n    return dispatch(\"turbo:render\", { detail: { renderMethod } })\n  }\n\n  notifyApplicationAfterPageLoad(timing = {}) {\n    return dispatch(\"turbo:load\", {\n      detail: { url: this.location.href, timing }\n    })\n  }\n\n  notifyApplicationAfterVisitingSamePageLocation(oldURL, newURL) {\n    dispatchEvent(\n      new HashChangeEvent(\"hashchange\", {\n        oldURL: oldURL.toString(),\n        newURL: newURL.toString()\n      })\n    );\n  }\n\n  notifyApplicationAfterFrameLoad(frame) {\n    return dispatch(\"turbo:frame-load\", { target: frame })\n  }\n\n  notifyApplicationAfterFrameRender(fetchResponse, frame) {\n    return dispatch(\"turbo:frame-render\", {\n      detail: { fetchResponse },\n      target: frame,\n      cancelable: true\n    })\n  }\n\n  // Helpers\n\n  submissionIsNavigatable(form, submitter) {\n    if (config.forms.mode == \"off\") {\n      return false\n    } else {\n      const submitterIsNavigatable = submitter ? this.elementIsNavigatable(submitter) : true;\n\n      if (config.forms.mode == \"optin\") {\n        return submitterIsNavigatable && form.closest('[data-turbo=\"true\"]') != null\n      } else {\n        return submitterIsNavigatable && this.elementIsNavigatable(form)\n      }\n    }\n  }\n\n  elementIsNavigatable(element) {\n    const container = findClosestRecursively(element, \"[data-turbo]\");\n    const withinFrame = findClosestRecursively(element, \"turbo-frame\");\n\n    // Check if Drive is enabled on the session or we're within a Frame.\n    if (config.drive.enabled || withinFrame) {\n      // Element is navigatable by default, unless `data-turbo=\"false\"`.\n      if (container) {\n        return container.getAttribute(\"data-turbo\") != \"false\"\n      } else {\n        return true\n      }\n    } else {\n      // Element isn't navigatable by default, unless `data-turbo=\"true\"`.\n      if (container) {\n        return container.getAttribute(\"data-turbo\") == \"true\"\n      } else {\n        return false\n      }\n    }\n  }\n\n  // Private\n\n  getActionForLink(link) {\n    return getVisitAction(link) || \"advance\"\n  }\n\n  get snapshot() {\n    return this.view.snapshot\n  }\n}\n\n// Older versions of the Turbo Native adapters referenced the\n// `Location#absoluteURL` property in their implementations of\n// the `Adapter#visitProposedToLocation()` and `#visitStarted()`\n// methods. The Location class has since been removed in favor\n// of the DOM URL API, and accordingly all Adapter methods now\n// receive URL objects.\n//\n// We alias #absoluteURL to #toString() here to avoid crashing\n// older adapters which do not expect URL objects. We should\n// consider removing this support at some point in the future.\n\nfunction extendURLWithDeprecatedProperties(url) {\n  Object.defineProperties(url, deprecatedLocationPropertyDescriptors);\n}\n\nconst deprecatedLocationPropertyDescriptors = {\n  absoluteURL: {\n    get() {\n      return this.toString()\n    }\n  }\n};\n\nconst session = new Session(recentRequests);\nconst { cache, navigator: navigator$1 } = session;\n\n/**\n * Starts the main session.\n * This initialises any necessary observers such as those to monitor\n * link interactions.\n */\nfunction start() {\n  session.start();\n}\n\n/**\n * Registers an adapter for the main session.\n *\n * @param adapter Adapter to register\n */\nfunction registerAdapter(adapter) {\n  session.registerAdapter(adapter);\n}\n\n/**\n * Performs an application visit to the given location.\n *\n * @param location Location to visit (a URL or path)\n * @param options Options to apply\n * @param options.action Type of history navigation to apply (\"restore\",\n * \"replace\" or \"advance\")\n * @param options.historyChanged Specifies whether the browser history has\n * already been changed for this visit or not\n * @param options.referrer Specifies the referrer of this visit such that\n * navigations to the same page will not result in a new history entry.\n * @param options.snapshotHTML Cached snapshot to render\n * @param options.response Response of the specified location\n */\nfunction visit(location, options) {\n  session.visit(location, options);\n}\n\n/**\n * Connects a stream source to the main session.\n *\n * @param source Stream source to connect\n */\nfunction connectStreamSource(source) {\n  session.connectStreamSource(source);\n}\n\n/**\n * Disconnects a stream source from the main session.\n *\n * @param source Stream source to disconnect\n */\nfunction disconnectStreamSource(source) {\n  session.disconnectStreamSource(source);\n}\n\n/**\n * Renders a stream message to the main session by appending it to the\n * current document.\n *\n * @param message Message to render\n */\nfunction renderStreamMessage(message) {\n  session.renderStreamMessage(message);\n}\n\n/**\n * Removes all entries from the Turbo Drive page cache.\n * Call this when state has changed on the server that may affect cached pages.\n *\n * @deprecated since version 7.2.0 in favor of `Turbo.cache.clear()`\n */\nfunction clearCache() {\n  console.warn(\n    \"Please replace `Turbo.clearCache()` with `Turbo.cache.clear()`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  session.clearCache();\n}\n\n/**\n * Sets the delay after which the progress bar will appear during navigation.\n *\n * The progress bar appears after 500ms by default.\n *\n * Note that this method has no effect when used with the iOS or Android\n * adapters.\n *\n * @param delay Time to delay in milliseconds\n */\nfunction setProgressBarDelay(delay) {\n  console.warn(\n    \"Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.drive.progressBarDelay = delay;\n}\n\nfunction setConfirmMethod(confirmMethod) {\n  console.warn(\n    \"Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.forms.confirm = confirmMethod;\n}\n\nfunction setFormMode(mode) {\n  console.warn(\n    \"Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`\"\n  );\n  config.forms.mode = mode;\n}\n\nvar Turbo = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  navigator: navigator$1,\n  session: session,\n  cache: cache,\n  PageRenderer: PageRenderer,\n  PageSnapshot: PageSnapshot,\n  FrameRenderer: FrameRenderer,\n  fetch: fetchWithTurboHeaders,\n  config: config,\n  start: start,\n  registerAdapter: registerAdapter,\n  visit: visit,\n  connectStreamSource: connectStreamSource,\n  disconnectStreamSource: disconnectStreamSource,\n  renderStreamMessage: renderStreamMessage,\n  clearCache: clearCache,\n  setProgressBarDelay: setProgressBarDelay,\n  setConfirmMethod: setConfirmMethod,\n  setFormMode: setFormMode\n});\n\nclass TurboFrameMissingError extends Error {}\n\nclass FrameController {\n  fetchResponseLoaded = (_fetchResponse) => Promise.resolve()\n  #currentFetchRequest = null\n  #resolveVisitPromise = () => {}\n  #connected = false\n  #hasBeenLoaded = false\n  #ignoredAttributes = new Set()\n  #shouldMorphFrame = false\n  action = null\n\n  constructor(element) {\n    this.element = element;\n    this.view = new FrameView(this, this.element);\n    this.appearanceObserver = new AppearanceObserver(this, this.element);\n    this.formLinkClickObserver = new FormLinkClickObserver(this, this.element);\n    this.linkInterceptor = new LinkInterceptor(this, this.element);\n    this.restorationIdentifier = uuid();\n    this.formSubmitObserver = new FormSubmitObserver(this, this.element);\n  }\n\n  // Frame delegate\n\n  connect() {\n    if (!this.#connected) {\n      this.#connected = true;\n      if (this.loadingStyle == FrameLoadingStyle.lazy) {\n        this.appearanceObserver.start();\n      } else {\n        this.#loadSourceURL();\n      }\n      this.formLinkClickObserver.start();\n      this.linkInterceptor.start();\n      this.formSubmitObserver.start();\n    }\n  }\n\n  disconnect() {\n    if (this.#connected) {\n      this.#connected = false;\n      this.appearanceObserver.stop();\n      this.formLinkClickObserver.stop();\n      this.linkInterceptor.stop();\n      this.formSubmitObserver.stop();\n    }\n  }\n\n  disabledChanged() {\n    if (this.loadingStyle == FrameLoadingStyle.eager) {\n      this.#loadSourceURL();\n    }\n  }\n\n  sourceURLChanged() {\n    if (this.#isIgnoringChangesTo(\"src\")) return\n\n    if (this.element.isConnected) {\n      this.complete = false;\n    }\n\n    if (this.loadingStyle == FrameLoadingStyle.eager || this.#hasBeenLoaded) {\n      this.#loadSourceURL();\n    }\n  }\n\n  sourceURLReloaded() {\n    const { refresh, src } = this.element;\n\n    this.#shouldMorphFrame = src && refresh === \"morph\";\n\n    this.element.removeAttribute(\"complete\");\n    this.element.src = null;\n    this.element.src = src;\n    return this.element.loaded\n  }\n\n  loadingStyleChanged() {\n    if (this.loadingStyle == FrameLoadingStyle.lazy) {\n      this.appearanceObserver.start();\n    } else {\n      this.appearanceObserver.stop();\n      this.#loadSourceURL();\n    }\n  }\n\n  async #loadSourceURL() {\n    if (this.enabled && this.isActive && !this.complete && this.sourceURL) {\n      this.element.loaded = this.#visit(expandURL(this.sourceURL));\n      this.appearanceObserver.stop();\n      await this.element.loaded;\n      this.#hasBeenLoaded = true;\n    }\n  }\n\n  async loadResponse(fetchResponse) {\n    if (fetchResponse.redirected || (fetchResponse.succeeded && fetchResponse.isHTML)) {\n      this.sourceURL = fetchResponse.response.url;\n    }\n\n    try {\n      const html = await fetchResponse.responseHTML;\n      if (html) {\n        const document = parseHTMLDocument(html);\n        const pageSnapshot = PageSnapshot.fromDocument(document);\n\n        if (pageSnapshot.isVisitable) {\n          await this.#loadFrameResponse(fetchResponse, document);\n        } else {\n          await this.#handleUnvisitableFrameResponse(fetchResponse);\n        }\n      }\n    } finally {\n      this.#shouldMorphFrame = false;\n      this.fetchResponseLoaded = () => Promise.resolve();\n    }\n  }\n\n  // Appearance observer delegate\n\n  elementAppearedInViewport(element) {\n    this.proposeVisitIfNavigatedWithAction(element, getVisitAction(element));\n    this.#loadSourceURL();\n  }\n\n  // Form link click observer delegate\n\n  willSubmitFormLinkToLocation(link) {\n    return this.#shouldInterceptNavigation(link)\n  }\n\n  submittedFormLinkToLocation(link, _location, form) {\n    const frame = this.#findFrameElement(link);\n    if (frame) form.setAttribute(\"data-turbo-frame\", frame.id);\n  }\n\n  // Link interceptor delegate\n\n  shouldInterceptLinkClick(element, _location, _event) {\n    return this.#shouldInterceptNavigation(element)\n  }\n\n  linkClickIntercepted(element, location) {\n    this.#navigateFrame(element, location);\n  }\n\n  // Form submit observer delegate\n\n  willSubmitForm(element, submitter) {\n    return element.closest(\"turbo-frame\") == this.element && this.#shouldInterceptNavigation(element, submitter)\n  }\n\n  formSubmitted(element, submitter) {\n    if (this.formSubmission) {\n      this.formSubmission.stop();\n    }\n\n    this.formSubmission = new FormSubmission(this, element, submitter);\n    const { fetchRequest } = this.formSubmission;\n    this.prepareRequest(fetchRequest);\n    this.formSubmission.start();\n  }\n\n  // Fetch request delegate\n\n  prepareRequest(request) {\n    request.headers[\"Turbo-Frame\"] = this.id;\n\n    if (this.currentNavigationElement?.hasAttribute(\"data-turbo-stream\")) {\n      request.acceptResponseType(StreamMessage.contentType);\n    }\n  }\n\n  requestStarted(_request) {\n    markAsBusy(this.element);\n  }\n\n  requestPreventedHandlingResponse(_request, _response) {\n    this.#resolveVisitPromise();\n  }\n\n  async requestSucceededWithResponse(request, response) {\n    await this.loadResponse(response);\n    this.#resolveVisitPromise();\n  }\n\n  async requestFailedWithResponse(request, response) {\n    await this.loadResponse(response);\n    this.#resolveVisitPromise();\n  }\n\n  requestErrored(request, error) {\n    console.error(error);\n    this.#resolveVisitPromise();\n  }\n\n  requestFinished(_request) {\n    clearBusyState(this.element);\n  }\n\n  // Form submission delegate\n\n  formSubmissionStarted({ formElement }) {\n    markAsBusy(formElement, this.#findFrameElement(formElement));\n  }\n\n  formSubmissionSucceededWithResponse(formSubmission, response) {\n    const frame = this.#findFrameElement(formSubmission.formElement, formSubmission.submitter);\n\n    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(formSubmission.submitter, formSubmission.formElement, frame));\n    frame.delegate.loadResponse(response);\n\n    if (!formSubmission.isSafe) {\n      session.clearCache();\n    }\n  }\n\n  formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n    this.element.delegate.loadResponse(fetchResponse);\n    session.clearCache();\n  }\n\n  formSubmissionErrored(formSubmission, error) {\n    console.error(error);\n  }\n\n  formSubmissionFinished({ formElement }) {\n    clearBusyState(formElement, this.#findFrameElement(formElement));\n  }\n\n  // View delegate\n\n  allowsImmediateRender({ element: newFrame }, options) {\n    const event = dispatch(\"turbo:before-frame-render\", {\n      target: this.element,\n      detail: { newFrame, ...options },\n      cancelable: true\n    });\n\n    const {\n      defaultPrevented,\n      detail: { render }\n    } = event;\n\n    if (this.view.renderer && render) {\n      this.view.renderer.renderElement = render;\n    }\n\n    return !defaultPrevented\n  }\n\n  viewRenderedSnapshot(_snapshot, _isPreview, _renderMethod) {}\n\n  preloadOnLoadLinksForView(element) {\n    session.preloadOnLoadLinksForView(element);\n  }\n\n  viewInvalidated() {}\n\n  // Frame renderer delegate\n\n  willRenderFrame(currentElement, _newElement) {\n    this.previousFrameElement = currentElement.cloneNode(true);\n  }\n\n  visitCachedSnapshot = ({ element }) => {\n    const frame = element.querySelector(\"#\" + this.element.id);\n\n    if (frame && this.previousFrameElement) {\n      frame.replaceChildren(...this.previousFrameElement.children);\n    }\n\n    delete this.previousFrameElement;\n  }\n\n  // Private\n\n  async #loadFrameResponse(fetchResponse, document) {\n    const newFrameElement = await this.extractForeignFrameElement(document.body);\n    const rendererClass = this.#shouldMorphFrame ? MorphingFrameRenderer : FrameRenderer;\n\n    if (newFrameElement) {\n      const snapshot = new Snapshot(newFrameElement);\n      const renderer = new rendererClass(this, this.view.snapshot, snapshot, false, false);\n      if (this.view.renderPromise) await this.view.renderPromise;\n      this.changeHistory();\n\n      await this.view.render(renderer);\n      this.complete = true;\n      session.frameRendered(fetchResponse, this.element);\n      session.frameLoaded(this.element);\n      await this.fetchResponseLoaded(fetchResponse);\n    } else if (this.#willHandleFrameMissingFromResponse(fetchResponse)) {\n      this.#handleFrameMissingFromResponse(fetchResponse);\n    }\n  }\n\n  async #visit(url) {\n    const request = new FetchRequest(this, FetchMethod.get, url, new URLSearchParams(), this.element);\n\n    this.#currentFetchRequest?.cancel();\n    this.#currentFetchRequest = request;\n\n    return new Promise((resolve) => {\n      this.#resolveVisitPromise = () => {\n        this.#resolveVisitPromise = () => {};\n        this.#currentFetchRequest = null;\n        resolve();\n      };\n      request.perform();\n    })\n  }\n\n  #navigateFrame(element, url, submitter) {\n    const frame = this.#findFrameElement(element, submitter);\n\n    frame.delegate.proposeVisitIfNavigatedWithAction(frame, getVisitAction(submitter, element, frame));\n\n    this.#withCurrentNavigationElement(element, () => {\n      frame.src = url;\n    });\n  }\n\n  proposeVisitIfNavigatedWithAction(frame, action = null) {\n    this.action = action;\n\n    if (this.action) {\n      const pageSnapshot = PageSnapshot.fromElement(frame).clone();\n      const { visitCachedSnapshot } = frame.delegate;\n\n      frame.delegate.fetchResponseLoaded = async (fetchResponse) => {\n        if (frame.src) {\n          const { statusCode, redirected } = fetchResponse;\n          const responseHTML = await fetchResponse.responseHTML;\n          const response = { statusCode, redirected, responseHTML };\n          const options = {\n            response,\n            visitCachedSnapshot,\n            willRender: false,\n            updateHistory: false,\n            restorationIdentifier: this.restorationIdentifier,\n            snapshot: pageSnapshot\n          };\n\n          if (this.action) options.action = this.action;\n\n          session.visit(frame.src, options);\n        }\n      };\n    }\n  }\n\n  changeHistory() {\n    if (this.action) {\n      const method = getHistoryMethodForAction(this.action);\n      session.history.update(method, expandURL(this.element.src || \"\"), this.restorationIdentifier);\n    }\n  }\n\n  async #handleUnvisitableFrameResponse(fetchResponse) {\n    console.warn(\n      `The response (${fetchResponse.statusCode}) from <turbo-frame id=\"${this.element.id}\"> is performing a full page visit due to turbo-visit-control.`\n    );\n\n    await this.#visitResponse(fetchResponse.response);\n  }\n\n  #willHandleFrameMissingFromResponse(fetchResponse) {\n    this.element.setAttribute(\"complete\", \"\");\n\n    const response = fetchResponse.response;\n    const visit = async (url, options) => {\n      if (url instanceof Response) {\n        this.#visitResponse(url);\n      } else {\n        session.visit(url, options);\n      }\n    };\n\n    const event = dispatch(\"turbo:frame-missing\", {\n      target: this.element,\n      detail: { response, visit },\n      cancelable: true\n    });\n\n    return !event.defaultPrevented\n  }\n\n  #handleFrameMissingFromResponse(fetchResponse) {\n    this.view.missing();\n    this.#throwFrameMissingError(fetchResponse);\n  }\n\n  #throwFrameMissingError(fetchResponse) {\n    const message = `The response (${fetchResponse.statusCode}) did not contain the expected <turbo-frame id=\"${this.element.id}\"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;\n    throw new TurboFrameMissingError(message)\n  }\n\n  async #visitResponse(response) {\n    const wrapped = new FetchResponse(response);\n    const responseHTML = await wrapped.responseHTML;\n    const { location, redirected, statusCode } = wrapped;\n\n    return session.visit(location, { response: { redirected, statusCode, responseHTML } })\n  }\n\n  #findFrameElement(element, submitter) {\n    const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n    return getFrameElementById(id) ?? this.element\n  }\n\n  async extractForeignFrameElement(container) {\n    let element;\n    const id = CSS.escape(this.id);\n\n    try {\n      element = activateElement(container.querySelector(`turbo-frame#${id}`), this.sourceURL);\n      if (element) {\n        return element\n      }\n\n      element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`), this.sourceURL);\n      if (element) {\n        await element.loaded;\n        return await this.extractForeignFrameElement(element)\n      }\n    } catch (error) {\n      console.error(error);\n      return new FrameElement()\n    }\n\n    return null\n  }\n\n  #formActionIsVisitable(form, submitter) {\n    const action = getAction$1(form, submitter);\n\n    return locationIsVisitable(expandURL(action), this.rootLocation)\n  }\n\n  #shouldInterceptNavigation(element, submitter) {\n    const id = getAttribute(\"data-turbo-frame\", submitter, element) || this.element.getAttribute(\"target\");\n\n    if (element instanceof HTMLFormElement && !this.#formActionIsVisitable(element, submitter)) {\n      return false\n    }\n\n    if (!this.enabled || id == \"_top\") {\n      return false\n    }\n\n    if (id) {\n      const frameElement = getFrameElementById(id);\n      if (frameElement) {\n        return !frameElement.disabled\n      }\n    }\n\n    if (!session.elementIsNavigatable(element)) {\n      return false\n    }\n\n    if (submitter && !session.elementIsNavigatable(submitter)) {\n      return false\n    }\n\n    return true\n  }\n\n  // Computed properties\n\n  get id() {\n    return this.element.id\n  }\n\n  get enabled() {\n    return !this.element.disabled\n  }\n\n  get sourceURL() {\n    if (this.element.src) {\n      return this.element.src\n    }\n  }\n\n  set sourceURL(sourceURL) {\n    this.#ignoringChangesToAttribute(\"src\", () => {\n      this.element.src = sourceURL ?? null;\n    });\n  }\n\n  get loadingStyle() {\n    return this.element.loading\n  }\n\n  get isLoading() {\n    return this.formSubmission !== undefined || this.#resolveVisitPromise() !== undefined\n  }\n\n  get complete() {\n    return this.element.hasAttribute(\"complete\")\n  }\n\n  set complete(value) {\n    if (value) {\n      this.element.setAttribute(\"complete\", \"\");\n    } else {\n      this.element.removeAttribute(\"complete\");\n    }\n  }\n\n  get isActive() {\n    return this.element.isActive && this.#connected\n  }\n\n  get rootLocation() {\n    const meta = this.element.ownerDocument.querySelector(`meta[name=\"turbo-root\"]`);\n    const root = meta?.content ?? \"/\";\n    return expandURL(root)\n  }\n\n  #isIgnoringChangesTo(attributeName) {\n    return this.#ignoredAttributes.has(attributeName)\n  }\n\n  #ignoringChangesToAttribute(attributeName, callback) {\n    this.#ignoredAttributes.add(attributeName);\n    callback();\n    this.#ignoredAttributes.delete(attributeName);\n  }\n\n  #withCurrentNavigationElement(element, callback) {\n    this.currentNavigationElement = element;\n    callback();\n    delete this.currentNavigationElement;\n  }\n}\n\nfunction getFrameElementById(id) {\n  if (id != null) {\n    const element = document.getElementById(id);\n    if (element instanceof FrameElement) {\n      return element\n    }\n  }\n}\n\nfunction activateElement(element, currentURL) {\n  if (element) {\n    const src = element.getAttribute(\"src\");\n    if (src != null && currentURL != null && urlsAreEqual(src, currentURL)) {\n      throw new Error(`Matching <turbo-frame id=\"${element.id}\"> element has a source URL which references itself`)\n    }\n    if (element.ownerDocument !== document) {\n      element = document.importNode(element, true);\n    }\n\n    if (element instanceof FrameElement) {\n      element.connectedCallback();\n      element.disconnectedCallback();\n      return element\n    }\n  }\n}\n\nconst StreamActions = {\n  after() {\n    this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e.nextSibling));\n  },\n\n  append() {\n    this.removeDuplicateTargetChildren();\n    this.targetElements.forEach((e) => e.append(this.templateContent));\n  },\n\n  before() {\n    this.targetElements.forEach((e) => e.parentElement?.insertBefore(this.templateContent, e));\n  },\n\n  prepend() {\n    this.removeDuplicateTargetChildren();\n    this.targetElements.forEach((e) => e.prepend(this.templateContent));\n  },\n\n  remove() {\n    this.targetElements.forEach((e) => e.remove());\n  },\n\n  replace() {\n    const method = this.getAttribute(\"method\");\n\n    this.targetElements.forEach((targetElement) => {\n      if (method === \"morph\") {\n        morphElements(targetElement, this.templateContent);\n      } else {\n        targetElement.replaceWith(this.templateContent);\n      }\n    });\n  },\n\n  update() {\n    const method = this.getAttribute(\"method\");\n\n    this.targetElements.forEach((targetElement) => {\n      if (method === \"morph\") {\n        morphChildren(targetElement, this.templateContent);\n      } else {\n        targetElement.innerHTML = \"\";\n        targetElement.append(this.templateContent);\n      }\n    });\n  },\n\n  refresh() {\n    session.refresh(this.baseURI, this.requestId);\n  }\n};\n\n// <turbo-stream action=replace target=id><template>...\n\n/**\n * Renders updates to the page from a stream of messages.\n *\n * Using the `action` attribute, this can be configured one of eight ways:\n *\n * - `after` - inserts the result after the target\n * - `append` - appends the result to the target\n * - `before` - inserts the result before the target\n * - `prepend` - prepends the result to the target\n * - `refresh` - initiates a page refresh\n * - `remove` - removes the target\n * - `replace` - replaces the outer HTML of the target\n * - `update` - replaces the inner HTML of the target\n *\n * @customElement turbo-stream\n * @example\n *   <turbo-stream action=\"append\" target=\"dom_id\">\n *     <template>\n *       Content to append to target designated with the dom_id.\n *     </template>\n *   </turbo-stream>\n */\nclass StreamElement extends HTMLElement {\n  static async renderElement(newElement) {\n    await newElement.performAction();\n  }\n\n  async connectedCallback() {\n    try {\n      await this.render();\n    } catch (error) {\n      console.error(error);\n    } finally {\n      this.disconnect();\n    }\n  }\n\n  async render() {\n    return (this.renderPromise ??= (async () => {\n      const event = this.beforeRenderEvent;\n\n      if (this.dispatchEvent(event)) {\n        await nextRepaint();\n        await event.detail.render(this);\n      }\n    })())\n  }\n\n  disconnect() {\n    try {\n      this.remove();\n      // eslint-disable-next-line no-empty\n    } catch {}\n  }\n\n  /**\n   * Removes duplicate children (by ID)\n   */\n  removeDuplicateTargetChildren() {\n    this.duplicateChildren.forEach((c) => c.remove());\n  }\n\n  /**\n   * Gets the list of duplicate children (i.e. those with the same ID)\n   */\n  get duplicateChildren() {\n    const existingChildren = this.targetElements.flatMap((e) => [...e.children]).filter((c) => !!c.getAttribute(\"id\"));\n    const newChildrenIds = [...(this.templateContent?.children || [])].filter((c) => !!c.getAttribute(\"id\")).map((c) => c.getAttribute(\"id\"));\n\n    return existingChildren.filter((c) => newChildrenIds.includes(c.getAttribute(\"id\")))\n  }\n\n  /**\n   * Gets the action function to be performed.\n   */\n  get performAction() {\n    if (this.action) {\n      const actionFunction = StreamActions[this.action];\n      if (actionFunction) {\n        return actionFunction\n      }\n      this.#raise(\"unknown action\");\n    }\n    this.#raise(\"action attribute is missing\");\n  }\n\n  /**\n   * Gets the target elements which the template will be rendered to.\n   */\n  get targetElements() {\n    if (this.target) {\n      return this.targetElementsById\n    } else if (this.targets) {\n      return this.targetElementsByQuery\n    } else {\n      this.#raise(\"target or targets attribute is missing\");\n    }\n  }\n\n  /**\n   * Gets the contents of the main `<template>`.\n   */\n  get templateContent() {\n    return this.templateElement.content.cloneNode(true)\n  }\n\n  /**\n   * Gets the main `<template>` used for rendering\n   */\n  get templateElement() {\n    if (this.firstElementChild === null) {\n      const template = this.ownerDocument.createElement(\"template\");\n      this.appendChild(template);\n      return template\n    } else if (this.firstElementChild instanceof HTMLTemplateElement) {\n      return this.firstElementChild\n    }\n    this.#raise(\"first child element must be a <template> element\");\n  }\n\n  /**\n   * Gets the current action.\n   */\n  get action() {\n    return this.getAttribute(\"action\")\n  }\n\n  /**\n   * Gets the current target (an element ID) to which the result will\n   * be rendered.\n   */\n  get target() {\n    return this.getAttribute(\"target\")\n  }\n\n  /**\n   * Gets the current \"targets\" selector (a CSS selector)\n   */\n  get targets() {\n    return this.getAttribute(\"targets\")\n  }\n\n  /**\n   * Reads the request-id attribute\n   */\n  get requestId() {\n    return this.getAttribute(\"request-id\")\n  }\n\n  #raise(message) {\n    throw new Error(`${this.description}: ${message}`)\n  }\n\n  get description() {\n    return (this.outerHTML.match(/<[^>]+>/) ?? [])[0] ?? \"<turbo-stream>\"\n  }\n\n  get beforeRenderEvent() {\n    return new CustomEvent(\"turbo:before-stream-render\", {\n      bubbles: true,\n      cancelable: true,\n      detail: { newStream: this, render: StreamElement.renderElement }\n    })\n  }\n\n  get targetElementsById() {\n    const element = this.ownerDocument?.getElementById(this.target);\n\n    if (element !== null) {\n      return [element]\n    } else {\n      return []\n    }\n  }\n\n  get targetElementsByQuery() {\n    const elements = this.ownerDocument?.querySelectorAll(this.targets);\n\n    if (elements.length !== 0) {\n      return Array.prototype.slice.call(elements)\n    } else {\n      return []\n    }\n  }\n}\n\nclass StreamSourceElement extends HTMLElement {\n  streamSource = null\n\n  connectedCallback() {\n    this.streamSource = this.src.match(/^ws{1,2}:/) ? new WebSocket(this.src) : new EventSource(this.src);\n\n    connectStreamSource(this.streamSource);\n  }\n\n  disconnectedCallback() {\n    if (this.streamSource) {\n      this.streamSource.close();\n\n      disconnectStreamSource(this.streamSource);\n    }\n  }\n\n  get src() {\n    return this.getAttribute(\"src\") || \"\"\n  }\n}\n\nFrameElement.delegateConstructor = FrameController;\n\nif (customElements.get(\"turbo-frame\") === undefined) {\n  customElements.define(\"turbo-frame\", FrameElement);\n}\n\nif (customElements.get(\"turbo-stream\") === undefined) {\n  customElements.define(\"turbo-stream\", StreamElement);\n}\n\nif (customElements.get(\"turbo-stream-source\") === undefined) {\n  customElements.define(\"turbo-stream-source\", StreamSourceElement);\n}\n\n(() => {\n  let element = document.currentScript;\n  if (!element) return\n  if (element.hasAttribute(\"data-turbo-suppress-warning\")) return\n\n  element = element.parentElement;\n  while (element) {\n    if (element == document.body) {\n      return console.warn(\n        unindent`\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements\n\n        ——\n        Suppress this warning by adding a \"data-turbo-suppress-warning\" attribute to: %s\n      `,\n        element.outerHTML\n      )\n    }\n\n    element = element.parentElement;\n  }\n})();\n\nwindow.Turbo = { ...Turbo, StreamActions };\nstart();\n\nexport { FetchEnctype, FetchMethod, FetchRequest, FetchResponse, FrameElement, FrameLoadingStyle, FrameRenderer, PageRenderer, PageSnapshot, StreamActions, StreamElement, StreamSourceElement, cache, clearCache, config, connectStreamSource, disconnectStreamSource, fetchWithTurboHeaders as fetch, fetchEnctypeFromString, fetchMethodFromString, isSafe, navigator$1 as navigator, registerAdapter, renderStreamMessage, session, setConfirmMethod, setFormMode, setProgressBarDelay, start, visit };\n","\"use strict\"\n\n/**\n * Turbo\n */\nimport {StreamActions, session} from \"@hotwired/turbo\"\n\nStreamActions[\"no-op\"] = function () {\n  // no-op is a keep-alive action\n}\n\n/**\n * Stimulus\n */\nimport { Application } from \"@hotwired/stimulus\"\nimport { definitionsFromContext } from \"@hotwired/stimulus-webpack-helpers\"\n\nconst application = Application.start()\nconst context = require.context(\"./controllers\", true, /\\.js$/)\napplication.load(definitionsFromContext(context))\n\n/**\n * Trix\n */\nimport Trix from \"trix\"\nimport \"trix/dist/trix.css\"\n\n// toolbar\nTrix.config.toolbar.getDefaultHTML = function() {\n  let {lang} = Trix.config\n  return `\n  <div class=\"trix-toolbar-container\">\n    <div class=\"ui compact mini icon menu\">\n      <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"bold\" data-trix-key=\"b\" title=\"${lang.bold}\"><i class=\"bold icon\"></i></button>\n      <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"italic\" data-trix-key=\"i\" title=\"${lang.italic}\"><i class=\"italic icon\"></i></button>\n      <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"strike\" title=\"${lang.strike}\"><i class=\"strikethrough icon\"></i></button>\n      <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"code\" title=\"${lang.code}\"><i class=\"code icon\"></i></button>\n      <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"sup\" title=\"Superscript\"><i class=\"superscript icon\"></i></button>\n      <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"sub\" title=\"Subscript\"><i class=\"subscript icon\"></i></button>\n      <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"href\" data-trix-action=\"link\" data-trix-key=\"k\"title=\"${lang.link}\"><i class=\"linkify icon\"></i></button>\n    </div>\n    <div class=\"ui compact mini icon menu\">\n        <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"heading1\" title=\"${lang.heading1}\"><i class=\"heading icon\"></i></button>\n        <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"quote\" title=\"${lang.quote}\"><i class=\"quote right icon\"></i></button>\n        <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"pre\" title=\"${lang.code}\"><i class=\"code icon\"></i></button>\n        <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"bullet\" title=\"${lang.bullets}\"><i class=\"list ul icon\"></i></button>\n        <button class=\"item\" tabindex=\"-1\" data-trix-attribute=\"number\" title=\"${lang.numbers}\"><i class=\"list ol icon\"></i></button>\n        <button class=\"item\" tabindex=\"-1\" data-trix-action=\"decreaseNestingLevel\" title=\"${lang.outdent}\"><i class=\"outdent icon\"></i></button>\n        <button class=\"item\" tabindex=\"-1\" data-trix-action=\"increaseNestingLevel\" title=\"${lang.indent}\"><i class=\"indent icon\"></i></button>\n    </div>\n    <div class=\"ui compact mini icon menu\">\n      <button class=\"item\" tabindex=\"-1\" data-trix-action=\"attachFiles\" title=\"${lang.attachFiles}\"><i class=\"paperclip icon\"></i></button>\n    </div>\n    <div class=\"ui compact mini icon menu\">\n      <button class=\"item\" tabindex=\"-1\" data-trix-action=\"undo\" data-trix-key=\"z\" title=\"${lang.undo}\"><i class=\"undo icon\"></i></button>\n      <button class=\"item\" tabindex=\"-1\" data-trix-action=\"redo\" data-trix-key=\"shift+z\" title=\"${lang.redo}\"><i class=\"redo icon\"></i></button>\n    </div>\n  </div>\n  <div class=\"trix-dialogs\" data-trix-dialogs>\n    <div class=\"trix-dialog\" data-trix-dialog=\"href\" data-trix-dialog-attribute=\"href\">\n      <div class=\"trix-dialog__link-fields\">\n        <input type=\"url\" name=\"href\" class=\"trix-input trix-input--dialog\" placeholder=\"${lang.urlPlaceholder}\" aria-label=\"${lang.url}\" required data-trix-input>\n        <div class=\"trix-button-group\">\n          <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.link}\" data-trix-method=\"setAttribute\">\n          <input type=\"button\" class=\"trix-button trix-button--dialog\" value=\"${lang.unlink}\" data-trix-method=\"removeAttribute\">\n        </div>\n      </div>\n    </div>\n  </div>\n  `\n}\n\ndelete Trix.config.blockAttributes.code\nTrix.config.blockAttributes.pre = { tagName: \"pre\", terminal: true, text: { plaintext: true } }\nTrix.config.textAttributes.code = { tagName: \"code\", inheritable: true }\nTrix.config.textAttributes.sub = { tagName: \"sub\", inheritable: true }\nTrix.config.textAttributes.sup = { tagName: \"sup\", inheritable: true }\n\n// prevent morphing of the editor, lightgallery, and images. each has\n// client state that will be lost if the page is refreshed/morphed.\n// see: https://github.com/hotwired/turbo-rails/issues/533\n// see: https://github.com/hotwired/turbo/issues/1083\n\naddEventListener(\"turbo:before-morph-element\", (event) => {\n  const { target } = event\n  if (target.tagName == \"FORM\" && target.classList.contains(\"editor\")) {\n    event.preventDefault()\n  } else if (target.tagName == \"DIV\" && target.classList.contains(\"lg-container\")) {\n    event.preventDefault()\n  } else if (target.tagName == \"IMG\" && target.dataset.lgId) {\n    event.preventDefault()\n  }\n})\n\n// monitor the stream sources on the page. if any are closed, remove\n// them, which ensures they are recreated when the page refreshes.\n\n// to prevent the monitor from spamming the server during maintenance\n// or other downtime events, delay the start of the check for 6 * 10\n// seconds. then check every 10 seconds. after refreshing the page,\n// again delay the start of the check for 6 * 10 seconds. note that\n// this code will not be reloaded if the page is refreshed.\n\n;(function () {\n  let counter = 0\n  let closed = false\n  let checking = false\n\n  function checkConnectivity(callback) {\n    const controller = new AbortController()\n    const timeoutId = setTimeout(() => controller.abort(), 5000)\n\n    fetch(window.location.origin, { method: 'HEAD', cache: 'no-store', signal: controller.signal })\n      .then(response => {\n        clearTimeout(timeoutId)\n        callback(response.status >= 200)\n      })\n      .catch(error => {\n        clearTimeout(timeoutId)\n        callback(false)\n      })\n  }\n\n  setInterval(function () {\n    counter = counter + 1\n    document.querySelectorAll('turbo-stream-source').forEach(function (turboStreamSource) {\n      if (turboStreamSource.streamSource.readyState == 2) { // closed\n        turboStreamSource.remove()\n        closed = true\n      }\n    })\n\n    if (counter > 5 && closed && !checking) {\n      checking = true\n      checkConnectivity(function (isOnline) {\n        if (isOnline) {\n          console.debug(\"counter\", counter, \"closed\", closed, \"|\", \"refreshing\", window.location.href)\n          session.refresh(window.location.href)\n          counter = 0\n          closed = false\n          checking = false\n        } else {\n          console.debug(\"counter\", counter, \"closed\", closed, \"|\", \"server unreachable, waiting to refresh\", window.location.href)\n          checking = false\n        }\n      })\n    }\n  }, 10000)\n})()\n","/*\nStimulus Webpack Helpers 1.0.0\nCopyright © 2021 Basecamp, LLC\n */\nfunction definitionsFromContext(context) {\n    return context.keys()\n        .map((key) => definitionForModuleWithContextAndKey(context, key))\n        .filter((value) => value);\n}\nfunction definitionForModuleWithContextAndKey(context, key) {\n    const identifier = identifierForContextKey(key);\n    if (identifier) {\n        return definitionForModuleAndIdentifier(context(key), identifier);\n    }\n}\nfunction definitionForModuleAndIdentifier(module, identifier) {\n    const controllerConstructor = module.default;\n    if (typeof controllerConstructor == \"function\") {\n        return { identifier, controllerConstructor };\n    }\n}\nfunction identifierForContextKey(key) {\n    const logicalName = (key.match(/^(?:\\.\\/)?(.+)(?:[_-]controller\\..+?)$/) || [])[1];\n    if (logicalName) {\n        return logicalName.replace(/_/g, \"-\").replace(/\\//g, \"--\");\n    }\n}\n\nexport { definitionForModuleAndIdentifier, definitionForModuleWithContextAndKey, definitionsFromContext, identifierForContextKey };\n"],"names":["inProgress","dataWebpackPrefix","click","event","menu","this","element","querySelector","style","display","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","show","preventDefault","form","closest","modal","document","dataset","buttonOk","buttonCancel","body","parentElement","classList","contains","div","createElement","add","append","dimmer","okFn","teardownFn","submit","escapeFn","key","cancelFn","removeEventListener","remove","addEventListener","setTimeout","__assign","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","lGEvents","lightGalleryCoreSettings","mode","easing","speed","licenseKey","height","width","addClass","startClass","backdropDuration","container","startAnimationDuration","zoomFromOrigin","hideBarsDelay","showBarsAfter","slideDelay","supportLegacyBrowser","allowMediaOverlap","videoMaxSize","loadYouTubePoster","defaultCaptionHeight","ariaLabelledby","ariaDescribedby","resetScrollPosition","hideScrollbar","closable","swipeToClose","closeOnTap","showCloseIcon","showMaximizeIcon","loop","escKey","keyPress","trapFocus","controls","slideEndAnimation","hideControlOnEnd","mousewheel","getCaptionFromTitleOrAlt","appendSubHtmlTo","subHtmlSelectorRelative","preload","numberOfSlideItemsInDom","selector","selectWithin","nextHtml","prevHtml","index","iframeWidth","iframeHeight","iframeMaxWidth","iframeMaxHeight","download","counter","appendCounterTo","swipeThreshold","enableSwipe","enableDrag","dynamic","dynamicEl","extraProps","exThumbImage","isMobile","undefined","mobileSettings","plugins","strings","closeGallery","toggleMaximize","previousSlide","nextSlide","playVideo","mediaLoadingFailed","lgQuery","cssVenderPrefixes","_getSelector","firstElement","_getFirstEl","generateUUID","replace","c","r","Math","random","toString","context","substring","querySelectorAll","_each","func","forEach","_setCssVendorPrefix","el","cssProperty","value","property","group1","toUpperCase","indexOf","charAt","toLowerCase","slice","isEventMatched","eventName","eventNamespace","split","filter","every","attr","getAttribute","setAttribute","find","$LG","first","eq","parent","get","removeAttr","attributes","attrs","removeAttribute","wrap","className","wrapper","parentNode","insertBefore","removeChild","appendChild","classNames","removeClass","hasClass","hasAttribute","attribute","toggleClass","css","_this","on","events","listener","Array","isArray","eventListeners","push","once","off","trigger","detail","customEvent","CustomEvent","dispatchEvent","load","url","fetch","then","res","text","html","innerHTML","insertAdjacentHTML","prepend","HTMLElement","cloneNode","firstChild","empty","scrollTop","documentElement","window","pageYOffset","scrollLeft","pageXOffset","offset","left","top","rect","getBoundingClientRect","bodyMarginLeft","marginLeft","parseFloat","currentStyle","getComputedStyle","clientWidth","paddingLeft","paddingRight","clientHeight","paddingTop","paddingBottom","params","bubbles","cancelable","evt","createEvent","initCustomEvent","Element","matches","msMatchesSelector","webkitMatchesSelector","defaultDynamicOptions","convertToData","g","utils","insertMethod","response","htmlContent","contentDiv","spacing","defaultLgSize","lgSize","isResponsiveSizes","wWidth","innerWidth","size_1","parseInt","size","cWidth","cHeight","maxWidth","min","maxHeight","ratio","bottom","imageSize","LGel","containerRect","wHeight","elWidth","elHeight","elStyle","x","borderLeft","y","borderTop","src","altAttr","srcset","sizes","sources","imgMarkup","sourceTag","JSON","parse","source","lgId","LightGallery","options","lgOpened","lGalleryOn","lgBusy","currentItemsInDom","prevScrollTop","bodyPaddingRight","isDummyImageRemoved","dragOrSwipeEnabled","mediaContainerPosition","generateSettings","buildModules","settings","galleryItems","getItems","normalizeSettings","init","validateLicense","test","navigator","userAgent","addSlideVideoInfo","buildStructure","instance","triggerPosterClick","arrow","openGalleryOnItemClick","_loop_1","this_1","items","$element","uuid","currentItemIndex","openGallery","plugin","console","warn","error","getSlideItem","getSlideItemId","getIdName","getElementById","manageSingleSlideClassName","outer","$container","subHtmlCont","addClasses","containerClassName","closeIcon","maximizeIcon","template","$lgComponents","$backdrop","$inner","$content","$toolbar","outerClassNames","refreshOnResize","hideBars","manageCloseGallery","initModules","__slideVideoInfo","getMediaContainerPosition","_a","top_1","currentImageSize","resizeVideoSlide","imgStyle","getDummyImgStyles","lgVideoStyle","getVideoContStyle","updateSlides","currentSrc","updateControls","_index","some","galleryItem","itemIndex","organizeSlideItems","loadContent","updateCurrentCounter","children","dynamicElements","availableDynamicOptions","il","k","a","j","jl","__spreadArrays","item","specified","dynamicAttr","name","label","currentItem","alt","title","thumb","subHtml","shouldHideScrollbar","bodyRect","scrollbarWidth","resetScrollBar","itemsToBeInsertedToDom","getItemsToBeInsertedToDom","addHtml","transform","setMediaContainerPosition","timeout","currentSlide_1","slide","captionHeight","thumbContainer","clearTimeout","hideBarTimeout","initPictureFill","$img","picturefill","elements","counterHtml","subHtmlUrl","fL","currentSlide","getDummyImageContent","$currentSlide","$currentItem","_dummyImgSrc","dummyImgContentImg","cssText","setImgMarkup","imgContent","currentGalleryItem","isFirstSlideWithZoomAnimation","picture","onSlideObjectLoad","$slide","isHTML5VideoWithoutPoster","onLoad","onError","img","mediaObject","complete","naturalWidth","onLgObjectLoad","delay","isFirstSlide","triggerSlideItemLoad","_speed","getSlideType","poster","isHTML5VIdeo","html5","youtube","match","vimeo","wistia","video","rec","_html5Video","responsive","srcDyItms","srcItms","rsWidth","rsSrc","_src","splice","videoInfo","iframe","top_2","videoSize","markup","iframeTitle","dummyImg","_poster","videoContStyle","playVideoString","_isVideo","videoClass","_dummy","outerHTML","html5Video","hasPoster","loadContentOnFirstSlideLoad","prevIndex","numberOfItems","possibleNumberOfItems","max","prevIndexItem","_element","idx","numberOfExistingItems","getPreviousSlideIndex","currentItemId","setDownloadValue","downloadUrl","$download","makeSlideAnimation","direction","currentSlideItem","previousSlideItem","fromTouch","fromThumb","numberOfGalleryItems","previousSlideItem_1","top_3","arrowDisable","touchPrev","touchNext","updateCounterTotal","touchMove","startCoords","endCoords","distanceX","pageX","distanceY","pageY","allowSwipe","swipeDirection","abs","setTranslate","offsetWidth","gutter","opacity","innerHeight","scale","touchEnd","distance","triggerClick","distanceAbs","goToNextSlide","goToPrevSlide","target","isPosterElement","isMoved","isSwiping","$item","touches","touchAction","manageSwipeClass","isDraging","_touchNext","_touchPrev","_loop","keyCode","$prev","$next","$el","xValue","yValue","scaleX","scaleY","lastCall","deltaY","now","Date","getTime","isSlideElement","playButton","invalidateItems","focus","preventScroll","focusableEls","visibility","firstFocusableEl","lastFocusableEl","shiftKey","activeElement","mousedown","force","top_4","_b","destroyModules","removeTimeout","blur","err","destroy","refresh","destroyGallery","closeTimeout","bind","zoomSettings","zoom","infiniteZoom","actualSize","showZoomInOutIcons","actualSizeIcons","zoomIn","zoomOut","enableZoomAfter","zoomPluginStrings","viewActualSize","Zoom","core","buildTemplates","zoomIcons","enableZoom","zoomableTimeout","isImageSlide","setZoomEssentials","enableZoomOnSlideItemLoad","getDragCords","getSwipeCords","getDragAllowedAxises","scaleDiff","allowX","allowY","$image","offsetHeight","zoomImage","reposition","resetToMax","originalX","originalY","offsetX","offsetY","positionChanged","dragAllowedAxises","possibleSwipeCords","getPossibleSwipeDragCords","_x","_y","scaleVal","isBeyondPossibleLeft","minX","isBeyondPossibleRight","maxX","isBeyondPossibleTop","minY","isBeyondPossibleBottom","maxY","setZoomStyles","setZoomImageSize","resetImageTranslate","imageReset","actualSizeScale","getCurrentImageActualSizeScale","naturalHeight","ZOOM_TRANSITION_DURATION","$imageWrap","$dummyImage","setActualSize","zoomInProgress","prevScale","getScale","setPageCords","beginZoom","getNaturalWidth","getActualSizeScale","getPageCords","cords","pageCords","manageActualPixelClassNames","resetZoom","tapped","$target","_LGel","setZoomSwipeStyles","zoomDrag","pinchZoom","zoomSwipe","$actualSize","getTouchDistance","sqrt","startDist","pinchStarted","initScale","endDist","_scale","round","Number","EPSILON","diff","touchendZoom","touchDuration","distanceXnew","distanceYnew","speedX","speedY","getZoomSwipeCords","diffMinY","diffMaxY","diffMinX","difMaxX","imgRect","imageHeight","imageWidth","startTime","valueOf","endTime","isDragging","rotateSettings","rotate","rotateSpeed","rotateLeft","rotateRight","flipHorizontal","flipVertical","rotatePluginStrings","Rotate","rotateIcons","rotateValuesList","applyStyles","triggerEvents","getCurrentRotation","st","tm","getPropertyValue","values","angle","atan2","PI","rotateEl","currentRotation","rotateAxis","isImageOrientationChanged","rotateValue","isRotated","ifFlippedHor","ifFlippedVer","lg","getPrototypeOf","caption","$figure","$figcaption","$subHtml","trim","connect","lightGallery","disconnect","href","String","eventsToBind","handler","mousemove","moved","hrefValue","URL","host","location","open","Turbo","visit","input","type","change","timezone","Intl","DateTimeFormat","resolvedOptions","timeZone","placeholder","placeholderOnly","extend_handler","controller","previous_keydown","keydown","editor","delegate","suggestion","backspaced","insertString","selectionManager","requestedRender","begin","end","getSelectedRange","setSelectedRange","controllers","Level0InputController","Level2InputController","getDocument","position","getPosition","change_lock","ch1","ch2","ch","prefix","startsWith","attachment","file","fd","FormData","xhr","XMLHttpRequest","setRequestHeader","Ktistec","csrf","upload","lengthComputable","progress","loaded","total","setUploadProgress","status","setAttributes","getResponseHeader","send","previewURL","preview","presentation","default","tagName","quote","nestable","heading1","terminal","breakOnReturn","group","htmlAttributes","plaintext","bulletList","bullet","listAttribute","numberList","number","attachmentGallery","exclusive","composesExistingText","recentAndroid","samsungAndroid","forcesObjectResizing","supportsInputEvents","InputEvent","l","ADD_ATTR","SAFE_FOR_XML","RETURN_DOM","attachFiles","bold","bullets","byte","bytes","captionPlaceholder","indent","italic","link","numbers","outdent","redo","strike","undo","unlink","urlPlaceholder","GB","KB","MB","PB","TB","u","h","precision","formatter","concat","floor","log","pow","toFixed","d","m","f","b","onElement","matchingSelector","withCallback","inPhase","times","v","initEvent","A","nodeType","untilNode","Node","ELEMENT_NODE","C","E","previousSibling","S","R","onlyNodesOfType","usingFilter","expandEntityReferences","NodeFilter","SHOW_ELEMENT","SHOW_TEXT","SHOW_COMMENT","SHOW_ALL","createTreeWalker","T","editable","contenteditable","data","textContent","childNodes","w","L","D","I","N","strict","includes","O","COMMENT_NODE","F","B","trixCursorTarget","P","M","TEXT_NODE","_","level2Enabled","getLevel","pickFiles","multiple","hidden","fileInputId","files","removeBlankTableCells","tableCellSeparator","tableRowSeparator","W","inheritable","parser","fontWeight","fontStyle","groupTagName","frozen","backgroundColor","U","getDefaultHTML","V","interval","z","freeze","__proto__","attachments","blockAttributes","browser","attachmentCaption","attachmentCaptionEditor","attachmentMetadata","attachmentMetadataContainer","attachmentName","attachmentProgress","attachmentSize","attachmentToolbar","dompurify","fileSize","keyNames","lang","textAttributes","toolbar","q","proxyMethod","toMethod","toProperty","optional","H","J","K","Function","RegExp","G","Y","X","$","box","fromUCS2String","et","fromCodepoints","it","constructor","super","ucs2String","codepoints","ucs2Length","offsetToUCS2Offset","offsetFromUCS2Offset","isEqualTo","toJSON","getCacheKey","Z","from","Q","codePointAt","tt","fromCodePoint","charCodeAt","fromCharCode","join","nt","rt","fromJSONString","fromJSON","hasSameConstructorAs","inspect","contentsForInspection","toJSONString","stringify","toUTF16String","ot","at","lt","dir","dirName","has","ct","ut","ht","dt","gt","bt","pt","mt","ft","vt","At","yt","head","xt","nonce","content","Ct","Et","getData","DOMParser","parseFromString","St","platform","metaKey","ctrlKey","Rt","kt","Tt","wt","Nt","Lt","It","Dt","Ot","update","selectionManagers","start","started","stop","registerSelectionManager","unregisterSelectionManager","notifySelectionManagersOfSelectionChange","selectionDidChange","reset","Ft","Pt","getSelection","rangeCount","Mt","getRangeAt","_t","Bt","removeAllRanges","addRange","jt","startContainer","endContainer","Wt","Ut","Vt","zt","qt","utf16String","Ht","fromCommonAttributesOfObjects","Yt","getKeys","getKeysCommonToHash","Gt","merge","Jt","Kt","Xt","toArray","isEmpty","array","toObject","sort","$t","groupObjects","depth","asTree","canBeGrouped","canBeGroupedWith","objects","getObjects","getDepth","Zt","Qt","te","trixStoreKey","ee","isPerforming","performing","hasPerformed","performed","hasSucceeded","succeeded","hasFailed","getPromise","promise","Promise","perform","release","cancel","ie","object","childViews","rootView","getNodes","nodes","createNodes","invalidate","parentView","invalidateViewForObject","findViewForObject","findOrCreateCachedChildView","getCachedViewForObject","recordChildView","createChildView","cacheViewForObject","viewClass","ne","getAllChildViews","findElement","findElementForObject","getViewCache","isViewCachingEnabled","viewCache","shouldCacheViews","enableViewCaching","disableViewCaching","garbageCollectCachedViews","objectGroup","getChildViews","createContainerElement","entries","re","setPrototypeOf","oe","isFrozen","se","ae","getOwnPropertyDescriptor","le","ce","seal","ue","create","he","de","construct","ge","Reflect","me","Le","pe","lastIndexOf","fe","pop","be","ve","Ae","ye","xe","Ce","Ee","Se","Re","ke","Te","we","TypeError","lastIndex","De","Ne","Ie","Oe","Fe","Pe","Me","Be","_e","je","We","Ue","Ve","ze","qe","He","Je","Ke","Ge","Ye","Xe","$e","Ze","Qe","ti","ei","ARIA_ATTR","ATTR_WHITESPACE","CUSTOM_ELEMENT","DATA_ATTR","DOCTYPE_NAME","ERB_EXPR","IS_ALLOWED_URI","IS_SCRIPT_OR_DATA","MUSTACHE_EXPR","TMPLIT_EXPR","li","version","removed","isSupported","currentScript","DocumentFragment","HTMLTemplateElement","NamedNodeMap","MozNamedAttrMap","HTMLFormElement","trustedTypes","ownerDocument","implementation","createNodeIterator","createDocumentFragment","getElementsByTagName","importNode","afterSanitizeAttributes","afterSanitizeElements","afterSanitizeShadowDOM","beforeSanitizeAttributes","beforeSanitizeElements","beforeSanitizeShadowDOM","uponSanitizeAttribute","uponSanitizeElement","uponSanitizeShadowNode","createHTMLDocument","tagNameCheck","writable","configurable","enumerable","attributeNameCheck","allowCustomizedBuiltInElements","PARSER_MEDIA_TYPE","ALLOWED_TAGS","ALLOWED_ATTR","ALLOWED_NAMESPACES","ADD_URI_SAFE_ATTR","ADD_DATA_URI_TAGS","FORBID_CONTENTS","FORBID_TAGS","FORBID_ATTR","USE_PROFILES","ALLOW_ARIA_ATTR","ALLOW_DATA_ATTR","ALLOW_UNKNOWN_PROTOCOLS","ALLOW_SELF_CLOSE_IN_ATTR","SAFE_FOR_TEMPLATES","WHOLE_DOCUMENT","RETURN_DOM_FRAGMENT","RETURN_TRUSTED_TYPE","FORCE_BODY","SANITIZE_DOM","SANITIZE_NAMED_PROPS","KEEP_CONTENT","IN_PLACE","ALLOWED_URI_REGEXP","NAMESPACE","MATHML_TEXT_INTEGRATION_POINTS","HTML_INTEGRATION_POINTS","CUSTOM_ELEMENT_HANDLING","svg","svgFilters","mathMl","ADD_TAGS","table","tbody","TRUSTED_TYPES_POLICY","createHTML","createScriptURL","createPolicy","getAttributeNode","createDocument","createTextNode","SHOW_PROCESSING_INSTRUCTION","SHOW_CDATA_SECTION","nodeName","namespaceURI","hasChildNodes","allowedTags","firstElementChild","__removalCount","Boolean","attrName","attrValue","keepAttr","allowedAttributes","forceKeepAttr","getAttributeType","setAttributeNS","nextNode","sanitize","shadowroot","shadowrootmode","doctype","setConfig","clearConfig","isValidAttribute","addHook","removeHook","removeHooks","removeAllHooks","ci","ui","hi","di","setHTML","getHTML","forbiddenProtocols","forbiddenElements","purifyOptions","gi","sanitizeElements","normalizeListElementNesting","getBody","currentNode","elementIsRemovable","sanitizeElement","protocol","previousElementSibling","elementIsForbidden","elementIsntSerializable","mi","pi","uploadProgressDelegate","attachmentPiece","piece","createContentNodes","getClassName","getHref","tabindex","hasContent","getContent","createCaptionElement","isPending","progressElement","class","getUploadProgress","trixMutable","fi","getCaption","getCaptionConfig","getFilename","getFormattedFilesize","getType","getExtension","trixAttachment","trixContentType","getContentType","trixId","trixAttributes","trixSerialize","bi","findProgressElement","attachmentDidChangeUploadProgress","vi","previewDelegate","image","updateAttributesForImage","getURL","getPreviewURL","getWidth","getHeight","attachmentDidChangeAttributes","Ai","getAttributes","textConfig","string","createAttachmentNodes","createStringNodes","isPreviewable","preserveSpaces","styleProperty","isLast","isFirst","followsWhitespace","yi","getPieces","xi","Ci","Ei","block","createComment","getLastAttribute","shouldAddExtraNewlineElement","isRTL","getBlockBreakPosition","Si","render","sync","elementStore","setDocument","shadowElement","getBlocks","isSynced","ki","createDocumentFragmentForSync","lastChild","didSync","Ri","replaceChild","Ti","wi","Li","done","reject","next","arg","_invoke","return","Di","Symbol","toPrimitive","Ni","defineProperty","Ii","Pi","Fi","Oi","set","Mi","Bi","_i","ji","asyncIterator","throw","Wi","registerType","types","copyWithAttributes","getValue","copyWithAdditionalAttributes","copyWithoutAttribute","copy","getAttributesHash","hasSameStringValueAsPiece","hasSameAttributesAsPiece","isBlockBreak","isSerializable","getLength","canBeConsolidatedWith","Ui","Image","onload","onerror","Vi","attachmentForFile","attributesForFile","setFile","filename","filesize","contentType","releaseFile","didChangeAttributes","preloadURL","previewablePattern","getFilesize","getFile","preloadFile","releasePreloadedFile","uploadProgress","preloadingURL","setPreviewURL","attachmentDidChangePreviewURL","fileObjectURL","createObjectURL","revokeObjectURL","catch","zi","ensureAttachmentExclusivelyHasAttribute","removeProhibitedAttributes","permittedAttributes","toConsole","qi","consolidateWith","splitAtOffset","Hi","eachObject","insertObjectAtIndex","insertSplittableListAtIndex","insertSplittableListAtPosition","splitObjectAtPosition","editObjectAtIndex","replaceObjectAtIndex","removeObjectAtIndex","getObjectAtIndex","getSplittableListInRange","splitObjectsAtRange","selectSplittableList","removeObjectsInRange","transformObjectsInRange","Ki","Gi","getObjectAtPosition","findIndexAndOffsetAtPosition","consolidate","consolidateFromIndexToIndex","findPositionAtIndexAndOffset","getEndPosition","endPosition","Ji","Yi","textForAttachmentWithAttributes","textForStringWithAttributes","pieceList","copyWithPieceList","copyUsingObjectMap","appendText","insertTextAtPosition","removeTextAtRange","replaceTextAtRange","moveTextFromRangeToPosition","getTextAtRange","addAttributeAtRange","addAttributesAtRange","removeAttributeAtRange","setAttributesAtRange","getAttributesAtPosition","getCommonAttributes","getCommonAttributesAtRange","getExpandedRangeForAttributeAtOffset","getStringAtRange","getStringAtPosition","startsWithString","endsWithString","getAttachmentPieces","getAttachments","getAttachmentAndPositionById","getAttachmentById","getRangeOfAttachment","updateAttributesForAttachment","eachPiece","getPieceAtPosition","toSerializableText","getDirection","Xi","$i","copyWithText","copyWithoutText","copyWithoutAttributes","addAttribute","rn","addHTMLAttribute","sn","removeLastAttribute","getAttributeLevel","getAttributeAtLevel","hasAttributes","getLastNestableAttribute","getNestableAttributes","getNestingLevel","decreaseNestingLevel","increaseNestingLevel","getListItemAttributes","isListItem","isTerminalBlock","breaksOnReturn","findLineBreakInDirectionFromPosition","getTextWithoutBlockBreak","en","Zi","tn","nn","Qi","blockBreak","an","fromString","blockList","getBlockAtIndex","consolidateBlocks","copyUsingObjectsFromDocument","copyWithBaseBlockAttributes","replaceBlock","insertDocumentAtRange","locationFromPosition","getBlockAtPosition","mergeDocumentAtRange","getBaseBlockAttributes","getBlockCount","insertTextAtRange","locationRangeFromRange","getDocumentAtRange","eachBlockAtRange","eachBlock","getTextAtIndex","removeAttributeForAttachment","setHTMLAttributeAtPosition","insertBlockBreakAtRange","applyBlockAttributeAtRange","expandRangeToLineBreaksAndSplitBlocks","range","removeLastListAttributeAtRange","exceptAttributeName","convertLineBreaksToBlockBreaksInRange","removeBlockAttributesAtRange","removeLastTerminalAttributeAtRange","consolidateBlocksAtRange","positionFromLocation","getTextAtPosition","getCharacterAtPosition","getEditCount","editCount","getCommonAttributesAtPosition","ln","getRangeOfCommonAttributeAtPosition","getLocationRangeOfAttachment","getAttachmentPieceForAttachment","findRangesForBlockAttribute","findRangesForTextAttribute","withValue","locationRangeFromPosition","rangeFromLocationRange","getTexts","toSerializableDocument","cn","un","hn","referenceElement","blocks","blockElements","processedElements","createHiddenContainer","containerElement","pn","processNode","translateBlockElementMarginsToNewlines","removeHiddenContainer","nextSibling","isInsignificantTextNode","appendBlockForTextNode","processTextNode","appendBlockForElement","processElement","currentBlockElement","isBlockElement","appendStringWithAttributes","getBlockAttributes","getBlockHTMLAttributes","currentBlock","appendBlockForAttributesWithElement","findParentBlockElement","appendEmptyBlock","dn","vn","fn","getTextAttributes","appendAttachmentWithAttributes","isExtraBR","needsTableSeparator","appendPiece","appendStringToTextAtIndex","prependStringToTextAtIndex","unshift","findBlockElementAncestors","reverse","bn","gn","getMarginOfDefaultBlockElement","getMarginOfBlockElementAtIndex","mn","whiteSpace","marginTop","marginBottom","FILTER_REJECT","FILTER_ACCEPT","An","yn","xn","Cn","En","Sn","Rn","attachmentManager","requestRemovalOfAttachment","kn","managedAttachments","manageAttachment","attachmentIsManaged","attachmentManagerDidRequestRemovalOfAttachment","unmanageAttachment","Tn","composition","startPosition","startLocation","endLocation","previousCharacter","nextCharacter","shouldInsertBlockBreak","shouldBreakFormattedBlock","shouldDecreaseListLevel","shouldPrependListItem","shouldRemoveLastBlockAttribute","wn","currentAttributes","revision","refreshAttachments","compositionDidChangeDocument","getSnapshot","selectedRange","loadSnapshot","compositionWillLoadSnapshot","setSelection","compositionDidLoadSnapshot","insertText","updatePosition","notifyDelegateOfInsertionAtRange","insertBlock","insertDocument","getCurrentTextAttributes","insertBlockBreak","insertLineBreak","decreaseListLevel","removeLastBlockAttribute","breakFormattedBlock","insertHTML","replaceHTML","getLocationRange","insertFile","insertFiles","compositionShouldAcceptFile","insertAttachments","insertAttachment","shouldManageDeletingInDirection","shouldManageMovingCursorInDirection","deleteInDirection","canDecreaseBlockAttributeLevel","getBlock","decreaseBlockAttributeLevel","getExpandedRangeInDirection","getAttachmentAtRange","editAttachment","moveTextFromRange","removeAttachment","stopEditingAttachment","removeCurrentAttribute","insertPlaceholder","placeholderPosition","selectPlaceholder","forgetPlaceholder","hasCurrentAttribute","toggleCurrentAttribute","setCurrentAttribute","canSetCurrentAttribute","canSetCurrentBlockAttribute","canSetCurrentTextAttribute","getSelectedDocument","setBlockAttribute","setTextAttribute","notifyDelegateOfCurrentAttributesChange","setHTMLAtributeAtPosition","removeBlockAttribute","updateCurrentAttributes","removeTextAttribute","canDecreaseNestingLevel","canIncreaseNestingLevel","getPreviousBlock","ignoreLock","getCurrentAttributes","freezeSelection","thawSelection","hasFrozenSelection","compositionDidRequestChangingSelectionToLocationRange","getSelectionManager","setLocationRange","targetLocationRange","withTargetLocationRange","withTargetRange","withTargetDOMRange","createLocationRangeFromDOMRange","translateUTF16PositionFromOffset","editingAttachment","moveCursorInDirection","expandSelectionInDirection","expandSelectionForEditing","expandSelectionAroundCommonAttribute","selectionContainsAttachments","getSelectedAttachments","selectionIsInCursorTarget","positionIsCursorTarget","locationIsCursorTarget","positionIsBlockBreak","added","Set","compositionDidRemoveAttachment","compositionDidAddAttachment","compositionDidEditAttachment","compositionDidChangeAttachmentPreviewURL","compositionDidStartEditingAttachment","compositionDidStopEditingAttachment","compositionDidChangeCurrentAttributes","compositionDidPerformInsertionAtRange","Ln","undoEntries","redoEntries","recordUndoEntry","consolidatable","Dn","createEntry","description","snapshot","canUndo","canRedo","Nn","In","applyBlockAttribute","findRangesOfBlocks","findRangesOfPieces","moveSelectedRangeForward","On","Fn","Pn","undoManager","filters","loadDocument","loadHTML","loadJSON","getClientRectAtPosition","getClientRectAtLocationRange","activateAttribute","attributeIsActive","canActivateAttribute","deactivateAttribute","Mn","findLocationFromContainerAndOffset","findAttachmentElementParentForNode","Wn","Bn","findContainerAndOffsetFromLocation","findNodeAndOffsetFromLocation","getSignificantNodesForIndex","_n","jn","Un","createDOMRangeFromPoint","caretPositionFromPoint","offsetNode","createRange","setStart","caretRangeFromPoint","createTextRange","moveToPoint","select","getClientRectsForDOMRange","getClientRects","Vn","didMouseDown","locationMapper","pointMapper","lockCount","currentLocationRange","lockedLocationRange","createDOMRangeFromLocationRange","updateCurrentLocationRange","setLocationRangeFromPointRange","getLocationAtPoint","lock","unlock","clearSelection","selectionIsCollapsed","collapsed","selectionIsExpanded","domRangeWithinElement","startOffset","endOffset","pauseTemporarily","paused","locationRangeDidChange","setEnd","zn","Attachment","AttachmentManager","AttachmentPiece","Block","Composition","Document","Editor","HTMLParser","HTMLSanitizer","LineBreakInsertion","LocationMapper","ManagedAttachment","Piece","PointMapper","SelectionManager","SplittableList","StringPiece","Text","UndoManager","qn","ObjectView","AttachmentView","BlockView","DocumentView","PieceView","PreviewableAttachmentView","TextView","Hn","Jn","Kn","Gn","do","undos","Yn","trixAction","didClickToolbar","didClickActionButton","tabIndex","scrollHeight","didInputCaption","didKeyDownCaption","didChangeCaption","didBlurCaption","editCaption","install","makeElementMutable","addToolbar","installCaptionEditor","uninstall","savePendingCaption","didUninstallAttachmentEditor","pendingCaption","attachmentEditorDidRequestUpdatingAttributesForAttachment","attachmentEditorDidRequestRemovingAttributeForAttachment","stopPropagation","attachmentEditorDidRequestRemovalOfAttachment","attachmentEditorDidRequestDeselectingAttachment","Xn","didFocus","didBlur","didClickAttachment","documentView","focused","compositionControllerDidFocus","blurPromise","compositionControllerDidBlur","findAttachmentForElement","compositionControllerDidSelectAttachment","getSerializableElement","isEditingAttachment","canSyncDocumentView","compositionControllerWillSyncDocumentView","compositionControllerDidSyncDocumentView","compositionControllerDidRender","rerenderViewForObject","refreshViewCache","attachmentEditor","installAttachmentEditorForAttachment","uninstallAttachmentEditor","compositionControllerWillUpdateAttachment","compositionControllerDidRequestRemovalOfAttachment","compositionControllerDidRequestDeselectingAttachment","$n","Zn","Qn","tr","childList","characterData","characterDataOldValue","subtree","er","didMutate","observer","MutationObserver","observe","mutations","findSignificantMutations","elementDidMutate","getMutationSummary","mutationIsSignificant","nodeIsMutable","nodesModifiedByMutation","nodeIsSignificant","attributeName","addedNodes","removedNodes","getTextMutationSummary","additions","deletions","getTextChangesFromCharacterData","getTextChangesFromChildList","textAdded","textDeleted","getMutationsByType","ir","oldValue","nr","FileReader","abort","readAsArrayBuffer","rr","shouldIgnore","previousEvent","checkSamsungKeyboardBuggyModeStart","checkSamsungKeyboardBuggyModeEnd","buggyMode","insertingLongTextAfterUnidentifiedChar","or","innerText","inputType","isBeforeInputInsertText","previousEventWasUnidentifiedKeydown","ar","sr","lr","mutationObserver","flakyKeyboardDetector","handlerFor","editorWillSyncDocumentView","editorDidSyncDocumentView","requestRender","inputControllerDidRequestRender","requestReparse","inputControllerDidRequestReparse","all","handleInput","inputControllerWillAttachFiles","responder","defaultPrevented","inputControllerWillHandleInput","inputControllerDidHandleInput","createLinkHTML","cr","ur","hr","dr","gr","resetInputSummary","setInputSummary","inputSummary","isComposing","inputControllerDidAllowUnhandledInput","mutationIsExpected","preferDocument","didDelete","compositionInput","getEndData","getCompositionInput","vr","isEnded","serializeSelectionToDataTransfer","setData","canAcceptDataTransfer","Files","getPastedHTMLUsingHiddenElement","requestAnimationFrame","didInput","keyName","inputControllerDidReceiveKeyboardCommand","keypress","altKey","fr","inputControllerWillPerformTyping","textInput","dragenter","dragstart","dataTransfer","draggedRange","inputControllerDidStartDrag","dragover","clientX","clientY","draggingPoint","inputControllerDidReceiveDragOverPoint","dragend","inputControllerDidCancelDrag","drop","inputControllerWillMoveText","cut","clipboardData","inputControllerWillCutText","paste","testClipboardData","clipboard","br","inputControllerWillPaste","inputControllerDidPaste","getAsFile","mr","compositionstart","compositionupdate","compositionend","beforeinput","backspace","tab","right","control","shift","meta","pr","which","charCode","inputController","isSignificant","canApplyToDocument","Ar","scheduledRender","composing","reparse","scheduleRender","cancelAnimationFrame","afterRender","toggleAttributeIfSupported","inputControllerWillPerformFormatting","activateAttributeIfSupported","getTargetDOMRange","minLength","getTargetRanges","yr","withEvent","Rr","Er","Sr","inputTypes","dragging","point","kr","xr","ArrowLeft","ArrowRight","Backspace","Tab","deleteByComposition","deleteByCut","deleteByDrag","deleteByDragRange","deleteCompositionText","deleteContent","deleteContentBackward","deleteContentForward","deleteEntireSoftLine","deleteHardLineBackward","deleteHardLineForward","deleteSoftLineBackward","deleteSoftLineForward","deleteWordBackward","deleteWordForward","formatBackColor","formatBold","formatFontColor","formatFontName","formatIndent","formatItalic","formatJustifyCenter","formatJustifyFull","formatJustifyLeft","formatJustifyRight","formatOutdent","formatRemove","formatSetBlockTextDirection","formatSetInlineTextDirection","formatStrikeThrough","formatSubscript","formatSuperscript","formatUnderline","historyRedo","inputControllerWillPerformRedo","historyUndo","inputControllerWillPerformUndo","insertCompositionText","insertFromComposition","insertFromDrop","insertFromPaste","Cr","insertFromYank","insertLink","insertOrderedList","insertParagraph","insertReplacementText","insertTranspose","insertUnorderedList","Tr","wr","Lr","Dr","Nr","Ir","Or","Fr","Mr","Pr","Br","didClickAttributeButton","didClickDialogButton","didKeyDownDialogInput","actions","resetDialogInputs","toolbarDidClickButton","getDialog","toggleDialog","toolbarDidInvokeAction","toolbarDidToggleAttribute","refreshAttributeButtons","hideDialog","updateActions","refreshActionButtons","eachActionButton","disabled","updateAttributes","eachAttributeButton","dialogIsVisible","applyKeyboardCommand","showDialog","toolbarWillShowDialog","toolbarDidShowDialog","willValidate","setCustomValidity","checkValidity","isSafeAttribute","toolbarDidUpdateAttribute","toolbarDidRemoveAttribute","toolbarDidHideDialog","_r","editorElement","compositionController","toolbarController","toolbarElement","notifyEditorElement","handlingInput","updateCurrentActions","pasting","pastedRange","attachmentLocationRange","loadingSnapshot","isFocused","requestedLocationRange","compositionRevisionWhenLocationRangeRequested","renderedCompositionRevision","runEditorFilters","isFocusedInvisibly","recordTypingUndoEntry","recordFormattingUndoEntry","locationRangeBeforeDrag","invokeAction","selectionFrozen","dialogName","canInvokeAction","actionIsExternal","actionName","invokingElement","getCurrentActions","currentActions","updateInputElement","setFormValue","documentChangedSinceLastRender","notify","getUndoContext","getLocationContext","getTimeContext","jr","AttachmentEditorController","CompositionController","Controller","EditorController","InputController","ToolbarController","Wr","SelectionChangeObserver","Ur","FileVerificationOperation","ImagePreloadOperation","Vr","connectedCallback","zr","Jr","queryCommandSupported","execCommand","Kr","Gr","Yr","WeakMap","Xr","WeakSet","$r","attachInternals","Zr","disconnectedCallback","labels","inputElement","toggleAttribute","required","validity","validationMessage","reportValidity","setValidity","valueMissing","customError","Qr","to","eo","io","no","ro","formAssociated","localName","internalToolbar","nextElementSibling","editorController","defaultValue","attributeChangedCallback","isConnected","reconnect","Hr","removeInternalToolbar","formDisabledCallback","formResetCallback","oo","VERSION","config","models","views","observers","operations","TrixEditorElement","TrixToolbarElement","Filter","attachmentGalleryFilter","Trix","customElements","define","targets","Chart","chart","getContext","labelsTarget","datasets","datasetsTarget","replacement","actorId","replaceWith","_check","check","inputTarget","buttonTargets","enabled","EventListener","eventTarget","eventOptions","unorderedBindings","bindingConnected","binding","bindingDisconnected","delete","handleEvent","extendedEvent","stopImmediatePropagation","immediatePropagationStopped","extendEvent","bindings","hasBindings","leftIndex","rightIndex","Dispatcher","application","eventListenerMaps","Map","eventListener","reduce","listeners","fetchEventListenerForBinding","clearEventListeners","clearEventListenersForBinding","handleError","message","removeMappedEventListenerFor","eventListenerMap","fetchEventListenerMapForEventTarget","cacheKey","fetchEventListener","createEventListener","parts","defaultActionDescriptorFilters","prevent","self","descriptorPattern","camelize","char","namespaceCamelize","capitalize","dasherize","isSomething","hasProperty","allModifiers","Action","descriptor","schema","defaultEventNames","getDefaultEventNameForElement","identifier","methodName","keyFilter","forToken","token","descriptorString","eventTargetName","parseActionDescriptorString","eventFilter","shouldIgnoreKeyboardEvent","keyFilterDissatisfied","standardFilter","keyMappings","shouldIgnoreMouseEvent","pattern","typecast","ctrl","modifier","button","details","textarea","o_O","Binding","action","actionEvent","prepareActionEvent","willBeInvokedByEvent","applyEventModifiers","invokeWithEvent","method","actionDescriptorFilters","passes","currentTarget","logDebugActivity","KeyboardEvent","MouseEvent","scope","containsElement","ElementObserver","mutationObserverInit","processMutations","pause","callback","takeRecords","matchElementsInTree","removeElement","addElement","mutation","processMutation","processAttributeChange","processRemovedNodes","processAddedNodes","elementAttributeChanged","matchElement","node","elementFromNode","processTree","elementIsActive","tree","processor","elementMatched","elementUnmatched","AttributeObserver","elementObserver","elementMatchedAttribute","elementUnmatchedAttribute","elementAttributeValueChanged","Multimap","valuesByKey","prune","del","hasKey","hasValue","getValuesForKey","getKeysForValue","_key","_values","SelectorObserver","_selector","matchesByElement","selectorMatchElement","selectorMatched","selectors","selectorUnmatched","_attributeName","matchedBefore","StringMapObserver","stringMap","attributeOldValue","knownAttributeNames","refreshAttribute","getStringMapKeyForAttribute","stringMapKeyAdded","stringMapValueChanged","stringMapKeyRemoved","currentAttributeNames","recordedAttributeNames","TokenListObserver","attributeObserver","tokensByElement","tokensMatched","readTokensForElement","unmatchedTokens","matchedTokens","refreshTokensForElement","tokensUnmatched","tokens","tokenMatched","tokenUnmatched","previousTokens","currentTokens","firstDifferingIndex","zip","findIndex","previousToken","currentToken","tokenString","parseTokenString","ValueListObserver","tokenListObserver","parseResultsByToken","valuesByTokenByElement","fetchParseResultForToken","fetchValuesByTokenForElement","elementMatchedValue","elementUnmatchedValue","parseResult","parseToken","valuesByToken","parseValueForToken","BindingObserver","bindingsByAction","valueListObserver","actionAttribute","disconnectAllActions","connectAction","disconnectAction","clear","ValueObserver","receiver","stringMapObserver","valueDescriptorMap","invokeChangedCallbacksForDefaultValues","invokeChangedCallback","writer","valueDescriptorNameMap","valueDescriptors","rawValue","rawOldValue","changedMethodName","changedMethod","reader","descriptors","hasMethodName","TargetObserver","targetsByName","disconnectAllTargets","connectTarget","disconnectTarget","targetConnected","targetDisconnected","readInheritableStaticArrayValues","propertyName","ancestors","getAncestorsForConstructor","definition","getOwnStaticArrayValues","OutletObserver","outletsByName","outletElementsByName","selectorObserverMap","attributeObserverMap","outletDefinitions","outletName","setupSelectorObserverForOutlet","setupAttributeObserverForOutlet","dependentContexts","disconnectAllOutlets","stopSelectorObservers","stopAttributeObservers","outlet","getOutlet","connectOutlet","getOutletFromMap","disconnectOutlet","hasOutlet","hasOutletController","controllerAttribute","getOutletNameFromOutletAttributeName","updateSelectorObserverForOutlet","outletConnected","outletDisconnected","selectorObserver","attributeNameForOutletName","outlets","getSelectorForOutletName","outletAttributeForScope","outletDependencies","dependencies","router","modules","controllerConstructor","dependentControllerIdentifiers","identifiers","contexts","getControllerForElementAndIdentifier","Context","functionName","bindingObserver","dispatcher","valueObserver","targetObserver","outletObserver","initialize","invokeControllerMethod","args","getOwnKeys","getOwnPropertySymbols","getOwnPropertyNames","extend","extendWithReflect","extended","testReflectExtension","Module","properties","shadowConstructor","shadowProperties","shadowingDescriptor","getShadowedDescriptor","getShadowProperties","defineProperties","shadow","blessedProperties","blessing","getBlessedProperties","blessDefinition","contextsByScope","connectedContexts","connectContextForScope","fetchContextForScope","disconnectContextForScope","ClassMap","getDataKey","getAll","getAttributeName","getAttributeNameForKey","DataMap","Guide","logger","warnedKeysByObject","warnedKeys","attributeValueContainsToken","TargetSet","targetName","targetNames","findTarget","findLegacyTarget","findAll","findAllTargets","findAllLegacyTargets","getSelectorForTargetName","findAllElements","targetAttributeForScope","getLegacySelectorForTargetName","deprecate","targetDescriptor","targetAttribute","revisedAttributeName","guide","OutletSet","controllerElement","outletNames","findOutlet","findAllOutlets","queryElements","matchesElement","Scope","classes","controllerSelector","documentScope","isDocumentScope","ScopeObserver","scopesByIdentifierByElement","scopeReferenceCounts","parseValueForElementAndIdentifier","scopesByIdentifier","fetchScopesByIdentifierForElement","createScopeForElementAndIdentifier","referenceCount","scopeConnected","scopeDisconnected","Router","scopeObserver","modulesByIdentifier","loadDefinition","unloadIdentifier","connectModule","afterLoad","disconnectModule","getContextForElementAndIdentifier","proposeToConnectScopeForElementAndIdentifier","defaultSchema","enter","esc","space","up","down","home","page_up","page_down","objectFromEntries","memo","Application","debug","logFormattedMessage","readyState","register","registerActionOption","rest","shouldLoad","unload","groupCollapsed","groupEnd","getOutletController","getControllerAndEnsureConnectedScope","outletController","parseValueDefinitionPair","typeDefinition","payload","typeFromObject","typeObject","hasType","hasDefault","fullObject","onlyType","onlyDefault","parseValueTypeConstant","typeFromDefaultValue","parseValueTypeDefault","parseValueTypeObject","typeFromConstant","parseValueTypeDefinition","constant","defaultValuesByType","constantFromType","defaultValueForDefinition","hasCustomDefaultValue","readers","writers","valueDescriptorForTokenAndTypeDefinition","boolean","writeJSON","_identifier","_application","dispatch","blessings","classDefinition","targetDefinition","valueDefinitionPairs","pairs","getOwnStaticObjectPairs","readInheritableStaticObjectPairs","propertyDescriptorMap","result","valueDefinitionPair","valueDescriptor","propertiesForValueDefinitionPair","read","write","outletDefinition","camelizedName","outletElement","propertiesForOutletDefinition","language","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","chunkId","promises","miniCssF","globalThis","obj","prop","script","needAttach","scripts","charset","nc","onScriptComplete","prev","doneFns","toStringTag","scriptUrl","importScripts","installedChunks","installedChunkData","errorType","realSrc","request","webpackJsonpCallback","parentChunkLoadingFunction","chunkIds","moreModules","runtime","chunkLoadingGlobal","raise","errorConstructor","requestSubmit","submitter","DOMException","validateSubmitter","submittersByForm","clickCaptured","candidate","findSubmitterFromClickTarget","Event","prototypeOfSubmitEvent","SubmitEvent","vendor","FrameLoadingStyle","FrameElement","static","observedAttributes","delegateConstructor","reload","sourceURLReloaded","loadingStyleChanged","sourceURLChanged","disabledChanged","shouldReloadWithMorph","loading","autoscroll","isLoading","isActive","isPreview","drive","progressBarDelay","unvisitableExtensions","activateScriptElement","createdScriptElement","cspNonce","getCspNonce","async","destinationElement","sourceElement","copyElementAttributes","composed","cancelEvent","nextRepaint","visibilityState","nextEventLoopTick","nextAnimationFrame","parseHTMLDocument","unindent","lines","interpolate","line","markAsBusy","clearBusyState","waitForLoad","timeoutInMilliseconds","onComplete","getHistoryMethodForAction","history","replaceState","pushState","getVisitAction","isAction","getMetaElement","getMetaContent","findClosestRecursively","assignedSlot","getRootNode","elementIsFocusable","queryAutofocusableElement","elementOrDocumentFragment","doesNotTargetIFrame","getElementsByName","HTMLIFrameElement","findLinkFromClickTarget","getLocationForLink","expandURL","beforeSubmit","afterSubmit","forms","locatable","baseURI","getAnchor","anchorMatch","hash","getAction$1","locationIsVisitable","rootLocation","baseURL","origin","pathname","endsWith","getPrefix","isPrefixedBy","getPathComponents","getLastPathComponent","getRequestURL","anchor","toCacheKey","FetchResponse","ok","failed","clientError","statusCode","serverError","redirected","isHTML","header","responseText","clone","responseHTML","headers","LimitedSet","maxSize","oldestValue","recentRequests","nativeFetch","fetchWithTurboHeaders","modifiedHeaders","Headers","requestUID","fetchMethodFromString","FetchMethod","post","put","patch","FetchEnctype","FetchRequest","abortController","AbortController","_value","requestBody","URLSearchParams","enctype","buildResourceAndBody","fetchOptions","credentials","redirect","defaultHeaders","signal","abortSignal","referrer","fetchBody","isSafe","searchParams","fetchMethod","search","prepareRequest","requestStarted","fetchRequest","receive","requestErrored","requestFinished","fetchResponse","requestPreventedHandlingResponse","requestSucceededWithResponse","requestFailedWithResponse","Accept","acceptResponseType","mimeType","requestInterception","resume","resource","entriesExcludingFiles","mergeIntoURLSearchParams","File","AppearanceObserver","intersectionObserver","IntersectionObserver","intersect","unobserve","lastEntry","isIntersecting","elementAppearedInViewport","StreamMessage","fragment","streamElement","inertScriptElement","templateElement","importStreamElements","prefetchCache","expire","setLater","ttl","FormSubmissionState","initialized","requesting","waiting","receiving","stopping","stopped","FormSubmission","state","confirmMethod","confirm","formElement","mustRedirect","getMethod","formAction","getAction","formElementAction","getFormAction","formData","buildFormData","encoding","fetchEnctypeFromString","getEnctype","confirmationMessage","cookieName","cookie","decodeURIComponent","getCookieValue","requestAcceptsTurboStreamResponse","_request","setSubmitsWith","formSubmission","formSubmissionStarted","success","formSubmissionFailedWithResponse","requestMustRedirect","responseSucceededWithoutRedirect","formSubmissionErrored","formSubmissionSucceededWithResponse","resetSubmitterText","formSubmissionFinished","submitsWith","originalSubmitText","Snapshot","hasAnchor","getElementForAnchor","firstAutofocusableElement","permanentElements","queryPermanentElementsAll","getPermanentElementById","getPermanentElementMapForSnapshot","permanentElementMap","currentPermanentElement","newPermanentElement","FormSubmitObserver","submitCaptured","submitBubbled","submissionDoesNotDismissDialog","submissionDoesNotTargetIFrame","willSubmitForm","formSubmitted","View","scrollToAnchor","scrollToElement","focusElement","scrollToPosition","scrollToAnchorFromLocation","scrollIntoView","scrollRoot","scrollTo","scrollToTop","renderer","shouldRender","willRender","newSnapshot","shouldInvalidate","renderPromise","prepareToRenderSnapshot","renderInterception","renderElement","renderMethod","allowsImmediateRender","renderSnapshot","viewRenderedSnapshot","preloadOnLoadLinksForView","finishRenderingSnapshot","reloadReason","reason","viewInvalidated","markAsPreview","prepareToRender","markVisitDirection","unmarkVisitDirection","finishRendering","FrameView","missing","LinkInterceptor","clickBubbled","linkClicked","willVisit","clickEventIsSignificant","clickEvent","shouldInterceptLinkClick","originalEvent","linkClickIntercepted","_event","LinkClickObserver","composedPath","willFollowLinkToLocation","followedLinkToLocation","isContentEditable","FormLinkClickObserver","linkInterceptor","canPrefetchRequestToLocation","prefetchAndCacheRequestToLocation","willSubmitFormLinkToLocation","turboFrame","turboAction","turboConfirm","submittedFormLinkToLocation","Bardo","preservingPermanentElements","bardo","leave","enteringBardo","replaceNewPermanentElementWithPlaceholder","replaceCurrentPermanentElementWithClone","replacePlaceholderWithPermanentElement","leavingBardo","permanentElement","createPlaceholderForPermanentElement","getPlaceholderById","placeholders","Renderer","currentElement","newElement","currentSnapshot","resolvingFunctions","shouldAutofocus","focusFirstAutofocusableElement","connectedSnapshot","FrameRenderer","destinationRange","selectNodeContents","deleteContents","frameElement","sourceRange","extractContents","loadFrameElement","scrollFrameIntoView","activateScriptElements","willRenderFrame","behavior","readScrollBehavior","newScriptElements","activatedScriptElement","Idiomorph","noOp","defaults","morphStyle","callbacks","beforeNodeAdded","afterNodeAdded","beforeNodeMorphed","afterNodeMorphed","beforeNodeRemoved","afterNodeRemoved","beforeAttributeUpdated","shouldPreserve","elt","shouldReAppend","shouldRemove","afterHeadMorphed","restoreFocus","morphChildren","createNode","oldParent","newChild","insertionPoint","ctx","idMap","newEmptyChild","morphNode","newClonedChild","findBestMatch","isIdSetMatch","oldNode","newNode","oldSet","newSet","isSoftMatch","oldElt","newElt","startPoint","endPoint","softMatch","siblingSoftMatchCount","cursor","removeNode","moveBefore","pantry","removeNodesBetween","startInclusive","endExclusive","tempNode","moveBeforeById","after","idSet","removeElementFromAncestorsIdMaps","newParent","bestMatch","persistentIds","movedChild","insertedNode","syncBooleanAttribute","oldElement","newLiveValue","ignoreUpdate","ignoreAttribute","updateType","ignoreActiveValue","ignoreValueOfActiveElement","possibleActiveElement","newContent","ignoreActive","HTMLHeadElement","ignore","handleHeadElement","oldAttributes","newAttributes","newAttribute","oldAttribute","HTMLInputElement","newValue","HTMLOptionElement","HTMLTextAreaElement","nodeValue","syncInputValue","morphAttributes","oldHead","newHead","preserved","nodesToAppend","srcToNewHeadNodes","newHeadChild","currentHeadElt","inNewContent","isReAppended","isPreserved","createContextualFragment","_resolve","removedElement","kept","createMorphContext","createPantry","insertAdjacentElement","findIdElements","root","populateIdMapWithTree","current","oldContent","oldIdElements","newIdElements","duplicateIds","oldIdTagNameMap","createPersistentIds","__idiomorphRoot","createIdMaps","mergedConfig","finalConfig","mergeDefaults","normalizeElement","normalizeParent","generatedByIdiomorph","contentWithSvgsRemoved","htmlElement","parseContent","createDuckTypedParent","dummyParent","morph","morphedNodes","activeElementId","selectionStart","selectionEnd","results","setSelectionRange","saveAndRestoreFocus","newCtx","withHeadBlocking","rightMargin","morphOuterHTML","morphElements","DefaultIdiomorphCallbacks","mutationType","MorphingFrameRenderer","ProgressBar","defaultCSS","animationDuration","hiding","visible","stylesheetElement","createStylesheetElement","createProgressElement","installStylesheetElement","setValue","installProgressElement","startTrickling","hide","fadeProgressElement","uninstallProgressElement","stopTrickling","trickleInterval","setInterval","trickle","clearInterval","HeadSnapshot","detailsByOuterHTML","elementIsNoscript","elementWithoutNonce","elementType","tracked","elementIsTracked","trackedElementSignature","getScriptElementsNotInSnapshot","getElementsMatchingTypeNotInSnapshot","getStylesheetElementsNotInSnapshot","matchedType","provisionalElements","getMetaValue","findMetaElementByName","elementIsMetaElementWithName","elementIsScript","elementIsStylesheet","PageSnapshot","fromHTMLString","fromDocument","fromElement","headSnapshot","clonedElement","selectElements","clonedSelectElements","option","selectedOptions","selected","clonedPasswordInput","headElement","getSetting","cacheControlValue","isCacheable","isVisitable","prefersViewTransitions","shouldMorphPage","shouldPreserveScrollPosition","ViewTransitioner","renderChange","useViewTransition","viewTransitionsAvailable","startViewTransition","finished","defaultOptions","historyChanged","visitCachedSnapshot","updateHistory","shouldCacheSnapshot","acceptsStreamResponse","VisitState","Direction","advance","restore","Visit","timingMetrics","followedRedirect","scrolled","snapshotCached","viewTransitioner","restorationIdentifier","snapshotHTML","isSamePage","locationWithActionIsSamePage","isPageRefresh","view","adapter","restorationData","getRestorationDataForIdentifier","silent","recordTimingMetric","visitStarted","cancelRender","visitCompleted","followRedirect","fail","visitFailed","changeHistory","issueRequest","hasPreloadedResponse","simulateRequest","shouldIssueRequest","startRequest","recordResponse","finishRequest","visitRequestStarted","isSuccessful","visitRequestCompleted","visitRequestFailedWithStatusCode","visitRequestFinished","loadResponse","cacheSnapshot","renderPageSnapshot","visitRendered","renderError","getCachedSnapshot","getCachedSnapshotForLocation","getPreloadedSnapshot","hasCachedSnapshot","loadCachedSnapshot","redirectedToLocation","visitProposedToLocation","goToSamePageAnchor","performScroll","_response","_error","forceReloaded","scrollToRestoredPosition","visitScrolledToSamePageLocation","lastRenderedLocation","scrollPosition","metric","getTimingMetrics","frame","shouldTransitionTo","renderPage","BrowserAdapter","progressBar","session","startVisit","showVisitProgressBarAfterDelay","showProgressBar","_visit","hideVisitProgressBar","pageInvalidated","linkPrefetchingIsEnabledForLocation","_formSubmission","showFormProgressBarAfterDelay","hideFormProgressBar","visitProgressBarTimeout","formProgressBarTimeout","CacheObserver","deprecatedSelector","removeTemporaryElements","temporaryElements","temporaryElementsWithDeprecation","FrameRedirector","formSubmitObserver","_location","submissionIsNavigatable","elementIsNavigatable","History","pageLoaded","currentIndex","onPopState","onPageLoad","turbo","restorationIndex","updateRestorationData","additionalData","assumeControlOfScrollRestoration","previousScrollRestoration","scrollRestoration","relinquishControlOfScrollRestoration","shouldHandlePopState","historyPoppedToLocationWithRestorationIdentifierAndDirection","pageIsLoaded","LinkPrefetchObserver","capture","passive","cached","turboFrameTarget","unfetchableLink","linkToTheSamePage","linkOptsOut","nonSafeLink","eventPrevented","turboPrefetchParent","turboMethod","isUJS","Navigator","proposeVisit","allowsVisitingLocationWithAction","currentVisit","submitForm","clearSnapshotCache","visitOptions","currentAnchor","isRestorationToTop","oldURL","newURL","PageObserver","stage","interpretReadyState","pageWillUnload","pageIsInteractive","pageIsComplete","pageBecameInteractive","ScrollObserver","onScroll","scrollPositionChanged","StreamMessageRenderer","permanentElementsInDocument","permanentElementInDocument","elementInStream","getPermanentElementMapForFragment","generatedID","elementWithAutofocus","nodeListOfStreamElements","firstAutofocusableElementInStreams","willAutofocusId","elementToAutofocus","withAutofocusFromFragment","activeElementBeforeRender","activeElementAfterRender","before","around","restoreFocusTo","elementToFocus","withPreservedFocus","StreamObserver","inspectFetchResponse","connectStreamSource","streamSourceIsConnected","receiveMessageEvent","disconnectStreamSource","fetchResponseFromEvent","fetchResponseIsStream","receiveMessageResponse","receiveMessageHTML","receivedMessageFromStream","ErrorRenderer","replaceHeadAndBody","replaceableElement","scriptElements","PageRenderer","HTMLBodyElement","trackedElementsAreIdentical","mergeHead","replaceBody","currentHeadSnapshot","newHeadSnapshot","mergedHeadElements","mergeProvisionalElements","newStylesheetElements","copyNewHeadStylesheetElements","copyNewHeadScriptElements","removeUnusedDynamicStylesheetElements","activateNewBody","assignNewBody","loadingElements","newHeadStylesheetElements","newHeadScriptElements","unusedDynamicStylesheetElements","newHeadElements","newHeadProvisionalElements","currentHeadProvisionalElements","isCurrentElementInElementList","elementList","isEqualNode","removeCurrentHeadProvisionalElements","copyNewHeadProvisionalElements","adoptNode","activateNewBodyScriptElements","newBodyScriptElements","oldHeadStylesheetElements","MorphingPageRenderer","canRefreshFrame","SnapshotCache","snapshots","touch","PageView","snapshotCache","viewWillCacheSnapshot","cachedSnapshot","Preloader","shouldPreloadLink","Cache","clearCache","resetCacheControl","exemptPageFromCache","exemptPageFromPreview","setMetaContent","extendURLWithDeprecatedProperties","deprecatedLocationPropertyDescriptors","absoluteURL","pageObserver","cacheObserver","linkPrefetchObserver","linkClickObserver","scrollObserver","streamObserver","formLinkClickObserver","frameRedirector","streamMessageRenderer","cache","preloader","debouncedRefresh","pageRefreshDebouncePeriod","disable","registerAdapter","proposeVisitIfNavigatedWithAction","requestId","isRecentRequest","isCurrentUrl","renderStreamMessage","setProgressBarDelay","formMode","timeoutId","debounce","isUnsafe","isStream","frameTarget","applicationAllowsFollowingLinkToLocation","getActionForLink","applicationAllowsVisitingLocation","notifyApplicationAfterVisitingLocation","notifyApplicationAfterPageLoad","notifyApplicationAfterVisitingSamePageLocation","notifyApplicationBeforeCachingSnapshot","notifyApplicationBeforeRender","_snapshot","_isPreview","notifyApplicationAfterRender","frameLoaded","notifyApplicationAfterFrameLoad","frameRendered","notifyApplicationAfterFrameRender","ev","notifyApplicationAfterClickingLinkToLocation","notifyApplicationBeforeVisitingLocation","newBody","timing","HashChangeEvent","submitterIsNavigatable","withinFrame","navigator$1","setConfirmMethod","setFormMode","TurboFrameMissingError","getFrameElementById","activateElement","currentURL","StreamActions","targetElements","templateContent","removeDuplicateTargetChildren","targetElement","StreamElement","performAction","beforeRenderEvent","duplicateChildren","existingChildren","flatMap","newChildrenIds","actionFunction","targetElementsById","targetElementsByQuery","newStream","StreamSourceElement","streamSource","WebSocket","EventSource","close","fetchResponseLoaded","_fetchResponse","appearanceObserver","loadingStyle","sourceURL","currentNavigationElement","newFrame","_renderMethod","_newElement","previousFrameElement","replaceChildren","newFrameElement","extractForeignFrameElement","rendererClass","pageSnapshot","Response","wrapped","CSS","escape","logicalName","identifierForContextKey","definitionForModuleAndIdentifier","definitionForModuleWithContextAndKey","definitionsFromContext","pre","sub","sup","closed","checking","turboStreamSource","checkConnectivity","isOnline"],"sourceRoot":""}